<!--
SPDX-FileCopyrightText: 2019-2020 Intel Corporation

SPDX-License-Identifier: MIT
-->



<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Open Image Denoise API &#8212; oneAPI Specification 1.2-rev-1 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" href="../../../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinxmark.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/sphinx_highlight.js"></script>
    <script src="../../../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script src="../../../_static/custom.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'elements/oneART/source/oidn-spec';</script>
    <link rel="icon" href="../../../_static/favicons.png"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="OSPRay" href="ospray.html" />
    <link rel="prev" title="Introduction" href="oidn-intro.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the spec..."
         aria-label="Search the spec..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../../../index.html">
  
  
  
  
    
    
      
    
    
    <img src="../../../_static/oneAPI-rgb-rev-100.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../../../_static/oneAPI-rgb-rev-100.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../architecture.html">Software Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sycl/source/index.html">SYCL</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../oneDPL/source/index.html">oneDPL</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../oneDPL/source/common.html">Namespaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../oneDPL/source/parallel_api.html">Parallel API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../oneDPL/source/sycl_kernels_api.html">SYCL Kernels API</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../oneDNN/source/index.html">oneDNN</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../oneDNN/source/introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../oneDNN/source/conventions.html">Conventions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../oneDNN/source/execution_model/index.html">Execution Model</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../oneDNN/source/data_model/index.html">Data model</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneDNN/source/data_model/data_types/index.html">Data types</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/data_model/data_types/bfloat16.html">Bfloat16</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/data_model/data_types/int8.html">Int8</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneDNN/source/data_model/memory/index.html">Memory</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/data_model/memory/formats.html">Memory Formats</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/data_model/memory/objects.html">Memory Descriptors and Objects</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../oneDNN/source/primitives/index.html">Primitives</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../oneDNN/source/primitives/general.html">Common Definitions</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneDNN/source/primitives/attributes/index.html">Attributes</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-7"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/primitives/attributes/post-ops.html">Post-ops</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../oneDNN/source/primitives/batch_normalization.html">Batch Normalization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneDNN/source/primitives/binary.html">Binary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneDNN/source/primitives/concat.html">Concat</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneDNN/source/primitives/convolution.html">Convolution and Deconvolution</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneDNN/source/primitives/eltwise.html">Elementwise</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneDNN/source/primitives/inner-product.html">Inner Product</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneDNN/source/primitives/layer_normalization.html">Layer normalization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneDNN/source/primitives/lrn.html">Local Response Normalization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneDNN/source/primitives/matmul.html">Matrix Multiplication</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneDNN/source/primitives/pooling.html">Pooling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneDNN/source/primitives/prelu.html">Prelu</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneDNN/source/primitives/reduction.html">Reduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneDNN/source/primitives/reorder.html">Reorder</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneDNN/source/primitives/resampling.html">Resampling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneDNN/source/primitives/rnn.html">RNN</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneDNN/source/primitives/shuffle.html">Shuffle</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneDNN/source/primitives/softmax.html">Softmax</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneDNN/source/primitives/sum.html">Sum</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../oneDNN/source/graph/index.html">Graph extension</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-8"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../oneDNN/source/graph/general.html">Common Definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneDNN/source/graph/programming_model.html">Programming Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneDNN/source/graph/data_model.html">Data Model</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneDNN/source/graph/ops/index.html">Operation Set</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-9"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Abs.html">Abs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/AbsBackward.html">AbsBackward</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Add.html">Add</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/AvgPool.html">AvgPool</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/AvgPoolBackward.html">AvgPoolBackward</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/BatchNormForwardTraining.html">BatchNormForwardTraining</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/BatchNormInference.html">BatchNormInference</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/BatchNormTrainingBackward.html">BatchNormTrainingBackward</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/BiasAdd.html">BiasAdd</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/BiasAddBackward.html">BiasAddBackward</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Clamp.html">Clamp</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/ClampBackward.html">ClampBackward</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Concat.html">Concat</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/ConvTranspose.html">ConvTranspose</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/ConvTransposeBackwardData.html">ConvTransposeBackwardData</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/ConvTransposeBackwardWeights.html">ConvTransposeBackwardWeights</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Convolution.html">Convolution</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/ConvolutionBackwardData.html">ConvolutionBackwardData</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/ConvolutionBackwardWeights.html">ConvolutionBackwardWeights</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Dequantize.html">Dequantize</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Divide.html">Divide</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/DynamicDequantize.html">DynamicDequantize</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/DynamicQuantize.html">DynamicQuantize</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Elu.html">Elu</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/EluBackward.html">EluBackward</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/End.html">End</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Exp.html">Exp</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/GELU.html">GELU</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/GELUBackward.html">GELUBackward</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/HardSigmoid.html">HardSigmoid</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/HardSigmoidBackward.html">HardSigmoidBackward</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/HardSwish.html">HardSwish</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/HardSwishBackward.html">HardSwishBackward</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Interpolate.html">Interpolate</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/InterpolateBackward.html">InterpolateBackward</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/LayerNorm.html">LayerNorm</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/LayerNormBackward.html">LayerNormBackward</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/LeakyReLU.html">LeakyReLU</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Log.html">Log</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/LogSoftmax.html">LogSoftmax</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/LogSoftmaxBackward.html">LogSoftmaxBackward</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/MatMul.html">MatMul</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/MaxPool.html">MaxPool</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/MaxPoolBackward.html">MaxPoolBackward</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Maximum.html">Maximum</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Minimum.html">Minimum</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Mish.html">Mish</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/MishBackward.html">MishBackward</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Multiply.html">Multiply</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Pow.html">Pow</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/PReLU.html">PReLU</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/PReLUBackward.html">PReLUBackward</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Quantize.html">Quantize</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/ReLU.html">ReLU</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/ReLUBackward.html">ReLUBackward</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Reciprocal.html">Reciprocal</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/ReduceL1.html">ReduceL1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/ReduceL2.html">ReduceL2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/ReduceMax.html">ReduceMax</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/ReduceMean.html">ReduceMean</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/ReduceMin.html">ReduceMin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/ReduceProd.html">ReduceProd</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/ReduceSum.html">ReduceSum</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Reorder.html">Reorder</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Round.html">Round</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Select.html">Select</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Sigmoid.html">Sigmoid</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/SigmoidBackward.html">SigmoidBackward</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/SoftPlus.html">SoftPlus</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/SoftPlusBackward.html">SoftPlusBackward</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Softmax.html">SoftMax</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/SoftmaxBackward.html">SoftMaxBackward</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Sqrt.html">Sqrt</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/SqrtBackward.html">SqrtBackward</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Square.html">Square</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/SquaredDifference.html">SquaredDifference</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/StaticReshape.html">StaticReshape</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/StaticTranspose.html">StaticTranspose</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Subtract.html">Subtract</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Tanh.html">Tanh</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/TanhBackward.html">TanhBackward</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/TypeCast.html">TypeCast</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Wildcard.html">Wildcard</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../oneCCL/source/index.html">oneCCL</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-10"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../oneCCL/source/introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../oneCCL/source/namespaces.html">Namespaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../oneCCL/source/spec_version.html">Current Version of this oneCCL Specification</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../oneCCL/source/definitions.html">Definitions</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-11"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../oneCCL/source/spec/main_objects.html">oneCCL Concepts</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneCCL/source/spec/operations.html">Communication Operations</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-12"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneCCL/source/spec/datatypes.html">Datatypes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneCCL/source/spec/reductions.html">Reductions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneCCL/source/spec/collective_operations.html">Collective Operations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneCCL/source/spec/operation_attributes.html">Operation Attributes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneCCL/source/spec/operation_progress.html">Operation Progress Tracking</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../oneCCL/source/spec/error_handling.html">Error handling</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../oneCCL/source/programming_model.html">Programming Model</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-13"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../oneCCL/source/spec/generic_workflow.html">Generic Workflow</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../l0/source/index.html">Level Zero</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../oneDAL/source/index.html">oneDAL</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-14"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../oneDAL/source/introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../oneDAL/source/glossary.html">Glossary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../oneDAL/source/notations.html">Mathematical Notations</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../oneDAL/source/programming_model/index.html">Programming model</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-15"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../oneDAL/source/programming_model/end_to_end_example.html">End-to-end example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneDAL/source/programming_model/descriptors.html">Descriptors</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneDAL/source/programming_model/operations/index.html">Operations</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-16"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneDAL/source/programming_model/operations/support.html">Supported operations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../oneDAL/source/programming_model/computational_modes.html">Computational modes</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../oneDAL/source/common_interface/index.html">Common Interface</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-17"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../oneDAL/source/common_interface/spec_version.html">Current Version of this oneDAL Specification</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneDAL/source/common_interface/header_files_and_namespaces.html">Header files</a></li>

<li class="toctree-l3"><a class="reference internal" href="../../oneDAL/source/common_interface/error_handling.html">Error handling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneDAL/source/common_interface/common_type_definitions.html">Common type definitions</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../oneDAL/source/data_management/index.html">Data management</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-18"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../oneDAL/source/data_management/array.html">Array</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneDAL/source/data_management/accessors.html">Accessors</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-19"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneDAL/source/data_management/accessor/column.html">Column accessor</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDAL/source/data_management/accessor/row.html">Row accessor</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneDAL/source/data_management/data_sources.html">Data Sources</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-20"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneDAL/source/data_management/csv_data_source.html">CSV data source</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneDAL/source/data_management/tables.html">Tables</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-21"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneDAL/source/data_management/table/homogen.html">Homogeneous table</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../oneDAL/source/algorithms/index.html">Algorithms</a><input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-22"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneDAL/source/algorithms/clustering/index.html">Clustering</a><input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-23"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneDAL/source/algorithms/clustering/kmeans.html">K-Means</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDAL/source/algorithms/clustering/kmeans_init.html">K-Means initialization</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneDAL/source/algorithms/nearest_neighbors/index.html">Nearest Neighbors (kNN)</a><input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-24"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneDAL/source/algorithms/nearest_neighbors/knn_classification.html">k-Nearest Neighbors Classification (k-NN)</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneDAL/source/algorithms/decomposition/index.html">Decomposition</a><input class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-25"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneDAL/source/algorithms/decomposition/pca.html">Principal Components Analysis (PCA)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../oneDAL/source/appendix/index.html">Appendix</a><input class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-26"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../oneDAL/source/appendix/kd_tree.html">k-d Tree</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../oneDAL/source/bibliography.html">Bibliography</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../oneTBB/source/nested-index.html">oneTBB</a><input class="toctree-checkbox" id="toctree-checkbox-27" name="toctree-checkbox-27" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-27"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../oneTBB/source/nested-gen-info.html">General Information</a><input class="toctree-checkbox" id="toctree-checkbox-28" name="toctree-checkbox-28" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-28"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../oneTBB/source/intro.html">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneTBB/source/notation.html">Notational Conventions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneTBB/source/identifiers.html">Identifiers</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneTBB/source/named_requirements.html">Named Requirements</a><input class="toctree-checkbox" id="toctree-checkbox-29" name="toctree-checkbox-29" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-29"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/algorithms/range.html">Range</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/algorithms/splittable.html">Splittable</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/algorithms/par_for_body.html">ParallelForBody</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/algorithms/par_for_func.html">ParallelForFunc</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/algorithms/par_for_index.html">ParallelForIndex</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/algorithms/par_reduce_body.html">ParallelReduceBody</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/algorithms/par_reduce_func.html">ParallelReduceFunc</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/algorithms/par_reduce_reduction.html">ParallelReduceReduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/algorithms/par_for_each_body.html">ParallelForEachBody</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/algorithms/container_based_sequence.html">ContainerBasedSequence</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/algorithms/par_scan_body.html">ParallelScanBody</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/algorithms/par_scan_combine.html">ParallelScanCombine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/algorithms/par_scan_func.html">ParallelScanFunc</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/algorithms/blocked_range_val.html">BlockedRangeValue</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/algorithms/filter_body.html">FilterBody</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/mutexes/mutex.html">Mutex</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/mutexes/rw_mutex.html">ReaderWriterMutex</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/containers/hash_compare.html">HashCompare</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/containers/container_range.html">ContainerRange</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/task_scheduler/suspend_func.html">SuspendFunc</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/flow_graph/async_node_body.html">AsyncNodeBody</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/flow_graph/continue_node_body.html">ContinueNodeBody</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/flow_graph/gateway_type.html">GatewayType</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/flow_graph/function_node_body.html">FunctionNodeBody</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/flow_graph/join_node_func_obj.html">JoinNodeFunctionObject</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/flow_graph/input_node_body.html">InputNodeBody</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/flow_graph/multifunction_node_body.html">MultifunctionNodeBody</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/flow_graph/sequencer.html">Sequencer</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../oneTBB/source/thread_safety.html">Thread Safety</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../oneTBB/source/nested-interfaces.html">oneTBB Interfaces</a><input class="toctree-checkbox" id="toctree-checkbox-30" name="toctree-checkbox-30" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-30"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneTBB/source/configuration.html">Configuration</a><input class="toctree-checkbox" id="toctree-checkbox-31" name="toctree-checkbox-31" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-31"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/configuration/namespaces.html">Namespaces</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/configuration/version_information.html">Version Information</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/configuration/enabling_debugging_features.html">Enabling Debugging Features</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/configuration/feature_macros.html">Feature Macros</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneTBB/source/algorithms.html">Algorithms</a><input class="toctree-checkbox" id="toctree-checkbox-32" name="toctree-checkbox-32" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-32"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/algorithms/functions/collaborative_call_once_func.html">collaborative_call_once</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/algorithms/functions/parallel_for_func.html">parallel_for</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/algorithms/functions/parallel_reduce_func.html">parallel_reduce</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/algorithms/functions/parallel_deterministic_reduce_func.html">parallel_deterministic_reduce</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/algorithms/functions/parallel_scan_func.html">parallel_scan</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/algorithms/functions/parallel_for_each_func.html">parallel_for_each</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/algorithms/functions/parallel_invoke_func.html">parallel_invoke</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/algorithms/functions/parallel_pipeline_func.html">parallel_pipeline</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/algorithms/functions/parallel_sort_func.html">parallel_sort</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/algorithms/blocked_ranges/blocked_range_cls.html">blocked_range</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/algorithms/blocked_ranges/blocked_range2d_cls.html">blocked_range2d</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/algorithms/blocked_ranges/blocked_range3d_cls.html">blocked_range3d</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/algorithms/partitioners/auto_partitioner.html">auto_partitioner</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/algorithms/partitioners/affinity_partitioner.html">affinity_partitioner</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/algorithms/partitioners/static_partitioner.html">static_partitioner</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/algorithms/partitioners/simple_partitioner.html">simple_partitioner</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/algorithms/split_tags/proportional_split_cls.html">proportional split</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/algorithms/split_tags/split_cls.html">split</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneTBB/source/flow_graph.html">Flow Graph</a><input class="toctree-checkbox" id="toctree-checkbox-33" name="toctree-checkbox-33" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-33"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/graph_cls.html">graph</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/graph_node_cls.html">graph_node</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/sender.html">sender</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/receiver.html">receiver</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/forwarding_and_buffering.html">Forwarding and Buffering</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/continue_node_cls.html">continue_node</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/func_node_cls.html">function_node</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/input_node_cls.html">input_node</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/multifunc_node_cls.html">multifunction_node</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/async_node_cls.html">async_node</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/functional_node_policies.html">Function Nodes Policies</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/node_priorities.html">Nodes Priorities</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/predefined_concurrency_limits.html">Predefined Concurrency Limits</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/copy_body_func.html">copy_body</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/overwrite_node_cls.html">overwrite_node</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/write_once_node_cls.html">write_once_node</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/buffer_node_cls.html">buffer_node</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/queue_node_cls.html">queue_node</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/priority_queue_node_cls.html">priority_queue_node</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/sequencer_node_cls.html">sequencer_node</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/limiter_node_cls.html">limiter_node</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/broadcast_node_cls.html">broadcast_node</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/join_node_cls.html">join_node</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/split_node_cls.html">split_node</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/indexer_node_cls.html">indexer_node</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/composite_node_cls.html">composite_node</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/input_port_func.html">input_port</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/output_port_func.html">output_port</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/make_edge_func.html">make_edge</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/remove_edge_func.html">remove_edge</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/continue_msg_cls.html">continue_msg</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/tagged_msg_cls.html">tagged_msg</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/dependency_flow_graph_example.html">Dependency Flow Graph Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/message_flow_graph_example.html">Message Flow Graph Example</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneTBB/source/task_scheduler.html">Task Scheduler</a><input class="toctree-checkbox" id="toctree-checkbox-34" name="toctree-checkbox-34" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-34"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/task_scheduler/scheduling_controls/task_group_context_cls.html">task_group_context</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/task_scheduler/scheduling_controls/global_control_cls.html">global_control</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/task_scheduler/scheduling_controls/resumable_tasks.html">Resumable tasks</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/task_scheduler/scheduling_controls/task_scheduler_handle_cls.html">task_scheduler_handle</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/task_scheduler/task_group/task_group_cls.html">task_group</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/task_scheduler/task_group/task_group_status_enum.html">task_group_status</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/task_scheduler/task_group/task_handle.html">task_handle</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/task_scheduler/task_arena/task_arena_cls.html">task_arena</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/task_scheduler/task_arena/this_task_arena_ns.html">this_task_arena</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/task_scheduler/task_arena/task_scheduler_observer_cls.html">task_scheduler_observer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/task_scheduler/attach_tag_type.html">attach tag type</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneTBB/source/containers.html">Containers</a><input class="toctree-checkbox" id="toctree-checkbox-35" name="toctree-checkbox-35" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-35"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/containers/concurrent_vector_cls.html">concurrent_vector</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/containers/concurrent_queue_cls.html">concurrent_queue</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/containers/concurrent_bounded_queue_cls.html">concurrent_bounded_queue</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/containers/concurrent_priority_queue_cls.html">concurrent_priority_queue</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/containers/concurrent_hash_map_cls.html">concurrent_hash_map</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/containers/concurrent_unordered_map_cls.html">concurrent_unordered_map</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/containers/concurrent_unordered_multimap.html">concurrent_unordered_multimap</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/containers/concurrent_unordered_set_cls.html">concurrent_unordered_set</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/containers/concurrent_unordered_multiset.html">concurrent_unordered_multiset</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/containers/concurrent_map_cls.html">concurrent_map</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/containers/concurrent_multimap_cls.html">concurrent_multimap</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/containers/concurrent_set_cls.html">concurrent_set</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/containers/concurrent_multiset_cls.html">concurrent_multiset</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/containers/auxiliary/tbb_hash_compare_cls.html">tbb_hash_compare</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/containers/auxiliary/node_handles_cls.html">Node handles</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneTBB/source/thread_local_storage.html">Thread Local Storage</a><input class="toctree-checkbox" id="toctree-checkbox-36" name="toctree-checkbox-36" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-36"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/thread_local_storage/combinable_cls.html">combinable</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/thread_local_storage/enumerable_thread_specific_cls.html">enumerable_thread_specific</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/thread_local_storage/flattened2d_cls.html">flattened2d</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../oneTBB/source/nested-aux-interfaces.html">oneTBB Auxiliary Interfaces</a><input class="toctree-checkbox" id="toctree-checkbox-37" name="toctree-checkbox-37" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-37"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneTBB/source/memory_allocation.html">Memory Allocation</a><input class="toctree-checkbox" id="toctree-checkbox-38" name="toctree-checkbox-38" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-38"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/memory_allocation/tbb_allocator_cls.html">tbb_allocator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/memory_allocation/scalable_allocator_cls.html">scalable_allocator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/memory_allocation/cache_aligned_allocator_cls.html">cache_aligned_allocator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/memory_allocation/cache_aligned_resource_cls.html">cache_aligned_resource</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/memory_allocation/scalable_memory_resource_func.html">scalable_memory_resource</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/memory_allocation/c_interface_to_scalable_allocator.html">C Interface to Scalable Allocator</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneTBB/source/mutual_exclusion.html">Mutual Exclusion</a><input class="toctree-checkbox" id="toctree-checkbox-39" name="toctree-checkbox-39" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-39"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/mutual_exclusion/mutex_cls.html">mutex</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/mutual_exclusion/rw_mutex_cls.html">rw_mutex</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/mutual_exclusion/spin_mutex_cls.html">spin_mutex</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/mutual_exclusion/spin_rw_mutex_cls.html">spin_rw_mutex</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/mutual_exclusion/speculative_spin_mutex_cls.html">speculative_spin_mutex</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/mutual_exclusion/speculative_spin_rw_mutex_cls.html">speculative_spin_rw_mutex</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/mutual_exclusion/queuing_mutex_cls.html">queuing_mutex</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/mutual_exclusion/queuing_rw_mutex_cls.html">queuing_rw_mutex</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/mutual_exclusion/null_mutex_cls.html">null_mutex</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/mutual_exclusion/null_rw_mutex_cls.html">null_rw_mutex</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneTBB/source/timing.html">Timing</a><input class="toctree-checkbox" id="toctree-checkbox-40" name="toctree-checkbox-40" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-40"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/timing/tick_count_cls.html">tick_count class</a></li>


</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../oneTBB/source/info_namespace.html">info Namespace</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../oneTBB/source/nested-depr-interfaces.html">oneTBB Deprecated Interfaces</a><input class="toctree-checkbox" id="toctree-checkbox-41" name="toctree-checkbox-41" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-41"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../oneTBB/source/deprecated/task_arena_attach_tag.html">task_arena::attach</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../oneVPL/source/index.html">oneVPL</a><input class="toctree-checkbox" id="toctree-checkbox-42" name="toctree-checkbox-42" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-42"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../oneVPL/source/VPL_intel_media_sdk.html">oneVPL for Intel<sup>®</sup> Media Software Development Kit Users</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../oneVPL/source/architecture/index.html">Architecture</a><input class="toctree-checkbox" id="toctree-checkbox-43" name="toctree-checkbox-43" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-43"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../oneVPL/source/architecture/VPL_decoding.html">Video Decoding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneVPL/source/architecture/VPL_encoding.html">Video Encoding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneVPL/source/architecture/VPL_processing.html">Video Processing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneVPL/source/architecture/VPL_decoding_vpp.html">Video Decoding with multiple video processing</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../oneVPL/source/programming_guide/index.html">Programming Guide</a><input class="toctree-checkbox" id="toctree-checkbox-44" name="toctree-checkbox-44" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-44"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../oneVPL/source/programming_guide/VPL_prg_stc.html">Status Codes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneVPL/source/programming_guide/VPL_prg_session.html">oneVPL Session</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneVPL/source/programming_guide/VPL_prg_frame.html">Frame and Fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneVPL/source/programming_guide/VPL_prg_decoding.html">Decoding Procedures</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneVPL/source/programming_guide/VPL_prg_encoding.html">Encoding Procedures</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneVPL/source/programming_guide/VPL_prg_vpp.html">Video Processing Procedures</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneVPL/source/programming_guide/VPL_prg_transcoding.html">Transcoding Procedures</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneVPL/source/programming_guide/VPL_prg_hw.html">Hardware Acceleration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneVPL/source/programming_guide/VPL_prg_mem.html">Memory Allocation and External Allocators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneVPL/source/programming_guide/VPL_prg_err.html">Hardware Device Error Handling</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../oneVPL/source/VPL_summary.html">Mandatory APIs and Functions</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_api_ref.html">oneVPL API Reference</a><input class="toctree-checkbox" id="toctree-checkbox-45" name="toctree-checkbox-45" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-45"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_functions.html">Function Reference</a><input class="toctree-checkbox" id="toctree-checkbox-46" name="toctree-checkbox-46" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-46"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_func_vid_decode.html">VideoDECODE</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_func_vid_encode.html">VideoENCODE</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_func_vid_vpp.html">VideoVPP</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_func_vidcore.html">VideoCORE</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_func_session.html">Session Management</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_func_mem.html">Memory</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_func_capabilities.html">Implementation Capabilities</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_func_adapters.html">Adapters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_func_vid_decode_vpp.html">VideoDECODE_VPP</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_structs.html">Structure Reference</a><input class="toctree-checkbox" id="toctree-checkbox-47" name="toctree-checkbox-47" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-47"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_structs_type.html">Type Definitions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_structs_memory.html">Memory Structures</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_structs_impl_manage.html">Implementation Management</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_structs_cross_component.html">Cross-component Structures</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_structs_decode.html">Decode Structures</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_structs_encode.html">Encode Structures</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_structs_vpp.html">VPP Structures</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_structs_protected.html">Protected Structures</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_structs_decode_vpp.html">DECODE_VPP Structures</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_structs_camera.html">Camera Structures</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_enums.html">Enumerator Reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_defines.html">Define Reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_ref_types.html">Type Reference</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_disp_api.html">Dispatcher API</a><input class="toctree-checkbox" id="toctree-checkbox-48" name="toctree-checkbox-48" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-48"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_disp_api_func.html">Dispatcher API Function Reference</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_disp_api_struct.html">Dispatcher API Structure Reference</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_disp_api_enum.html">Dispatcher API Enumeration Reference</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_disp_api_def.html">Dispatcher API Define Reference</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_guids.html">GUIDs Reference</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../oneVPL/source/Versioning.html">oneVPL API Versioning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../oneVPL/source/Experimental.html">oneVPL Experimental API</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../oneVPL/source/appendix/index.html">Appendices</a><input class="toctree-checkbox" id="toctree-checkbox-49" name="toctree-checkbox-49" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-49"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../oneVPL/source/appendix/VPL_apnds_a.html">Configuration Parameter Constraints</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneVPL/source/appendix/VPL_apnds_b.html">Multiple-segment Encoding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneVPL/source/appendix/VPL_apnds_c.html">Streaming and Video Conferencing Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneVPL/source/appendix/VPL_apnds_d.html">Switchable Graphics and Multiple Monitors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneVPL/source/appendix/VPL_apnds_e.html">Working Directly with VA API for Linux*</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneVPL/source/appendix/VPL_apnds_f.html">CQP HRD Mode Encoding</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../oneVPL/source/VPL_acronyms.html">Glossary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../oneVPL/source/VPL_deprecation.html">Deprecated API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../oneVPL/source/VPL_change_log.html">Change Log</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../oneMKL/source/index.html">oneMKL</a><input class="toctree-checkbox" id="toctree-checkbox-50" name="toctree-checkbox-50" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-50"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../oneMKL/source/architecture/architecture.html">oneMKL Architecture</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../oneMKL/source/domains/domains.html">oneMKL Domains</a><input class="toctree-checkbox" id="toctree-checkbox-51" name="toctree-checkbox-51" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-51"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../oneMKL/source/domains/matrix-storage.html">Matrix Storage</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneMKL/source/domains/blas/blas.html">BLAS Routines</a><input class="toctree-checkbox" id="toctree-checkbox-52" name="toctree-checkbox-52" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-52"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/blas/blas-level-1-routines.html">BLAS Level 1 Routines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/blas/blas-level-2-routines.html">BLAS Level 2 Routines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/blas/blas-level-3-routines.html">BLAS Level 3 Routines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/blas/blas-like-extensions.html">BLAS-like Extensions</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneMKL/source/domains/lapack/lapack.html">LAPACK Routines</a><input class="toctree-checkbox" id="toctree-checkbox-53" name="toctree-checkbox-53" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-53"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/geqrf.html">geqrf</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/geqrf_scratchpad_size.html">geqrf_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/gerqf.html">gerqf</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/gerqf_scratchpad_size.html">gerqf_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/getrf.html">getrf</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/getrf_scratchpad_size.html">getrf_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/getri.html">getri</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/getri_scratchpad_size.html">getri_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/getrs.html">getrs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/getrs_scratchpad_size.html">getrs_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/hetrf.html">hetrf</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/hetrf_scratchpad_size.html">hetrf_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/orgqr.html">orgqr</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/orgqr_scratchpad_size.html">orgqr_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/ormqr.html">ormqr</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/ormqr_scratchpad_size.html">ormqr_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/ormrq.html">ormrq</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/ormrq_scratchpad_size.html">ormrq_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/potrf.html">potrf</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/potrf_scratchpad_size.html">potrf_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/potri.html">potri</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/potri_scratchpad_size.html">potri_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/potrs.html">potrs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/potrs_scratchpad_size.html">potrs_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/sytrf.html">sytrf</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/sytrf_scratchpad_size.html">sytrf_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/trtrs.html">trtrs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/trtrs_scratchpad_size.html">trtrs_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/ungqr.html">ungqr</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/ungqr_scratchpad_size.html">ungqr_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/unmqr.html">unmqr</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/unmqr_scratchpad_size.html">unmqr_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/unmrq.html">unmrq</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/unmrq_scratchpad_size.html">unmrq_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/gebrd.html">gebrd</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/gebrd_scratchpad_size.html">gebrd_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/gesvd.html">gesvd</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/gesvd_scratchpad_size.html">gesvd_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/heevd.html">heevd</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/heevd_scratchpad_size.html">heevd_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/hegvd.html">hegvd</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/hegvd_scratchpad_size.html">hegvd_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/hetrd.html">hetrd</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/hetrd_scratchpad_size.html">hetrd_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/orgbr.html">orgbr</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/orgbr_scratchpad_size.html">orgbr_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/orgtr.html">orgtr</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/orgtr_scratchpad_size.html">orgtr_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/ormtr.html">ormtr</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/ormtr_scratchpad_size.html">ormtr_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/syevd.html">syevd</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/syevd_scratchpad_size.html">syevd_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/sygvd.html">sygvd</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/sygvd_scratchpad_size.html">sygvd_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/sytrd.html">sytrd</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/sytrd_scratchpad_size.html">sytrd_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/ungbr.html">ungbr</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/ungbr_scratchpad_size.html">ungbr_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/ungtr.html">ungtr</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/ungtr_scratchpad_size.html">ungtr_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/unmtr.html">unmtr</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/unmtr_scratchpad_size.html">unmtr_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/geqrf_batch.html">geqrf_batch</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/geqrf_batch_scratchpad_size.html">geqrf_batch_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/getrf_batch.html">getrf_batch</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/getrf_batch_scratchpad_size.html">getrf_batch_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/getri_batch.html">getri_batch</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/getri_batch_scratchpad_size.html">getri_batch_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/getrs_batch.html">getrs_batch</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/getrs_batch_scratchpad_size.html">getrs_batch_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/orgqr_batch.html">orgqr_batch</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/orgqr_batch_scratchpad_size.html">orgqr_batch_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/potrf_batch.html">potrf_batch</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/potrf_batch_scratchpad_size.html">potrf_batch_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/potrs_batch.html">potrs_batch</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/potrs_batch_scratchpad_size.html">potrs_batch_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/ungqr_batch.html">ungqr_batch</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/ungqr_batch_scratchpad_size.html">ungqr_batch_scratchpad_size</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneMKL/source/domains/spblas/spblas.html">Sparse BLAS</a><input class="toctree-checkbox" id="toctree-checkbox-54" name="toctree-checkbox-54" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-54"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/spblas/matrixinit.html">init_matrix_handle</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/spblas/releasematrixhandle.html">release_matrix_handle</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/spblas/setcsrstructure.html">set_csr_data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/spblas/gemm.html">gemm</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/spblas/gemv.html">gemv</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/spblas/gemvdot.html">gemvdot</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/spblas/gemvoptimize.html">optimize_gemv</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/spblas/symv.html">symv</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/spblas/trmv.html">trmv</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/spblas/trmvoptimize.html">optimize_trmv</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/spblas/trsv.html">trsv</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/spblas/trsvoptimize.html">optimize_trsv</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/spblas/supported-types.html">Supported Types</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/spblas/format-descriptions.html">Sparse storage formats</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneMKL/source/domains/dft/dft.html">Discrete Fourier Transform Functions</a><input class="toctree-checkbox" id="toctree-checkbox-55" name="toctree-checkbox-55" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-55"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/dft/enums_and_config_params.html">Configuration Parameters and Enums</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/dft/descriptor.html">descriptor</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/dft/compute_forward.html">compute_forward</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/dft/compute_backward.html">compute_backward</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneMKL/source/domains/rng/onemkl-rng-overview.html">Random Number Generators (RNG)</a><input class="toctree-checkbox" id="toctree-checkbox-56" name="toctree-checkbox-56" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-56"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/rng/host_api/rng-host-routines.html">Random Number Generators Host Routines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/rng/device_api/device-routines.html">Random Number Generators Device Routines</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneMKL/source/domains/stats/onemkl_stats_overview.html">Summary Statistics</a><input class="toctree-checkbox" id="toctree-checkbox-57" name="toctree-checkbox-57" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-57"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/stats/onemkl_stats_usage_model.html">oneMKL Summary Statistics Usage Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/stats/onemkl_stats_dataset.html">dataset</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/stats/onemkl_stats_routines.html">Summary Statistics Routines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/stats/onemkl_stats_service_routines.html">Service Routines</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneMKL/source/domains/vm/vm.html">Vector Math</a><input class="toctree-checkbox" id="toctree-checkbox-58" name="toctree-checkbox-58" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-58"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/vm/special-value-notations.html">Special Value Notations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/vm/vm-mathematical-functions.html">VM Mathematical Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/vm/vm-service-functions.html">VM Service Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/vm/vm-exceptions.html">Exceptions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/vm/bibliography.html">Bibliography</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../oneMKL/source/appendix/appendix.html">oneMKL Appendix</a></li>
</ul>
</li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="nested-index.html">Ray Tracing</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-59" name="toctree-checkbox-59" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-59"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2 current active has-children"><a class="reference internal" href="component-libraries.html">Component Libraries</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-60" name="toctree-checkbox-60" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-60"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l3 has-children"><a class="reference internal" href="embree.html">Embree</a><input class="toctree-checkbox" id="toctree-checkbox-61" name="toctree-checkbox-61" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-61"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="embree-spec.html">Introduction</a></li>

</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="openvkl.html">Open VKL</a><input class="toctree-checkbox" id="toctree-checkbox-62" name="toctree-checkbox-62" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-62"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="openvkl-intro.html">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="openvkl-spec.html">Open VKL API</a></li>

</ul>
</li>
<li class="toctree-l3 current active has-children"><a class="reference internal" href="oidn.html">Open Image Denoise</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-63" name="toctree-checkbox-63" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-63"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="oidn-intro.html">Introduction</a></li>
<li class="toctree-l4 current active"><a class="current reference internal" href="#">Open Image Denoise API</a></li>

</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="ospray.html">OSPRay</a><input class="toctree-checkbox" id="toctree-checkbox-64" name="toctree-checkbox-64" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-64"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="ospray-intro.html">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="ospray-spec.html">OSPRay API</a></li>


</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="appendices.html">Appendices</a><input class="toctree-checkbox" id="toctree-checkbox-65" name="toctree-checkbox-65" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-65"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="ospray-studio.html">OSPRay Studio</a></li>
<li class="toctree-l3"><a class="reference internal" href="ospray-hydra-plugin.html">OSPRay Plug-in for USD Hydra</a></li>
<li class="toctree-l3"><a class="reference internal" href="ispc.html">ISPC Implicit SPMD Program Compiler</a></li>
<li class="toctree-l3"><a class="reference internal" href="future-consider.html">Future Considerations</a></li>
<li class="toctree-l3"><a class="reference internal" href="acknowledgment.html">Acknowledgment</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="https://spec.oneapi.com/releases/index.html">Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../notices.html">Legal Notices and Disclaimers</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/oneapi-src/oneapi-spec/edit/main/source/elements/oneART/source/oidn-spec.rst" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/oneapi-src/oneapi-spec/issues/new?title=Issue%20on%20page%20%2Felements/oneART/source/oidn-spec.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../../_sources/elements/oneART/source/oidn-spec.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Open Image Denoise API</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Open Image Denoise API</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#examples">Examples</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#basic-denoising-c99-api">Basic denoising (C99 API)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#basic-denoising-c-11-api">Basic denoising (C++11 API)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#denoising-with-prefiltering-c-11-api">Denoising with prefiltering (C++11 API)</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#device">Device</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#error-handling">Error Handling</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#buffer">Buffer</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#data-format">Data Format</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#filter">Filter</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#rt">RT</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#albedo">Albedo</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#normal">Normal</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#weights">Weights</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#rtlightmap">RTLightmap</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#training">Training</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#prerequisites">Prerequisites</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#devices">Devices</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets">Datasets</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#preprocessing-preprocess-py">Preprocessing (preprocess.py)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#training-train-py">Training (train.py)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#inference-infer-py">Inference (infer.py)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exporting-results-export-py">Exporting Results (export.py)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#image-conversion-and-comparison">Image Conversion and Comparison</a></li>
</ul>
</li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="open-image-denoise-api">
<h1>Open Image Denoise API<a class="headerlink" href="#open-image-denoise-api" title="Permalink to this heading">#</a></h1>
<p>Open Image Denoise provides a C99 API (also compatible with C++) and a C++11 wrapper API as well. For simplicity, this document mostly refers to the C99 version of the API.</p>
<p>The API is designed in an object-oriented manner, e.g. it contains device objects (<code class="docutils literal notranslate"><span class="pre">OIDNDevice</span></code> type), buffer objects (<code class="docutils literal notranslate"><span class="pre">OIDNBuffer</span></code> type), and filter objects (<code class="docutils literal notranslate"><span class="pre">OIDNFilter</span></code> type). All objects are reference-counted, and handles can be released by calling the appropriate release function (e.g. <code class="docutils literal notranslate"><span class="pre">oidnReleaseDevice</span></code>) or retained by incrementing the reference count (e.g. <code class="docutils literal notranslate"><span class="pre">oidnRetainDevice</span></code>).</p>
<p>An important aspect of objects is that setting their parameters do not have an immediate effect (with a few exceptions). Instead, objects with updated parameters are in an unusable state until the parameters get explicitly committed to a given object. The commit semantic allows for batching up multiple small changes, and specifies exactly when changes to objects will occur.</p>
<p>All API calls are thread-safe, but operations that use the same device will be serialized, so the amount of API calls from different threads should be minimized.</p>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this heading">#</a></h2>
<p>To have a quick overview of the C99 and C++11 APIs, see the following simple example code snippets.</p>
<section id="basic-denoising-c99-api">
<h3>Basic denoising (C99 API)<a class="headerlink" href="#basic-denoising-c99-api" title="Permalink to this heading">#</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#include &lt;OpenImageDenoise/oidn.h&gt;</span>
<span class="o">...</span>
<span class="o">//</span> <span class="n">Create</span> <span class="n">an</span> <span class="n">Intel</span> <span class="n">Open</span> <span class="n">Image</span> <span class="n">Denoise</span> <span class="n">device</span>
<span class="n">OIDNDevice</span> <span class="n">device</span> <span class="o">=</span> <span class="n">oidnNewDevice</span><span class="p">(</span><span class="n">OIDN_DEVICE_TYPE_DEFAULT</span><span class="p">);</span>
<span class="n">oidnCommitDevice</span><span class="p">(</span><span class="n">device</span><span class="p">);</span>

<span class="o">//</span> <span class="n">Create</span> <span class="n">a</span> <span class="nb">filter</span> <span class="k">for</span> <span class="n">denoising</span> <span class="n">a</span> <span class="n">beauty</span> <span class="p">(</span><span class="n">color</span><span class="p">)</span> <span class="n">image</span> <span class="n">using</span> <span class="n">optional</span> <span class="n">auxiliary</span> <span class="n">images</span> <span class="n">too</span>
<span class="n">OIDNFilter</span> <span class="nb">filter</span> <span class="o">=</span> <span class="n">oidnNewFilter</span><span class="p">(</span><span class="n">device</span><span class="p">,</span> <span class="s2">&quot;RT&quot;</span><span class="p">);</span> <span class="o">//</span> <span class="n">generic</span> <span class="n">ray</span> <span class="n">tracing</span> <span class="nb">filter</span>
<span class="n">oidnSetSharedFilterImage</span><span class="p">(</span><span class="nb">filter</span><span class="p">,</span> <span class="s2">&quot;color&quot;</span><span class="p">,</span>  <span class="n">colorPtr</span><span class="p">,</span>
                         <span class="n">OIDN_FORMAT_FLOAT3</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span> <span class="o">//</span> <span class="n">beauty</span>
<span class="n">oidnSetSharedFilterImage</span><span class="p">(</span><span class="nb">filter</span><span class="p">,</span> <span class="s2">&quot;albedo&quot;</span><span class="p">,</span> <span class="n">albedoPtr</span><span class="p">,</span>
                         <span class="n">OIDN_FORMAT_FLOAT3</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span> <span class="o">//</span> <span class="n">auxiliary</span>
<span class="n">oidnSetSharedFilterImage</span><span class="p">(</span><span class="nb">filter</span><span class="p">,</span> <span class="s2">&quot;normal&quot;</span><span class="p">,</span> <span class="n">normalPtr</span><span class="p">,</span>
                         <span class="n">OIDN_FORMAT_FLOAT3</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span> <span class="o">//</span> <span class="n">auxiliary</span>
<span class="n">oidnSetSharedFilterImage</span><span class="p">(</span><span class="nb">filter</span><span class="p">,</span> <span class="s2">&quot;output&quot;</span><span class="p">,</span> <span class="n">outputPtr</span><span class="p">,</span>
                         <span class="n">OIDN_FORMAT_FLOAT3</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span> <span class="o">//</span> <span class="n">denoised</span> <span class="n">beauty</span>
<span class="n">oidnSetFilter1b</span><span class="p">(</span><span class="nb">filter</span><span class="p">,</span> <span class="s2">&quot;hdr&quot;</span><span class="p">,</span> <span class="n">true</span><span class="p">);</span> <span class="o">//</span> <span class="n">beauty</span> <span class="n">image</span> <span class="ow">is</span> <span class="n">HDR</span>
<span class="n">oidnCommitFilter</span><span class="p">(</span><span class="nb">filter</span><span class="p">);</span>

<span class="o">//</span> <span class="n">Filter</span> <span class="n">the</span> <span class="n">image</span>
<span class="n">oidnExecuteFilter</span><span class="p">(</span><span class="nb">filter</span><span class="p">);</span>

<span class="o">//</span> <span class="n">Check</span> <span class="k">for</span> <span class="n">errors</span>
<span class="n">const</span> <span class="n">char</span><span class="o">*</span> <span class="n">errorMessage</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="n">oidnGetDeviceError</span><span class="p">(</span><span class="n">device</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">errorMessage</span><span class="p">)</span> <span class="o">!=</span> <span class="n">OIDN_ERROR_NONE</span><span class="p">)</span>
  <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;Error: </span><span class="si">%s</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">errorMessage</span><span class="p">);</span>

<span class="o">//</span> <span class="n">Cleanup</span>
<span class="n">oidnReleaseFilter</span><span class="p">(</span><span class="nb">filter</span><span class="p">);</span>
<span class="n">oidnReleaseDevice</span><span class="p">(</span><span class="n">device</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="basic-denoising-c-11-api">
<h3>Basic denoising (C++11 API)<a class="headerlink" href="#basic-denoising-c-11-api" title="Permalink to this heading">#</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#include &lt;OpenImageDenoise/oidn.hpp&gt;</span>
<span class="o">...</span>
<span class="o">//</span> <span class="n">Create</span> <span class="n">an</span> <span class="n">Intel</span> <span class="n">Open</span> <span class="n">Image</span> <span class="n">Denoise</span> <span class="n">device</span>
<span class="n">oidn</span><span class="p">::</span><span class="n">DeviceRef</span> <span class="n">device</span> <span class="o">=</span> <span class="n">oidn</span><span class="p">::</span><span class="n">newDevice</span><span class="p">();</span>
<span class="n">device</span><span class="o">.</span><span class="n">commit</span><span class="p">();</span>

<span class="o">//</span> <span class="n">Create</span> <span class="n">a</span> <span class="nb">filter</span> <span class="k">for</span> <span class="n">denoising</span> <span class="n">a</span> <span class="n">beauty</span> <span class="p">(</span><span class="n">color</span><span class="p">)</span> <span class="n">image</span> <span class="n">using</span> <span class="n">optional</span> <span class="n">auxiliary</span> <span class="n">images</span> <span class="n">too</span>
<span class="n">oidn</span><span class="p">::</span><span class="n">FilterRef</span> <span class="nb">filter</span> <span class="o">=</span> <span class="n">device</span><span class="o">.</span><span class="n">newFilter</span><span class="p">(</span><span class="s2">&quot;RT&quot;</span><span class="p">);</span> <span class="o">//</span> <span class="n">generic</span> <span class="n">ray</span> <span class="n">tracing</span> <span class="nb">filter</span>
<span class="nb">filter</span><span class="o">.</span><span class="n">setImage</span><span class="p">(</span><span class="s2">&quot;color&quot;</span><span class="p">,</span>  <span class="n">colorPtr</span><span class="p">,</span>  <span class="n">oidn</span><span class="p">::</span><span class="n">Format</span><span class="p">::</span><span class="n">Float3</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">);</span> <span class="o">//</span> <span class="n">beauty</span>
<span class="nb">filter</span><span class="o">.</span><span class="n">setImage</span><span class="p">(</span><span class="s2">&quot;albedo&quot;</span><span class="p">,</span> <span class="n">albedoPtr</span><span class="p">,</span> <span class="n">oidn</span><span class="p">::</span><span class="n">Format</span><span class="p">::</span><span class="n">Float3</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">);</span> <span class="o">//</span> <span class="n">auxiliary</span>
<span class="nb">filter</span><span class="o">.</span><span class="n">setImage</span><span class="p">(</span><span class="s2">&quot;normal&quot;</span><span class="p">,</span> <span class="n">normalPtr</span><span class="p">,</span> <span class="n">oidn</span><span class="p">::</span><span class="n">Format</span><span class="p">::</span><span class="n">Float3</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">);</span> <span class="o">//</span> <span class="n">auxiliary</span>
<span class="nb">filter</span><span class="o">.</span><span class="n">setImage</span><span class="p">(</span><span class="s2">&quot;output&quot;</span><span class="p">,</span> <span class="n">outputPtr</span><span class="p">,</span> <span class="n">oidn</span><span class="p">::</span><span class="n">Format</span><span class="p">::</span><span class="n">Float3</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">);</span> <span class="o">//</span> <span class="n">denoised</span> <span class="n">beauty</span>
<span class="nb">filter</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;hdr&quot;</span><span class="p">,</span> <span class="n">true</span><span class="p">);</span> <span class="o">//</span> <span class="n">beauty</span> <span class="n">image</span> <span class="ow">is</span> <span class="n">HDR</span>
<span class="nb">filter</span><span class="o">.</span><span class="n">commit</span><span class="p">();</span>

<span class="o">//</span> <span class="n">Filter</span> <span class="n">the</span> <span class="n">image</span>
<span class="nb">filter</span><span class="o">.</span><span class="n">execute</span><span class="p">();</span>

<span class="o">//</span> <span class="n">Check</span> <span class="k">for</span> <span class="n">errors</span>
<span class="n">const</span> <span class="n">char</span><span class="o">*</span> <span class="n">errorMessage</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">getError</span><span class="p">(</span><span class="n">errorMessage</span><span class="p">)</span> <span class="o">!=</span> <span class="n">oidn</span><span class="p">::</span><span class="n">Error</span><span class="p">::</span><span class="kc">None</span><span class="p">)</span>
  <span class="n">std</span><span class="p">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s2">&quot;Error: &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">errorMessage</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="p">::</span><span class="n">endl</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="denoising-with-prefiltering-c-11-api">
<h3>Denoising with prefiltering (C++11 API)<a class="headerlink" href="#denoising-with-prefiltering-c-11-api" title="Permalink to this heading">#</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Create</span> <span class="n">a</span> <span class="nb">filter</span> <span class="k">for</span> <span class="n">denoising</span> <span class="n">a</span> <span class="n">beauty</span> <span class="p">(</span><span class="n">color</span><span class="p">)</span> <span class="n">image</span> <span class="n">using</span> <span class="n">prefiltered</span> <span class="n">auxiliary</span> <span class="n">images</span> <span class="n">too</span>
<span class="n">oidn</span><span class="p">::</span><span class="n">FilterRef</span> <span class="nb">filter</span> <span class="o">=</span> <span class="n">device</span><span class="o">.</span><span class="n">newFilter</span><span class="p">(</span><span class="s2">&quot;RT&quot;</span><span class="p">);</span> <span class="o">//</span> <span class="n">generic</span> <span class="n">ray</span> <span class="n">tracing</span> <span class="nb">filter</span>
<span class="nb">filter</span><span class="o">.</span><span class="n">setImage</span><span class="p">(</span><span class="s2">&quot;color&quot;</span><span class="p">,</span>  <span class="n">colorPtr</span><span class="p">,</span>  <span class="n">oidn</span><span class="p">::</span><span class="n">Format</span><span class="p">::</span><span class="n">Float3</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">);</span> <span class="o">//</span> <span class="n">beauty</span>
<span class="nb">filter</span><span class="o">.</span><span class="n">setImage</span><span class="p">(</span><span class="s2">&quot;albedo&quot;</span><span class="p">,</span> <span class="n">albedoPtr</span><span class="p">,</span> <span class="n">oidn</span><span class="p">::</span><span class="n">Format</span><span class="p">::</span><span class="n">Float3</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">);</span> <span class="o">//</span> <span class="n">auxiliary</span>
<span class="nb">filter</span><span class="o">.</span><span class="n">setImage</span><span class="p">(</span><span class="s2">&quot;normal&quot;</span><span class="p">,</span> <span class="n">normalPtr</span><span class="p">,</span> <span class="n">oidn</span><span class="p">::</span><span class="n">Format</span><span class="p">::</span><span class="n">Float3</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">);</span> <span class="o">//</span> <span class="n">auxiliary</span>
<span class="nb">filter</span><span class="o">.</span><span class="n">setImage</span><span class="p">(</span><span class="s2">&quot;output&quot;</span><span class="p">,</span> <span class="n">outputPtr</span><span class="p">,</span> <span class="n">oidn</span><span class="p">::</span><span class="n">Format</span><span class="p">::</span><span class="n">Float3</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">);</span> <span class="o">//</span> <span class="n">denoised</span> <span class="n">beauty</span>
<span class="nb">filter</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;hdr&quot;</span><span class="p">,</span> <span class="n">true</span><span class="p">);</span> <span class="o">//</span> <span class="n">beauty</span> <span class="n">image</span> <span class="ow">is</span> <span class="n">HDR</span>
<span class="nb">filter</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;cleanAux&quot;</span><span class="p">,</span> <span class="n">true</span><span class="p">);</span> <span class="o">//</span> <span class="n">auxiliary</span> <span class="n">images</span> <span class="n">will</span> <span class="n">be</span> <span class="n">prefiltered</span>
<span class="nb">filter</span><span class="o">.</span><span class="n">commit</span><span class="p">();</span>

<span class="o">//</span> <span class="n">Create</span> <span class="n">a</span> <span class="n">separate</span> <span class="nb">filter</span> <span class="k">for</span> <span class="n">denoising</span> <span class="n">an</span> <span class="n">auxiliary</span> <span class="n">albedo</span> <span class="n">image</span> <span class="p">(</span><span class="ow">in</span><span class="o">-</span><span class="n">place</span><span class="p">)</span>
<span class="n">oidn</span><span class="p">::</span><span class="n">FilterRef</span> <span class="n">albedoFilter</span> <span class="o">=</span> <span class="n">device</span><span class="o">.</span><span class="n">newFilter</span><span class="p">(</span><span class="s2">&quot;RT&quot;</span><span class="p">);</span> <span class="o">//</span> <span class="n">same</span> <span class="nb">filter</span> <span class="nb">type</span> <span class="k">as</span> <span class="k">for</span> <span class="n">beauty</span>
<span class="n">albedoFilter</span><span class="o">.</span><span class="n">setImage</span><span class="p">(</span><span class="s2">&quot;albedo&quot;</span><span class="p">,</span> <span class="n">albedoPtr</span><span class="p">,</span> <span class="n">oidn</span><span class="p">::</span><span class="n">Format</span><span class="p">::</span><span class="n">Float3</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">);</span>
<span class="n">albedoFilter</span><span class="o">.</span><span class="n">setImage</span><span class="p">(</span><span class="s2">&quot;output&quot;</span><span class="p">,</span> <span class="n">albedoPtr</span><span class="p">,</span> <span class="n">oidn</span><span class="p">::</span><span class="n">Format</span><span class="p">::</span><span class="n">Float3</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">);</span>
<span class="n">albedoFilter</span><span class="o">.</span><span class="n">commit</span><span class="p">();</span>

<span class="o">//</span> <span class="n">Create</span> <span class="n">a</span> <span class="n">separate</span> <span class="nb">filter</span> <span class="k">for</span> <span class="n">denoising</span> <span class="n">an</span> <span class="n">auxiliary</span> <span class="n">normal</span> <span class="n">image</span> <span class="p">(</span><span class="ow">in</span><span class="o">-</span><span class="n">place</span><span class="p">)</span>
<span class="n">oidn</span><span class="p">::</span><span class="n">FilterRef</span> <span class="n">normalFilter</span> <span class="o">=</span> <span class="n">device</span><span class="o">.</span><span class="n">newFilter</span><span class="p">(</span><span class="s2">&quot;RT&quot;</span><span class="p">);</span> <span class="o">//</span> <span class="n">same</span> <span class="nb">filter</span> <span class="nb">type</span> <span class="k">as</span> <span class="k">for</span> <span class="n">beauty</span>
<span class="n">normalFilter</span><span class="o">.</span><span class="n">setImage</span><span class="p">(</span><span class="s2">&quot;normal&quot;</span><span class="p">,</span> <span class="n">normalPtr</span><span class="p">,</span> <span class="n">oidn</span><span class="p">::</span><span class="n">Format</span><span class="p">::</span><span class="n">Float3</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">);</span>
<span class="n">normalFilter</span><span class="o">.</span><span class="n">setImage</span><span class="p">(</span><span class="s2">&quot;output&quot;</span><span class="p">,</span> <span class="n">normalPtr</span><span class="p">,</span> <span class="n">oidn</span><span class="p">::</span><span class="n">Format</span><span class="p">::</span><span class="n">Float3</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">);</span>
<span class="n">normalFilter</span><span class="o">.</span><span class="n">commit</span><span class="p">();</span>

<span class="o">//</span> <span class="n">Prefilter</span> <span class="n">the</span> <span class="n">auxiliary</span> <span class="n">images</span>
<span class="n">albedoFilter</span><span class="o">.</span><span class="n">execute</span><span class="p">();</span>
<span class="n">normalFilter</span><span class="o">.</span><span class="n">execute</span><span class="p">();</span>

<span class="o">//</span> <span class="n">Filter</span> <span class="n">the</span> <span class="n">beauty</span> <span class="n">image</span>
<span class="nb">filter</span><span class="o">.</span><span class="n">execute</span><span class="p">();</span>
</pre></div>
</div>
</section>
</section>
<section id="device">
<h2>Device<a class="headerlink" href="#device" title="Permalink to this heading">#</a></h2>
<p>Intel Open Image Denoise supports a device concept, which allows different components of the application to use the Open Image Denoise API without interfering with each other. An application first needs to create a device with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OIDNDevice</span> <span class="n">oidnNewDevice</span><span class="p">(</span><span class="n">OIDNDeviceType</span> <span class="nb">type</span><span class="p">);</span>
</pre></div>
</div>
<p>where the <code class="docutils literal notranslate"><span class="pre">type</span></code> enumeration maps to a specific device implementation, which can be one of the following:</p>
<table class="table" id="id1">
<caption><span class="caption-text">Supported device types, i.e., valid constants of type <code class="docutils literal notranslate"><span class="pre">OIDNDeviceType</span></code>.</span><a class="headerlink" href="#id1" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">OIDN_DEVICE_TYPE_DEFAULT</span></code></p></td>
<td><p>select the approximately fastest device</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">OIDN_DEVICE_TYPE_CPU</span></code></p></td>
<td><p>CPU device (requires SSE4.1 support or Apple Silicon)</p></td>
</tr>
</tbody>
</table>
<p>Once a device is created, you can call</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">oidnSetDevice1b</span><span class="p">(</span><span class="n">OIDNDevice</span> <span class="n">device</span><span class="p">,</span> <span class="n">const</span> <span class="n">char</span><span class="o">*</span> <span class="n">name</span><span class="p">,</span> <span class="nb">bool</span> <span class="n">value</span><span class="p">);</span>
<span class="n">void</span> <span class="n">oidnSetDevice1i</span><span class="p">(</span><span class="n">OIDNDevice</span> <span class="n">device</span><span class="p">,</span> <span class="n">const</span> <span class="n">char</span><span class="o">*</span> <span class="n">name</span><span class="p">,</span> <span class="nb">int</span>  <span class="n">value</span><span class="p">);</span>
<span class="nb">bool</span> <span class="n">oidnGetDevice1b</span><span class="p">(</span><span class="n">OIDNDevice</span> <span class="n">device</span><span class="p">,</span> <span class="n">const</span> <span class="n">char</span><span class="o">*</span> <span class="n">name</span><span class="p">);</span>
<span class="nb">int</span>  <span class="n">oidnGetDevice1i</span><span class="p">(</span><span class="n">OIDNDevice</span> <span class="n">device</span><span class="p">,</span> <span class="n">const</span> <span class="n">char</span><span class="o">*</span> <span class="n">name</span><span class="p">);</span>
</pre></div>
</div>
<p>to set and get parameter values on the device. Note that some parameters are constants, thus trying to set them is an error. See the tables below for the parameters supported by devices.</p>
<table class="table" id="id2">
<caption><span class="caption-text">Parameters supported by all devices.</span><a class="headerlink" href="#id2" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">int</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">version</span></code></p></td>
<td></td>
<td><p>combined version number (major.minor.patch) with two decimal digits per component</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">int</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">versionMajor</span></code></p></td>
<td></td>
<td><p>major version number</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">int</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">versionMinor</span></code></p></td>
<td></td>
<td><p>minor version number</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">int</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">versionPatch</span></code></p></td>
<td></td>
<td><p>patch version number</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">verbose</span></code></p></td>
<td></td>
<td><p>0 verbosity level of the console output between 0–4; when set to 0, no output is printed, when set to a higher level more output is printed</p></td>
</tr>
</tbody>
</table>
<table class="table" id="id3">
<caption><span class="caption-text">Additional parameters supported only by CPU devices.</span><a class="headerlink" href="#id3" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">numThreads</span></code></p></td>
<td><p>0</p></td>
<td><p>maximum number of threads which the library should use; 0 will set it automatically to get the best performance</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">setAffinity</span></code></p></td>
<td><p>true</p></td>
<td><p>enables thread affinitization (pinning software threads to hardware threads) if it is necessary for achieving optimal performance</p></td>
</tr>
</tbody>
</table>
<p>Note that the CPU device heavily relies on setting the thread affinities to achieve optimal performance, so it is highly recommended to leave this option enabled. However, this may interfere with the application if that also sets the thread affinities, potentially causing performance degradation. In such cases, the recommended solution is to either disable setting the affinities in the application or in Intel Open Image Denoise, or to always set/reset the affinities before/after each parallel region in the application (e.g., if using TBB, with <code class="docutils literal notranslate"><span class="pre">tbb::task_arena</span></code> and <code class="docutils literal notranslate"><span class="pre">tbb::task_scheduler_observer</span></code>).</p>
<p>Once parameters are set on the created device, the device must be committed with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">oidnCommitDevice</span><span class="p">(</span><span class="n">OIDNDevice</span> <span class="n">device</span><span class="p">);</span>
</pre></div>
</div>
<p>This device can then be used to construct further objects, such as buffers and filters. Note that a device can be committed only once during its lifetime. Before the application exits, it should release all devices by invoking</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">oidnReleaseDevice</span><span class="p">(</span><span class="n">OIDNDevice</span> <span class="n">device</span><span class="p">);</span>
</pre></div>
</div>
<p>Note that Intel Open Image Denoise uses reference counting for all object types, so this function decreases the reference count of the device, and if the count reaches 0 the device will automatically get deleted. It is also possible to increase the reference count by calling</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">oidnRetainDevice</span><span class="p">(</span><span class="n">OIDNDevice</span> <span class="n">device</span><span class="p">);</span>
</pre></div>
</div>
<p>An application typically creates only a single device. If required differently, it should only use a small number of devices at any given time.</p>
<section id="error-handling">
<h3>Error Handling<a class="headerlink" href="#error-handling" title="Permalink to this heading">#</a></h3>
<p>Each user thread has its own error code per device. If an error occurs when calling an API function, this error code is set to the occurred error if it stores no previous error. The currently stored error can be queried by the application via</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OIDNError</span> <span class="n">oidnGetDeviceError</span><span class="p">(</span><span class="n">OIDNDevice</span> <span class="n">device</span><span class="p">,</span> <span class="n">const</span> <span class="n">char</span><span class="o">**</span> <span class="n">outMessage</span><span class="p">);</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">outMessage</span></code> can be a pointer to a C string which will be set to a more descriptive error message, or it can be <code class="docutils literal notranslate"><span class="pre">NULL</span></code>. This function also clears the error code, which assures that the returned error code is always the first error occurred since the last invocation of <code class="docutils literal notranslate"><span class="pre">oidnGetDeviceError</span></code> on the current thread. Note that the optionally returned error message string is valid only until the next invocation of the function.</p>
<p>Alternatively, the application can also register a callback function of type</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">typedef</span> <span class="n">void</span> <span class="p">(</span><span class="o">*</span><span class="n">OIDNErrorFunction</span><span class="p">)(</span><span class="n">void</span><span class="o">*</span> <span class="n">userPtr</span><span class="p">,</span> <span class="n">OIDNError</span> <span class="n">code</span><span class="p">,</span> <span class="n">const</span> <span class="n">char</span><span class="o">*</span> <span class="n">message</span><span class="p">);</span>
</pre></div>
</div>
<p>via</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">oidnSetDeviceErrorFunction</span><span class="p">(</span><span class="n">OIDNDevice</span> <span class="n">device</span><span class="p">,</span> <span class="n">OIDNErrorFunction</span> <span class="n">func</span><span class="p">,</span> <span class="n">void</span><span class="o">*</span> <span class="n">userPtr</span><span class="p">);</span>
</pre></div>
</div>
<p>to get notified when errors occur. Only a single callback function can be registered per device, and further invocations overwrite the previously set callback function, which do <em>not</em> require also calling the <code class="docutils literal notranslate"><span class="pre">oidnCommitDevice</span></code> function. Passing <code class="docutils literal notranslate"><span class="pre">NULL</span></code> as function pointer disables the registered callback function. When the registered callback function is invoked, it gets passed the user-defined payload (<code class="docutils literal notranslate"><span class="pre">userPtr</span></code> argument as specified at registration time), the error code (<code class="docutils literal notranslate"><span class="pre">code</span></code> argument) of the occurred error, as well as a string (<code class="docutils literal notranslate"><span class="pre">message</span></code> argument) that further describes the error. The error code is always set even if an error callback function is registered. It is recommended to always set a error callback function, to detect all errors.</p>
<p>When the device construction fails, <code class="docutils literal notranslate"><span class="pre">oidnNewDevice</span></code> returns <code class="docutils literal notranslate"><span class="pre">NULL</span></code> as device. To detect the error code of a such failed device construction, pass <code class="docutils literal notranslate"><span class="pre">NULL</span></code> as device to the <code class="docutils literal notranslate"><span class="pre">oidnGetDeviceError</span></code> function. For all other invocations of <code class="docutils literal notranslate"><span class="pre">oidnGetDeviceError</span></code>, a proper device handle must be specified.</p>
<p>The following errors are currently used by Intel Open Image Denoise:</p>
<table class="table" id="id4">
<caption><span class="caption-text">Possible error codes, i.e., valid constants of type <code class="docutils literal notranslate"><span class="pre">OIDNError</span></code>.</span><a class="headerlink" href="#id4" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">OIDN_ERROR_NONE</span></code></p></td>
<td><p>no error occurred</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">OIDN_ERROR_UNKNOWN</span></code></p></td>
<td><p>an unknown error occurred</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">OIDN_ERROR_INVALID_ARGUMENT</span></code></p></td>
<td><p>an invalid argument was specified</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">OIDN_ERROR_INVALID_OPERATION</span></code></p></td>
<td><p>the operation is not allowed</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">OIDN_ERROR_OUT_OF_MEMORY</span></code></p></td>
<td><p>not enough memory to execute the operation</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">OIDN_ERROR_UNSUPPORTED_HARDWARE</span></code></p></td>
<td><p>the hardware (e.g., CPU) is not supported</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">OIDN_ERROR_CANCELLED</span></code></p></td>
<td><p>the operation was cancelled by the user</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="buffer">
<h2>Buffer<a class="headerlink" href="#buffer" title="Permalink to this heading">#</a></h2>
<p>Large data like images can be passed to Intel Open Image Denoise either via pointers to memory allocated and managed by the user (this is the recommended, often easier and more efficient approach, if supported by the device) or by creating buffer objects (supported by all devices). To create a new data buffer with memory allocated and owned by the device, holding <code class="docutils literal notranslate"><span class="pre">byteSize</span></code> number of bytes, use</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OIDNBuffer</span> <span class="n">oidnNewBuffer</span><span class="p">(</span><span class="n">OIDNDevice</span> <span class="n">device</span><span class="p">,</span> <span class="n">size_t</span> <span class="n">byteSize</span><span class="p">);</span>
</pre></div>
</div>
<p>The created buffer is bound to the specified device (<code class="docutils literal notranslate"><span class="pre">device</span></code> argument). The specified number of bytes are allocated at buffer construction time and deallocated when the buffer is destroyed.</p>
<p>It is also possible to create a “shared” data buffer with memory allocated and managed by the user with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OIDNBuffer</span> <span class="n">oidnNewSharedBuffer</span><span class="p">(</span><span class="n">OIDNDevice</span> <span class="n">device</span><span class="p">,</span> <span class="n">void</span><span class="o">*</span> <span class="n">ptr</span><span class="p">,</span> <span class="n">size_t</span> <span class="n">byteSize</span><span class="p">);</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">ptr</span></code> points to the user-managed memory and <code class="docutils literal notranslate"><span class="pre">byteSize</span></code> is its size in bytes. At buffer construction time no buffer data is allocated, but the buffer data provided by the user is used. The buffer data must remain valid for as long as the buffer may be used, and the user is responsible to free the buffer data when no longer required.</p>
<p>Similar to device objects, buffer objects are also reference-counted and can be retained and released by calling the following functions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">oidnRetainBuffer</span><span class="p">(</span><span class="n">OIDNBuffer</span> <span class="n">buffer</span><span class="p">);</span>
<span class="n">void</span> <span class="n">oidnReleaseBuffer</span><span class="p">(</span><span class="n">OIDNBuffer</span> <span class="n">buffer</span><span class="p">);</span>
</pre></div>
</div>
<p>The size of the buffer in bytes can be queried using</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">size_t</span> <span class="n">oidnGetBufferSize</span><span class="p">(</span><span class="n">OIDNBuffer</span> <span class="n">buffer</span><span class="p">);</span>
</pre></div>
</div>
<p>Accessing the data stored in a buffer object is possible by mapping it into the address space of the application using</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span><span class="o">*</span> <span class="n">oidnMapBuffer</span><span class="p">(</span><span class="n">OIDNBuffer</span> <span class="n">buffer</span><span class="p">,</span> <span class="n">OIDNAccess</span> <span class="n">access</span><span class="p">,</span> <span class="n">size_t</span> <span class="n">byteOffset</span><span class="p">,</span> <span class="n">size_t</span> <span class="n">byteSize</span><span class="p">)</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">access</span></code> is the desired access mode of the mapped memory, <code class="docutils literal notranslate"><span class="pre">byteOffset</span></code> is the offset to the beginning of the mapped memory region in bytes, and <code class="docutils literal notranslate"><span class="pre">byteSize</span></code> is the number of bytes to map. The function returns a pointer to the mapped buffer data. If the specified <code class="docutils literal notranslate"><span class="pre">byteSize</span></code> is 0, the maximum available amount of memory will be mapped. The <code class="docutils literal notranslate"><span class="pre">access</span></code> argument must be one of the access modes in the following table:</p>
<table class="table" id="id5">
<caption><span class="caption-text">Access modes for memory regions mapped with <code class="docutils literal notranslate"><span class="pre">oidnMapBuffer</span></code>, i.e., valid constants of type <code class="docutils literal notranslate"><span class="pre">OIDNAccess</span></code>.</span><a class="headerlink" href="#id5" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">OIDN_ACCESS_READ</span></code></p></td>
<td><p>read-only access</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">OIDN_ACCESS_WRITE</span></code></p></td>
<td><p>write-only access</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">OIDN_ACCESS_READ_WRITE</span></code></p></td>
<td><p>read and write access</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">OIDN_ACCESS_WRITE_DISCARD</span></code></p></td>
<td><p>write-only access but the previous contents will be discarded</p></td>
</tr>
</tbody>
</table>
<p>After accessing the mapped data in the buffer, the memory region must be unmapped with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">oidnUnmapBuffer</span><span class="p">(</span><span class="n">OIDNBuffer</span> <span class="n">buffer</span><span class="p">,</span> <span class="n">void</span><span class="o">*</span> <span class="n">mappedPtr</span><span class="p">);</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">mappedPtr</span></code> must be a pointer returned by a call to <code class="docutils literal notranslate"><span class="pre">oidnMapBuffer</span></code> for the specified buffer. Any change to the mapped data is guaranteed to take effect only after unmapping the memory region.</p>
<p>It is also possible to get a pointer directly to the buffer data but this might be valid only on the device the buffer was created on:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span><span class="o">*</span> <span class="n">oidnGetBufferData</span><span class="p">(</span><span class="n">OIDNBuffer</span> <span class="n">buffer</span><span class="p">);</span>
</pre></div>
</div>
<section id="data-format">
<h3>Data Format<a class="headerlink" href="#data-format" title="Permalink to this heading">#</a></h3>
<p>Buffers store opaque data and thus have no information about the type and format of the data. Other objects, e.g. filters, typically require specifying the format of the data stored in buffers or shared via pointers. This can be done using the <code class="docutils literal notranslate"><span class="pre">OIDNFormat</span></code> enumeration type:</p>
<table class="table" id="id6">
<caption><span class="caption-text">Supported data formats, i.e., valid constants of type <code class="docutils literal notranslate"><span class="pre">OIDNFormat</span></code>.</span><a class="headerlink" href="#id6" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">OIDN_FORMAT_UNDEFINED</span></code></p></td>
<td><p>undefined format</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">OIDN_FORMAT_FLOAT</span></code></p></td>
<td><p>32-bit floating-point scalar</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">OIDN_FORMAT_FLOAT[234]</span></code></p></td>
<td><p>32-bit floating-point [234]-element vector</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">OIDN_FORMAT_HALF</span></code></p></td>
<td><p>16-bit floating-point scalar</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">OIDN_FORMAT_HALF[234]</span></code></p></td>
<td><p>16-bit floating-point [234]-element vector</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="filter">
<h2>Filter<a class="headerlink" href="#filter" title="Permalink to this heading">#</a></h2>
<p>Filters are the main objects in Intel Open Image Denoise that are responsible for the actual denoising. The library ships with a collection of filters which are optimized for different types of images and use cases. To create a filter object, call</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OIDNFilter</span> <span class="n">oidnNewFilter</span><span class="p">(</span><span class="n">OIDNDevice</span> <span class="n">device</span><span class="p">,</span> <span class="n">const</span> <span class="n">char</span><span class="o">*</span> <span class="nb">type</span><span class="p">);</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">type</span></code> is the name of the filter type to create. The supported filter types are documented later in this section. Once created, filter objects can be retained and released with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">oidnRetainFilter</span><span class="p">(</span><span class="n">OIDNFilter</span> <span class="nb">filter</span><span class="p">);</span>
<span class="n">void</span> <span class="n">oidnReleaseFilter</span><span class="p">(</span><span class="n">OIDNFilter</span> <span class="nb">filter</span><span class="p">);</span>
</pre></div>
</div>
<p>After creating a filter, it needs to be set up by specifying the input and output images, and potentially setting other parameter values as well.</p>
<p>To bind images to the filter, you can use one of the following functions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">oidnSetFilterImage</span><span class="p">(</span><span class="n">OIDNFilter</span> <span class="nb">filter</span><span class="p">,</span> <span class="n">const</span> <span class="n">char</span><span class="o">*</span> <span class="n">name</span><span class="p">,</span>
                        <span class="n">OIDNBuffer</span> <span class="n">buffer</span><span class="p">,</span> <span class="n">OIDNFormat</span> <span class="nb">format</span><span class="p">,</span>
                        <span class="n">size_t</span> <span class="n">width</span><span class="p">,</span> <span class="n">size_t</span> <span class="n">height</span><span class="p">,</span>
                        <span class="n">size_t</span> <span class="n">byteOffset</span><span class="p">,</span>
                        <span class="n">size_t</span> <span class="n">bytePixelStride</span><span class="p">,</span> <span class="n">size_t</span> <span class="n">byteRowStride</span><span class="p">);</span>

<span class="n">void</span> <span class="n">oidnSetSharedFilterImage</span><span class="p">(</span><span class="n">OIDNFilter</span> <span class="nb">filter</span><span class="p">,</span> <span class="n">const</span> <span class="n">char</span><span class="o">*</span> <span class="n">name</span><span class="p">,</span>
                              <span class="n">void</span><span class="o">*</span> <span class="n">ptr</span><span class="p">,</span> <span class="n">OIDNFormat</span> <span class="nb">format</span><span class="p">,</span>
                              <span class="n">size_t</span> <span class="n">width</span><span class="p">,</span> <span class="n">size_t</span> <span class="n">height</span><span class="p">,</span>
                              <span class="n">size_t</span> <span class="n">byteOffset</span><span class="p">,</span>
                              <span class="n">size_t</span> <span class="n">bytePixelStride</span><span class="p">,</span> <span class="n">size_t</span> <span class="n">byteRowStride</span><span class="p">);</span>
</pre></div>
</div>
<p>It is possible to specify either a data buffer object (<code class="docutils literal notranslate"><span class="pre">buffer</span></code> argument) with the <code class="docutils literal notranslate"><span class="pre">oidnSetFilterImage</span></code> function, or directly a pointer to shared user-managed data (<code class="docutils literal notranslate"><span class="pre">ptr</span></code> argument) with the <code class="docutils literal notranslate"><span class="pre">oidnSetSharedFilterImage</span></code> function.</p>
<p>In both cases, you must also specify the name of the image parameter to set (<code class="docutils literal notranslate"><span class="pre">name</span></code> argument, e.g. <code class="docutils literal notranslate"><span class="pre">&quot;color&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;output&quot;</span></code>), the pixel format (<code class="docutils literal notranslate"><span class="pre">format</span></code> argument), the width and height of the image in number of pixels (<code class="docutils literal notranslate"><span class="pre">width</span></code> and <code class="docutils literal notranslate"><span class="pre">height</span></code> arguments), the starting offset of the image data (<code class="docutils literal notranslate"><span class="pre">byteOffset</span></code> argument), the pixel stride (<code class="docutils literal notranslate"><span class="pre">bytePixelStride</span></code> argument) and the row stride (<code class="docutils literal notranslate"><span class="pre">byteRowStride</span></code> argument), in number of bytes.</p>
<p>The row stride must be an integer multiple of the pixel stride. If the pixels and/or rows are stored contiguously (tightly packed without any gaps), you can set <code class="docutils literal notranslate"><span class="pre">bytePixelStride</span></code> and/or <code class="docutils literal notranslate"><span class="pre">byteRowStride</span></code> to 0 to let the library compute the actual strides automatically, as a convenience.</p>
<p>Images support only the <code class="docutils literal notranslate"><span class="pre">OIDN_FORMAT_FLOAT3</span></code> and <code class="docutils literal notranslate"><span class="pre">OIDN_FORMAT_HALF3</span></code> pixel formats. Custom image layouts with extra channels (e.g. alpha channel) or other data are supported as well by specifying a non-zero pixel stride. This way, expensive image layout conversion and copying can be avoided but the extra data will be ignored by the filter.</p>
<p>To unbind a previously set image from the filter, call</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">oidnRemoveFilterImage</span><span class="p">(</span><span class="n">OIDNFilter</span> <span class="nb">filter</span><span class="p">,</span> <span class="n">const</span> <span class="n">char</span><span class="o">*</span> <span class="n">name</span><span class="p">);</span>
</pre></div>
</div>
<p>Some special data used by filters are opaque/untyped (e.g. trained model weights blobs), which can be specified with the <code class="docutils literal notranslate"><span class="pre">oidnSetSharedFilterData</span></code> function:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">oidnSetSharedFilterData</span><span class="p">(</span><span class="n">OIDNFilter</span> <span class="nb">filter</span><span class="p">,</span> <span class="n">const</span> <span class="n">char</span><span class="o">*</span> <span class="n">name</span><span class="p">,</span>
                             <span class="n">void</span><span class="o">*</span> <span class="n">ptr</span><span class="p">,</span> <span class="n">size_t</span> <span class="n">byteSize</span><span class="p">);</span>
</pre></div>
</div>
<p>Modifying the contents of an opaque data parameter after binding it to a filter is allowed but the filter needs to be notified that the data has been updated by calling</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">oidnUpdateFilterData</span><span class="p">(</span><span class="n">OIDNFilter</span> <span class="nb">filter</span><span class="p">,</span> <span class="n">const</span> <span class="n">char</span><span class="o">*</span> <span class="n">name</span><span class="p">);</span>
</pre></div>
</div>
<p>Unbinding opaque data from the filter can be performed with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">oidnRemoveFilterData</span><span class="p">(</span><span class="n">OIDNFilter</span> <span class="nb">filter</span><span class="p">,</span> <span class="n">const</span> <span class="n">char</span><span class="o">*</span> <span class="n">name</span><span class="p">);</span>
</pre></div>
</div>
<p>Filters may have parameters other than buffers as well, which you can set and get using the following functions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span>  <span class="n">oidnSetFilter1b</span><span class="p">(</span><span class="n">OIDNFilter</span> <span class="nb">filter</span><span class="p">,</span> <span class="n">const</span> <span class="n">char</span><span class="o">*</span> <span class="n">name</span><span class="p">,</span> <span class="nb">bool</span>  <span class="n">value</span><span class="p">);</span>
<span class="n">void</span>  <span class="n">oidnSetFilter1i</span><span class="p">(</span><span class="n">OIDNFilter</span> <span class="nb">filter</span><span class="p">,</span> <span class="n">const</span> <span class="n">char</span><span class="o">*</span> <span class="n">name</span><span class="p">,</span> <span class="nb">int</span>   <span class="n">value</span><span class="p">);</span>
<span class="n">void</span>  <span class="n">oidnSetFilter1f</span><span class="p">(</span><span class="n">OIDNFilter</span> <span class="nb">filter</span><span class="p">,</span> <span class="n">const</span> <span class="n">char</span><span class="o">*</span> <span class="n">name</span><span class="p">,</span> <span class="nb">float</span> <span class="n">value</span><span class="p">);</span>
<span class="nb">bool</span>  <span class="n">oidnGetFilter1b</span><span class="p">(</span><span class="n">OIDNFilter</span> <span class="nb">filter</span><span class="p">,</span> <span class="n">const</span> <span class="n">char</span><span class="o">*</span> <span class="n">name</span><span class="p">);</span>
<span class="nb">int</span>   <span class="n">oidnGetFilter1i</span><span class="p">(</span><span class="n">OIDNFilter</span> <span class="nb">filter</span><span class="p">,</span> <span class="n">const</span> <span class="n">char</span><span class="o">*</span> <span class="n">name</span><span class="p">);</span>
<span class="nb">float</span> <span class="n">oidnGetFilter1f</span><span class="p">(</span><span class="n">OIDNFilter</span> <span class="nb">filter</span><span class="p">,</span> <span class="n">const</span> <span class="n">char</span><span class="o">*</span> <span class="n">name</span><span class="p">);</span>
</pre></div>
</div>
<p>Filters support a progress monitor callback mechanism that can be used to report progress of filter operations and to cancel them as well. Calling <code class="docutils literal notranslate"><span class="pre">oidnSetFilterProgressMonitorFunction</span></code> registers a progress monitor callback function (<code class="docutils literal notranslate"><span class="pre">func</span></code> argument) with payload (<code class="docutils literal notranslate"><span class="pre">userPtr</span></code> argument) for the specified filter (<code class="docutils literal notranslate"><span class="pre">filter</span></code> argument):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">typedef</span> <span class="nb">bool</span> <span class="p">(</span><span class="o">*</span><span class="n">OIDNProgressMonitorFunction</span><span class="p">)(</span><span class="n">void</span><span class="o">*</span> <span class="n">userPtr</span><span class="p">,</span> <span class="n">double</span> <span class="n">n</span><span class="p">);</span>

<span class="n">void</span> <span class="n">oidnSetFilterProgressMonitorFunction</span><span class="p">(</span><span class="n">OIDNFilter</span> <span class="nb">filter</span><span class="p">,</span>
                                          <span class="n">OIDNProgressMonitorFunction</span> <span class="n">func</span><span class="p">,</span>
                                          <span class="n">void</span><span class="o">*</span> <span class="n">userPtr</span><span class="p">);</span>
</pre></div>
</div>
<p>Only a single callback function can be registered per filter, and further invocations overwrite the previously set callback function. Passing <code class="docutils literal notranslate"><span class="pre">NULL</span></code> as function pointer disables the registered callback function. Once registered, Intel Open Image Denoise will invoke the callback function multiple times during filter operations, by passing the payload as set at registration time (<code class="docutils literal notranslate"><span class="pre">userPtr</span></code> argument), and a <code class="docutils literal notranslate"><span class="pre">double</span></code> in the range [0, 1] which estimates the progress of the operation (<code class="docutils literal notranslate"><span class="pre">n</span></code> argument). When returning <code class="docutils literal notranslate"><span class="pre">true</span></code> from the callback function, Intel Open Image Denoise will continue the filter operation normally. When returning <code class="docutils literal notranslate"><span class="pre">false</span></code>, the library will cancel the filter operation with the <code class="docutils literal notranslate"><span class="pre">OIDN_ERROR_CANCELLED</span></code> error code.</p>
<p>After setting all necessary parameters for the filter, the changes must be commmitted by calling</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">oidnCommitFilter</span><span class="p">(</span><span class="n">OIDNFilter</span> <span class="nb">filter</span><span class="p">);</span>
</pre></div>
</div>
<p>The parameters can be updated after committing the filter, but it must be re-committed for any new changes to take effect. Committing major changes to the filter (e.g. setting new image parameters, changing the image resolution) can be expensive, and thus should not be done frequently (e.g. per frame).</p>
<p>Finally, an image can be filtered by executing the filter with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">oidnExecuteFilter</span><span class="p">(</span><span class="n">OIDNFilter</span> <span class="nb">filter</span><span class="p">);</span>
</pre></div>
</div>
<p>which will read the input image data from the specified buffers and produce the denoised output image.</p>
<p>In the following we describe the different filters that are currently implemented in Intel Open Image Denoise.</p>
<section id="rt">
<h3>RT<a class="headerlink" href="#rt" title="Permalink to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">RT</span></code> (<strong>r</strong>ay <strong>t</strong>racing) filter is a generic ray tracing denoising filter which is suitable for denoising images rendered with Monte Carlo ray tracing methods like unidirectional and bidirectional path tracing. It supports depth of field and motion blur as well, but it is <em>not</em> temporally stable. The filter is based on a convolutional neural network (CNN), and it aims to provide a good balance between denoising performance and quality. The filter comes with a set of pre-trained CNN models that work well with a wide range of ray tracing based renderers and noise levels.</p>
<p>[Example noisy beauty image rendered using unidirectional path tracing (4 samples per pixel). <em>Scene by Evermotion.</em>][imgMazdaColor]</p>
<p>[Example output beauty image denoised using prefiltered auxiliary feature images (albedo and normal) too.][imgMazdaDenoised]</p>
<p>For denoising <em>beauty</em> images, it accepts either a low dynamic range (LDR) or high dynamic range (HDR) image (<code class="docutils literal notranslate"><span class="pre">color</span></code>) as the main input image. In addition to this, it also accepts <em>auxiliary feature</em> images, <code class="docutils literal notranslate"><span class="pre">albedo</span></code> and <code class="docutils literal notranslate"><span class="pre">normal</span></code>, which are optional inputs that usually improve the denoising quality significantly, preserving more details.</p>
<p>It is possible to denoise auxiliary images as well, in which case only the respective auxiliary image has to be specified as input, instead of the beauty image. This can be done as a <em>prefiltering</em> step to further improve the quality of the denoised beauty image.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">RT</span></code> filter has certain limitations regarding the supported input images. Most notably, it cannot denoise images that were not rendered with ray tracing. Another important limitation is related to anti-aliasing filters. Most renderers use a high-quality pixel reconstruction filter instead of a trivial box filter to minimize aliasing artifacts (e.g. Gaussian, Blackman-Harris). The <code class="docutils literal notranslate"><span class="pre">RT</span></code> filter does support such pixel filters but only if implemented with importance sampling. Weighted pixel sampling (sometimes called <em>splatting</em>) introduces correlation between neighboring pixels, which causes the denoising to fail (the noise will not be filtered), thus it is not supported.</p>
<p>The filter can be created by passing <code class="docutils literal notranslate"><span class="pre">&quot;RT&quot;</span></code> to the <code class="docutils literal notranslate"><span class="pre">oidnNewFilter</span></code> function as the filter type. The filter supports the parameters listed in the table below. All specified images must have the same dimensions. The output image can be one of the input images (i.e. in-place denoising is supported). See section <a class="reference external" href="#examples">Examples</a> for simple code snippets that demonstrate the usage of the filter.</p>
<table class="table" id="id7">
<caption><span class="caption-text">Parameters supported by the <code class="docutils literal notranslate"><span class="pre">RT</span></code> filter.</span><a class="headerlink" href="#id7" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">Image</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">color</span></code></p></td>
<td><p><em>optional</em></p></td>
<td><p>input beauty image (3 channels, LDR values in [0, 1] or HDR values in [0, +∞), values being interpreted such that, after scaling with the <code class="docutils literal notranslate"><span class="pre">inputScale</span></code> parameter, a value of 1 corresponds to a luminance level of 100 cd/m²)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">Image</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">albedo</span></code></p></td>
<td><p><em>optional</em></p></td>
<td><p>input auxiliary image containing the albedo per pixel (3 channels, values in [0, 1])</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">Image</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">normal</span></code></p></td>
<td><p><em>optional</em></p></td>
<td><p>input auxiliary image containing the shading normal per pixel (3 channels, world-space or view-space vectors with arbitrary length, values in [-1, 1])</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">Image</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">output</span></code></p></td>
<td></td>
<td><p>output image (3 channels); can be one of the input images</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">hdr</span></code></p></td>
<td><p>false</p></td>
<td><p>whether the main input image is HDR</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">srgb</span></code></p></td>
<td><p>false</p></td>
<td><p>whether the main input image is encoded with the sRGB (or 2.2 gamma) curve (LDR only) or is linear; the output will be encoded with the same curve</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">inputScale</span></code></p></td>
<td><p>NaN</p></td>
<td><p>scales values in the main input image before filtering, without scaling the output too, which can be used to map color or auxiliary feature values to the expected range, e.g. for mapping HDR values to physical units (which affects the quality of the output but <em>not</em> the range of the output values); if set to NaN, the scale is computed implicitly for HDR images or set to 1 otherwise</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">cleanAux</span></code></p></td>
<td><p>false</p></td>
<td><p>whether the auxiliary feature (albedo, normal) images are noise-free; recommended for highest quality but should <em>not</em> be enabled for noisy auxiliary images to avoid residual noise</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">Data</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">weights</span></code></p></td>
<td><p><em>optional</em></p></td>
<td><p>trained model weights blob</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">maxMemoryMB</span></code></p></td>
<td><p>3000</p></td>
<td><p>approximate maximum scratch memory to use in megabytes (actual memory usage may be higher); limiting memory usage may cause slower denoising due to internally splitting the image into overlapping tiles</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">int</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">alignment</span></code></p></td>
<td></td>
<td><p>when manually denoising in tiles, the tile size and offsets should be multiples of this amount of pixels to avoid artifacts; when denoising HDR images <code class="docutils literal notranslate"><span class="pre">inputScale</span></code> <em>must</em> be set by the user to avoid seam artifacts</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">int</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">overlap</span></code></p></td>
<td></td>
<td><p>when manually denoising in tiles, the tiles should overlap by this amount of pixels</p></td>
</tr>
</tbody>
</table>
<p>Using auxiliary feature images like albedo and normal helps preserving fine details and textures in the image thus can significantly improve denoising quality. These images should typically contain feature values for the first hit (i.e. the surface which is directly visible) per pixel. This works well for most surfaces but does not provide any benefits for reflections and objects visible through transparent surfaces (compared to just using the color as input). However, this issue can be usually fixed by storing feature values for a subsequent hit (i.e. the reflection and/or refraction) instead of the first hit. For example, it usually works well to follow perfect specular (<em>delta</em>) paths and store features for the first diffuse or glossy surface hit instead (e.g. for perfect specular dielectrics and mirrors). This can greatly improve the quality of reflections and transmission. We will describe this approach in more detail in the following subsections.</p>
<p>The auxiliary feature images should be as noise-free as possible. It is not a strict requirement but too much noise in the feature images may cause residual noise in the output. Ideally, these should be completely noise-free. If this is the case, this should be hinted to the filter using the <code class="docutils literal notranslate"><span class="pre">cleanAux</span></code> parameter to ensure the highest possible image quality. But this parameter should be used with care: if enabled, any noise present in the auxiliary images will end up in the denoised image as well, as residual noise. Thus, <code class="docutils literal notranslate"><span class="pre">cleanAux</span></code> should be enabled only if the auxiliary images are guaranteed to be noise-free.</p>
<p>Usually it is difficult to provide clean feature images, and some residual noise might be present in the output even with <code class="docutils literal notranslate"><span class="pre">cleanAux</span></code> being disabled. To eliminate this noise and to even improve the sharpness of texture details, the auxiliary images should be first denoised in a prefiltering step, as mentioned earlier. Then, these denoised auxiliary images could be used for denoising the beauty image. Since these are now noise-free, the <code class="docutils literal notranslate"><span class="pre">cleanAux</span></code> parameter should be enabled. See section <a class="reference external" href="#denoising-with-prefiltering-c11-api">Denoising with prefiltering (C++11 API)</a> for a simple code example. Prefiltering makes denoising much more expensive but if there are multiple color AOVs to denoise, the prefiltered auxiliary images can be reused for denoising multiple AOVs, amortizing the cost of the prefiltering step.</p>
<p>Thus, for final frame denoising, where the best possible image quality is required, it is recommended to prefilter the auxiliary features if they are noisy and enable the <code class="docutils literal notranslate"><span class="pre">cleanAux</span></code> parameter. Denoising with noisy auxiliary features should be reserved for previews and interactive rendering.</p>
<p>All auxiliary images should use the same pixel reconstruction filter as the beauty image. Using a properly anti-aliased beauty image but aliased albedo or normal images will likely introduce artifacts around edges.</p>
<section id="albedo">
<h4>Albedo<a class="headerlink" href="#albedo" title="Permalink to this heading">#</a></h4>
<p>The albedo image is the feature image that usually provides the biggest quality improvement. It should contain the approximate color of the surfaces independent of illumination and viewing angle.</p>
<p>[Example albedo image obtained using the first hit. Note that the albedos of all transparent surfaces are 1.][imgMazdaAlbedoFirstHit]</p>
<p>[Example albedo image obtained using the first diffuse or glossy (non-delta) hit. Note that the albedos of perfect specular (delta) transparent surfaces are computed as the Fresnel blend of the reflected and transmitted albedos.][imgMazdaAlbedoNonDeltaHit]</p>
<p>For simple matte surfaces this means using the diffuse color/texture as the albedo. For other, more complex surfaces it is not always obvious what is the best way to compute the albedo, but the denoising filter is flexible to a certain extent and works well with differently computed albedos. Thus it is not necessary to compute the strict, exact albedo values but must be always between 0 and 1.</p>
<p>For metallic surfaces the albedo should be either the reflectivity at normal incidence (e.g. from the artist friendly metallic Fresnel model) or the average reflectivity; or if these are constant (not textured) or unknown, the albedo can be simply 1 as well.</p>
<p>The albedo for dielectric surfaces (e.g. glass) should be either 1 or, if the surface is perfect specular (i.e. has a delta BSDF), the Fresnel blend of the reflected and transmitted albedos. The latter usually works better but only if it does not introduce too much noise or the albedo is prefiltered. If noise is an issue, we recommend to split the path into a reflected and a transmitted path at the first hit, and perhaps fall back to an albedo of 1 for subsequent dielectric hits. The reflected albedo in itself can be used for mirror-like surfaces as well.</p>
<p>The albedo for layered surfaces can be computed as the weighted sum of the albedos of the individual layers. Non-absorbing clear coat layers can be simply ignored (or the albedo of the perfect specular reflection can be used as well) but absorption should be taken into account.</p>
</section>
<section id="normal">
<h4>Normal<a class="headerlink" href="#normal" title="Permalink to this heading">#</a></h4>
<p>The normal image should contain the shading normals of the surfaces either in world-space or view-space. It is recommended to include normal maps to preserve as much detail as possible.</p>
<p>[Example normal image obtained using the first hit (the values are actually in [−1, 1] but were mapped to [0, 1] for illustration purposes).][imgMazdaNormalFirstHit]</p>
<p>[Example normal image obtained using the first diffuse or glossy (non-delta) hit. Note that the normals of perfect specular (delta) transparent surfaces are computed as the Fresnel blend of the reflected and transmitted normals.][imgMazdaNormalNonDeltaHit]</p>
<p>Just like any other input image, the normal image should be anti-aliased (i.e. by accumulating the normalized normals per pixel). The final accumulated normals do not have to be normalized but must be in the [-1, 1] range (i.e. normals mapped to [0, 1] are <em>not</em> acceptable and must be remapped to [−1, 1]).</p>
<p>Similar to the albedo, the normal can be stored for either the first or a subsequent hit (if the first hit has a perfect specular/delta BSDF).</p>
</section>
<section id="weights">
<h4>Weights<a class="headerlink" href="#weights" title="Permalink to this heading">#</a></h4>
<p>Instead of using the built-in trained models for filtering, it is also possible to specify user-trained models at runtime. This can be achieved by passing the model <em>weights</em> blob corresponding to the specified set of features and other filter parameters, produced by the included training tool. See Section [Training] for details.</p>
</section>
</section>
<section id="rtlightmap">
<h3>RTLightmap<a class="headerlink" href="#rtlightmap" title="Permalink to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">RTLightmap</span></code> filter is a variant of the <code class="docutils literal notranslate"><span class="pre">RT</span></code> filter optimized for denoising HDR and normalized directional (e.g. spherical harmonics) lightmaps. It does not support LDR images.</p>
<p>The filter can be created by passing <code class="docutils literal notranslate"><span class="pre">&quot;RTLightmap&quot;</span></code> to the <code class="docutils literal notranslate"><span class="pre">oidnNewFilter</span></code> function as the filter type. The filter supports the following parameters:</p>
<table class="table" id="id8">
<caption><span class="caption-text">Parameters supported by the <code class="docutils literal notranslate"><span class="pre">RTLightmap</span></code> filter.</span><a class="headerlink" href="#id8" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">Image</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">color</span></code></p></td>
<td></td>
<td><p>input beauty image (3 channels, HDR values in [0, +∞), interpreted such that, after scaling with the <code class="docutils literal notranslate"><span class="pre">inputScale</span></code> parameter, a value of 1 corresponds to aluminance level of 100 cd/m²; directional values in [-1, 1])</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">Image</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">output</span></code></p></td>
<td></td>
<td><p>output image (3 channels); can be one of the input images</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">directional</span></code></p></td>
<td><p>false</p></td>
<td><p>whether the input contains normalized coefficients (in [-1, 1]) of a directional lightmap (e.g. normalized L1 or higher spherical harmonics band with the L0 band divided out); if the range of the coefficients is different from [-1, 1], the <code class="docutils literal notranslate"><span class="pre">inputScale</span></code> parameter can be used to adjust the range without changing the stored values</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">inputScale</span></code></p></td>
<td><p>NaN</p></td>
<td><p>scales input color values before filtering, without scaling the output too, which can be used to map color values to the expected range, e.g. for mapping HDR values to physical units (which affects the quality of the output but <em>not</em> the range of the output values); if set to NaN, the scale is computed implicitly for HDR images or set to 1 otherwise</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">Data</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">weights</span></code></p></td>
<td><p><em>optional</em></p></td>
<td><p>trained model weights blob</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">maxMemoryMB</span></code></p></td>
<td><p>3000</p></td>
<td><p>approximate maximum scratch memory to use in megabytes (actual memory usage may be higher); limiting memory usage may cause slower denoising due to internally splitting the image into overlapping tiles</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">int</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">alignment</span></code></p></td>
<td></td>
<td><p>when manually denoising in tiles, the tile size and offsets should be multiples of this amount of pixels to avoid artifacts; when denoising HDR images <code class="docutils literal notranslate"><span class="pre">inputScale</span></code> <em>must</em> be set by the user to avoid seam artifacts</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">int</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">overlap</span></code></p></td>
<td></td>
<td><p>when manually denoising in tiles, the tiles should overlap by this amount of pixels</p></td>
</tr>
</tbody>
</table>
</section>
</section>
</section>
<section id="training">
<h1>Training<a class="headerlink" href="#training" title="Permalink to this heading">#</a></h1>
<p>The Intel Open Image Denoise source distribution includes a Python-based neural network training toolkit (located in the <code class="docutils literal notranslate"><span class="pre">training</span></code> directory), which can be used to train the denoising filter models with image datasets provided by the user. This is an advanced feature of the library which usage requires some background knowledge of machine learning and basic familiarity with deep learning frameworks and toolkits (e.g. PyTorch or TensorFlow, TensorBoard).</p>
<p>The training toolkit consists of the following command-line scripts:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">preprocess.py</span></code>: Preprocesses training and validation datasets.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">train.py</span></code>: Trains a model using preprocessed datasets.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">infer.py</span></code>: Performs inference on a dataset using the specified training result.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">export.py</span></code>: Exports a training result to the runtime model weights format.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">find_lr.py</span></code>: Tool for finding the optimal minimum and maximum learning rates.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">visualize.py</span></code>: Invokes TensorBoard for visualizing statistics of a training result.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">split_exr.py</span></code>: Splits a multi-channel EXR image into multiple feature images.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">convert_image.py</span></code>: Converts a feature image to a different image format.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">compare_image.py</span></code>: Compares two feature images using the specified quality metrics.</p></li>
</ul>
<section id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this heading">#</a></h2>
<p>Before you can run the training toolkit you need the following prerequisites:</p>
<ul class="simple">
<li><p>Linux (other operating systems are currently not supported)</p></li>
<li><p>Python 3.7 or later</p></li>
<li><p><a class="reference external" href="https://pytorch.org/">PyTorch</a> 1.8 or later</p></li>
<li><p><a class="reference external" href="https://numpy.org/">NumPy</a> 1.19 or later</p></li>
<li><p><a class="reference external" href="http://openimageio.org/">OpenImageIO</a> 2.1 or later</p></li>
<li><p><a class="reference external" href="https://www.tensorflow.org/tensorboard">TensorBoard</a> 2.4 or later (<em>optional</em>)</p></li>
</ul>
</section>
<section id="devices">
<h2>Devices<a class="headerlink" href="#devices" title="Permalink to this heading">#</a></h2>
<p>Most scripts in the training toolkit support selecting what kind of device (e.g. CPU, GPU) to use for the computations (<code class="docutils literal notranslate"><span class="pre">--device</span></code> or <code class="docutils literal notranslate"><span class="pre">-d</span></code> option). If multiple devices of the same kind are available (e.g. multiple GPUs), the user can specify which one of these to use (<code class="docutils literal notranslate"><span class="pre">--device_id</span></code> or <code class="docutils literal notranslate"><span class="pre">-k</span></code> option). Additionally, some scripts, like <code class="docutils literal notranslate"><span class="pre">train.py</span></code>, support data-parallel execution on multiple devices for faster performance (<code class="docutils literal notranslate"><span class="pre">--num_devices</span></code> or <code class="docutils literal notranslate"><span class="pre">-n</span></code> option).</p>
</section>
<section id="datasets">
<h2>Datasets<a class="headerlink" href="#datasets" title="Permalink to this heading">#</a></h2>
<p>A dataset should consist of a collection of noisy and corresponding noise-free reference images. It is possible to have more than one noisy version of the same image in the dataset, e.g. rendered at different samples per pixel and/or using different seeds.</p>
<p>The training toolkit expects to have all datasets (e.g. training, validation) in the same parent directory (e.g. <code class="docutils literal notranslate"><span class="pre">data</span></code>). Each dataset is stored in its own subdirectory (e.g. <code class="docutils literal notranslate"><span class="pre">train</span></code>, <code class="docutils literal notranslate"><span class="pre">valid</span></code>), which can have an arbitrary name.</p>
<p>The images must be stored in <a class="reference external" href="https://www.openexr.com/">OpenEXR</a> format (<code class="docutils literal notranslate"><span class="pre">.exr</span></code> files), and the filenames must have a specific format but the files can be stored in an arbitrary directory structure inside the dataset directory. The only restriction is that all versions of an image (noisy images and the reference image) must be located in the same subdirectory. Each feature of an image (e.g. color, albedo) must be stored in a separate image file, i.e. multi-channel EXR image files are not supported. If you have multi-channel EXRs, you can split them into separate images per feature using the included <code class="docutils literal notranslate"><span class="pre">split_exr.py</span></code> tool.</p>
<p>An image filename must consist of a base name, a suffix with the number of samples per pixel or whether it is the reference image (e.g. <code class="docutils literal notranslate"><span class="pre">_0128spp</span></code>, <code class="docutils literal notranslate"><span class="pre">_ref</span></code>), the feature type extension (e.g. <code class="docutils literal notranslate"><span class="pre">.hdr</span></code>, <code class="docutils literal notranslate"><span class="pre">.alb</span></code>), and the image format extension (<code class="docutils literal notranslate"><span class="pre">.exr</span></code>). The exact filename format as a regular expression is the following:</p>
<div class="highlight-regexp notranslate"><div class="highlight"><pre><span></span><span class="err">.+_([0-9]+(</span><span class="n">spp</span><span class="err">)?|</span><span class="n">ref</span><span class="err">|</span><span class="n">reference</span><span class="err">|</span><span class="n">gt</span><span class="err">|</span><span class="n">target</span><span class="err">)\.(</span><span class="n">hdr</span><span class="err">|</span><span class="n">ldr</span><span class="err">|</span><span class="n">sh</span><span class="err">1[</span><span class="n">xyz</span><span class="err">]|</span><span class="n">alb</span><span class="err">|</span><span class="n">nrm</span><span class="err">)\.</span><span class="n">exr</span>
</pre></div>
</div>
<p>The number of samples per pixel should be padded with leading zeros to have a fixed number of digits. If the reference image is not explicitly named as such (i.e. has the number of samples instead), the image with the most samples per pixel will be considered the reference.</p>
<p>The following image features are supported:</p>
<table class="table" id="id9">
<caption><span class="caption-text">Image features supported by the training toolkit.</span><a class="headerlink" href="#id9" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Feature</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Channels</p></th>
<th class="head"><p>File extension</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">hdr</span></code></p></td>
<td><p>color (HDR)</p></td>
<td><p>3</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.hdr.exr</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ldr</span></code></p></td>
<td><p>color (LDR)</p></td>
<td><p>3</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.ldr.exr</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sh1</span></code></p></td>
<td><p>color (normalized L1 spherical harmonics)</p></td>
<td><p>3 × 3 images</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.sh1x.exr</span></code>, <code class="docutils literal notranslate"><span class="pre">.sh1y.exr</span></code>, <code class="docutils literal notranslate"><span class="pre">.sh1z.exr</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">alb</span></code></p></td>
<td><p>albedo</p></td>
<td><p>3</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.alb.exr</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">nrm</span></code></p></td>
<td><p>normal</p></td>
<td><p>3</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.nrm.exr</span></code></p></td>
</tr>
</tbody>
</table>
<p>The following directory tree demonstrates an example root dataset directory (<code class="docutils literal notranslate"><span class="pre">data</span></code>) containing one dataset (<code class="docutils literal notranslate"><span class="pre">rt_train</span></code>) with HDR color and albedo feature images:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>data
`-- rt_train
    |-- scene1
    |   |-- view1_0001.alb.exr
    |   |-- view1_0001.hdr.exr
    |   |-- view1_0004.alb.exr
    |   |-- view1_0004.hdr.exr
    |   |-- view1_8192.alb.exr
    |   |-- view1_8192.hdr.exr
    |   |-- view2_0001.alb.exr
    |   |-- view2_0001.hdr.exr
    |   |-- view2_8192.alb.exr
    |   `-- view2_8192.hdr.exr
    |-- scene2_000008spp.alb.exr
    |-- scene2_000008spp.hdr.exr
    |-- scene2_000064spp.alb.exr
    |-- scene2_000064spp.hdr.exr
    |-- scene2_reference.alb.exr
    `-- scene2_reference.hdr.exr
</pre></div>
</div>
</section>
<section id="preprocessing-preprocess-py">
<h2>Preprocessing (preprocess.py)<a class="headerlink" href="#preprocessing-preprocess-py" title="Permalink to this heading">#</a></h2>
<p>Training and validation datasets can be used only after preprocessing them using the <code class="docutils literal notranslate"><span class="pre">preprocess.py</span></code> script. This will convert the specified training (<code class="docutils literal notranslate"><span class="pre">--train_data</span></code> or <code class="docutils literal notranslate"><span class="pre">-t</span></code> option) and validation datasets (<code class="docutils literal notranslate"><span class="pre">--valid_data</span></code> or <code class="docutils literal notranslate"><span class="pre">-v</span></code> option) located in the root dataset directory (<code class="docutils literal notranslate"><span class="pre">--data_dir</span></code> or <code class="docutils literal notranslate"><span class="pre">-D</span></code> option) to a format that can be loaded more efficiently during training. All preprocessed datasets will be stored in a root preprocessed dataset directory (<code class="docutils literal notranslate"><span class="pre">--preproc_dir</span></code> or <code class="docutils literal notranslate"><span class="pre">-P</span></code> option).</p>
<p>The preprocessing script requires the set of image features to include in the preprocessed dataset as command-line arguments. Only these specified features will be available for training but it is not required to use all of them at the same time. Thus, a single preprocessed dataset can be reused for training multiple models with different combinations of the preprocessed features.</p>
<p>By default, all input features are assumed to be noisy, including the auxiliary features (e.g. albedo, normal), each having versions at different samples per pixel. However, it is also possible to train with noise-free auxiliary features, in which case the reference auxiliary features are used instead of the various noisy ones (<code class="docutils literal notranslate"><span class="pre">--clean_aux</span></code> option).</p>
<p>Preprocessing also depends on the filter that will be trained (e.g. determines which HDR/LDR transfer function has to be used), which should be also specified (<code class="docutils literal notranslate"><span class="pre">--filter</span></code> or <code class="docutils literal notranslate"><span class="pre">-f</span></code> option). The alternative is to manually specify the transfer function (<code class="docutils literal notranslate"><span class="pre">--transfer</span></code> or <code class="docutils literal notranslate"><span class="pre">-x</span></code> option) and other filter-specific parameters, which could be useful for training custom filters.</p>
<p>For example, to preprocess the training and validation datasets (<code class="docutils literal notranslate"><span class="pre">rt_train</span></code> and <code class="docutils literal notranslate"><span class="pre">rt_valid</span></code>) with HDR color, albedo, and normal image features, for training the <code class="docutils literal notranslate"><span class="pre">RT</span></code> filter, the following command can be used:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">preprocess</span><span class="o">.</span><span class="n">py</span> <span class="n">hdr</span> <span class="n">alb</span> <span class="n">nrm</span> <span class="o">--</span><span class="nb">filter</span> <span class="n">RT</span> <span class="o">--</span><span class="n">train_data</span> <span class="n">rt_train</span> <span class="o">--</span><span class="n">valid_data</span> <span class="n">rt_valid</span>
</pre></div>
</div>
<p>It is possible to preprocess the same dataset multiple times, with possibly different combinations of features and options. The training script will use the most suitable and most recent preprocessed version depending on the training parameters.</p>
<p>For more details about using the preprocessing script, including other options, please have a look at the help message:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">preprocess</span><span class="o">.</span><span class="n">py</span> <span class="o">-</span><span class="n">h</span>
</pre></div>
</div>
</section>
<section id="training-train-py">
<h2>Training (train.py)<a class="headerlink" href="#training-train-py" title="Permalink to this heading">#</a></h2>
<p>The filters require separate trained models for each supported combination of input features. Thus, depending on which combinations of features the user wants to support for a particular filter, one or more models have to be trained.</p>
<p>After preprocessing the datasets, it is possible to start training a model using the <code class="docutils literal notranslate"><span class="pre">train.py</span></code> script. Similar to the preprocessing script, the input features must be specified (could be a subset of the preprocessed features), and the dataset names, directory paths, and the filter can be also passed.</p>
<p>The tool will produce a training <em>result</em>, the name of which can be either specified (<code class="docutils literal notranslate"><span class="pre">--result</span></code> or <code class="docutils literal notranslate"><span class="pre">-r</span></code> option) or automatically generated (by default). Each result is stored in its own subdirectory, and these are located in a common parent directory (<code class="docutils literal notranslate"><span class="pre">--results_dir</span></code> or <code class="docutils literal notranslate"><span class="pre">-R</span></code> option). If a training result already exists, the tool will resume training that result from the latest checkpoint.</p>
<p>The default training hyperparameters should work reasonably well in general, but some adjustments might be necessary for certain datasets to attain optimal performance, most importantly: the number of epochs (<code class="docutils literal notranslate"><span class="pre">--num_epochs</span></code> or <code class="docutils literal notranslate"><span class="pre">-e</span></code> option), the global mini-batch size (<code class="docutils literal notranslate"><span class="pre">--batch_size</span></code> or <code class="docutils literal notranslate"><span class="pre">-b</span></code> option), and the learning rate. The training tool uses a one-cycle learning rate schedule with cosine annealing, which can be configured by setting the base learning rate (<code class="docutils literal notranslate"><span class="pre">--learning_rate</span></code> or <code class="docutils literal notranslate"><span class="pre">--lr</span></code> option), the maximum learning rate (<code class="docutils literal notranslate"><span class="pre">--max_learning_rate</span></code> or <code class="docutils literal notranslate"><span class="pre">--max_lr</span></code> option), and the percentage of the cycle spent increasing the learning rate (<code class="docutils literal notranslate"><span class="pre">--learning_rate_warmup</span></code> or <code class="docutils literal notranslate"><span class="pre">--lr_warmup</span></code> option).</p>
<p>Example usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">train</span><span class="o">.</span><span class="n">py</span> <span class="n">hdr</span> <span class="n">alb</span> <span class="o">--</span><span class="nb">filter</span> <span class="n">RT</span> <span class="o">--</span><span class="n">train_data</span> <span class="n">rt_train</span> <span class="o">--</span><span class="n">valid_data</span> <span class="n">rt_valid</span> <span class="o">--</span><span class="n">result</span> <span class="n">rt_hdr_alb</span>
</pre></div>
</div>
<p>For finding the optimal learning rate range, we recommend using the included <code class="docutils literal notranslate"><span class="pre">find_lr.py</span></code> script, which trains one epoch using an increasing learning rate and logs the resulting losses in a comma-separated values (CSV) file. Plotting the loss curve can show when the model starts to learn (the base learning rate) and when it starts to diverge (the maximum learning rate).</p>
<p>The model is evaluated with the validation dataset at regular intervals (<code class="docutils literal notranslate"><span class="pre">--num_valid_epochs</span></code> option), and checkpoints are also regularly created (<code class="docutils literal notranslate"><span class="pre">--num_save_epochs</span></code> option) to save training progress. Also, some statistics are logged (e.g. training and validation losses, learning rate) per epoch, which can be later visualized with TensorBoard by running the <code class="docutils literal notranslate"><span class="pre">visualize.py</span></code> script, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">visualize</span><span class="o">.</span><span class="n">py</span> <span class="o">--</span><span class="n">result</span> <span class="n">rt_hdr_alb</span>
</pre></div>
</div>
<p>Training is performed with mixed precision (FP16 and FP32) by default, if it supported by the hardware, which makes training faster and use less memory. However, in some rare cases this might cause some convergence issues. The training precision can be manually set to FP32 if necessary (<code class="docutils literal notranslate"><span class="pre">--precision</span></code> or <code class="docutils literal notranslate"><span class="pre">-p</span></code> option).</p>
</section>
<section id="inference-infer-py">
<h2>Inference (infer.py)<a class="headerlink" href="#inference-infer-py" title="Permalink to this heading">#</a></h2>
<p>A training result can be tested by performing inference on an image dataset (<code class="docutils literal notranslate"><span class="pre">--input_data</span></code> or <code class="docutils literal notranslate"><span class="pre">-i</span></code> option) using the <code class="docutils literal notranslate"><span class="pre">infer.py</span></code> script. The dataset does <em>not</em> have to be preprocessed. In addition to the result to use, it is possible to specify which checkpoint to load as well (<code class="docutils literal notranslate"><span class="pre">-e</span></code> or <code class="docutils literal notranslate"><span class="pre">--num_epochs</span></code> option). By default the latest checkpoint is loaded.</p>
<p>The tool saves the output images in a separate directory (<code class="docutils literal notranslate"><span class="pre">--output_dir</span></code> or <code class="docutils literal notranslate"><span class="pre">-O</span></code> option) in the requested formats (<code class="docutils literal notranslate"><span class="pre">--format</span></code> or <code class="docutils literal notranslate"><span class="pre">-F</span></code> option). It also evaluates a set of image quality metrics (<code class="docutils literal notranslate"><span class="pre">--metric</span></code> or <code class="docutils literal notranslate"><span class="pre">-M</span></code> option), e.g. PSNR, SSIM, for images that have reference images available. All metrics are computed in tonemapped non-linear sRGB space. Thus, HDR images are first tonemapped (with Naughty Dog’s Filmic Tonemapper from John Hable’s <em>Uncharted 2: HDR Lighting</em> presentation) and converted to sRGB before evaluating the metrics.</p>
<p>Example usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">infer</span><span class="o">.</span><span class="n">py</span> <span class="o">--</span><span class="n">result</span> <span class="n">rt_hdr_alb</span> <span class="o">--</span><span class="n">input_data</span> <span class="n">rt_test</span> <span class="o">--</span><span class="nb">format</span> <span class="n">exr</span> <span class="n">png</span> <span class="o">--</span><span class="n">metric</span> <span class="n">ssim</span>
</pre></div>
</div>
<p>The inference tool supports prefiltering of auxiliary features as well, which can be performed by specifying the list of training results for each feature to prefilter (<code class="docutils literal notranslate"><span class="pre">--aux_results</span></code> or <code class="docutils literal notranslate"><span class="pre">-a</span></code> option). This is primarily useful for evaluating the quality of models trained with clean auxiliary features.</p>
</section>
<section id="exporting-results-export-py">
<h2>Exporting Results (export.py)<a class="headerlink" href="#exporting-results-export-py" title="Permalink to this heading">#</a></h2>
<p>The training result produced by the <code class="docutils literal notranslate"><span class="pre">train.py</span></code> script cannot be immediately used by the main library. It has to be first exported to the runtime model weights format, a <em>Tensor Archive</em> (TZA) file. Running the <code class="docutils literal notranslate"><span class="pre">export.py</span></code> script for a training result (and optionally a checkpoint epoch) will create a binary <code class="docutils literal notranslate"><span class="pre">.tza</span></code> file in the directory of the result, which can be either used at runtime through the API or it can be included in the library build by replacing one of the built-in weights files.</p>
<p>Example usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">export</span><span class="o">.</span><span class="n">py</span> <span class="o">--</span><span class="n">result</span> <span class="n">rt_hdr_alb</span>
</pre></div>
</div>
</section>
<section id="image-conversion-and-comparison">
<h2>Image Conversion and Comparison<a class="headerlink" href="#image-conversion-and-comparison" title="Permalink to this heading">#</a></h2>
<p>In addition to the already mentioned <code class="docutils literal notranslate"><span class="pre">split_exr.py</span></code> script, the toolkit contains a few other image utilities as well.</p>
<p><code class="docutils literal notranslate"><span class="pre">convert_image.py</span></code> converts a feature image to a different image format (and/or a different feature, e.g. HDR color to LDR), performing tonemapping and other transforms as well if needed. For HDR images the exposure can be adjusted by passing a linear exposure scale (<code class="docutils literal notranslate"><span class="pre">--exposure</span></code> or <code class="docutils literal notranslate"><span class="pre">-E</span></code> option). Example usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">convert_image</span><span class="o">.</span><span class="n">py</span> <span class="n">view1_0004</span><span class="o">.</span><span class="n">hdr</span><span class="o">.</span><span class="n">exr</span> <span class="n">view1_0004</span><span class="o">.</span><span class="n">png</span> <span class="o">--</span><span class="n">exposure</span> <span class="mf">2.5</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">compare_image.py</span></code> script compares two feature images (preferably having the dataset filename format to correctly detect the feature) using the specified image quality metrics, similar to the <code class="docutils literal notranslate"><span class="pre">infer.py</span></code> tool. Example usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">compare_image</span><span class="o">.</span><span class="n">py</span> <span class="n">view1_0004</span><span class="o">.</span><span class="n">hdr</span><span class="o">.</span><span class="n">exr</span> <span class="n">view1_8192</span><span class="o">.</span><span class="n">hdr</span><span class="o">.</span><span class="n">exr</span> <span class="o">--</span><span class="n">exposure</span> <span class="mf">2.5</span> <span class="o">--</span><span class="n">metric</span> <span class="n">mse</span> <span class="n">ssim</span>
</pre></div>
</div>
</section>
</section>


                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="oidn-intro.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Introduction</p>
      </div>
    </a>
    <a class="right-next"
       href="ospray.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">OSPRay</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Open Image Denoise API</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#examples">Examples</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#basic-denoising-c99-api">Basic denoising (C99 API)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#basic-denoising-c-11-api">Basic denoising (C++11 API)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#denoising-with-prefiltering-c-11-api">Denoising with prefiltering (C++11 API)</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#device">Device</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#error-handling">Error Handling</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#buffer">Buffer</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#data-format">Data Format</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#filter">Filter</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#rt">RT</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#albedo">Albedo</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#normal">Normal</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#weights">Weights</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#rtlightmap">RTLightmap</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#training">Training</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#prerequisites">Prerequisites</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#devices">Devices</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#datasets">Datasets</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#preprocessing-preprocess-py">Preprocessing (preprocess.py)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#training-train-py">Training (train.py)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#inference-infer-py">Inference (infer.py)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exporting-results-export-py">Exporting Results (export.py)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#image-conversion-and-comparison">Image Conversion and Comparison</a></li>
</ul>
</li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2022, Intel Corporation.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>