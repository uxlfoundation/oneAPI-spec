<!--
SPDX-FileCopyrightText: 2019-2020 Intel Corporation

SPDX-License-Identifier: MIT
-->



<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>OSPRay API &#8212; oneAPI Specification 1.2-rev-1 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" href="../../../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinxmark.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/sphinx_highlight.js"></script>
    <script src="../../../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script src="../../../_static/custom.js"></script>
    <script>window.MathJax = {"tex": {"macros": {"src": "\\operatorname{src}", "srclayer": "\\operatorname{src\\_layer}", "srciter": "\\operatorname{src\\_iter}", "srciterc": "\\operatorname{src\\_iter\\_c}", "weights": "\\operatorname{weights}", "weightslayer": "\\operatorname{weights\\_layer}", "weightsiter": "\\operatorname{weights\\_iter}", "weightspeephole": "\\operatorname{weights\\_peephole}", "weightsprojection": "\\operatorname{weights\\_projection}", "bias": "\\operatorname{bias}", "dst": "\\operatorname{dst}", "dstlayer": "\\operatorname{dst\\_layer}", "dstiter": "\\operatorname{dst\\_iter}", "dstiterc": "\\operatorname{dst\\_iter\\_c}", "diffsrc": "\\operatorname{diff\\_src}", "diffsrclayer": "\\operatorname{diff\\_src\\_layer}", "diffsrciter": "\\operatorname{diff\\_src\\_iter}", "diffsrciterc": "\\operatorname{diff\\_src\\_iter\\_c}", "diffweights": "\\operatorname{diff\\_weights}", "diffweightslayer": "\\operatorname{diff\\_weights\\_layer}", "diffweightsiter": "\\operatorname{diff\\_weights\\_iter}", "diffweightspeephole": "\\operatorname{diff\\_weights\\_peephole}", "diffweightsprojection": "\\operatorname{diff\\_weights\\_projection}", "diffbias": "\\operatorname{diff\\_bias}", "diffdst": "\\operatorname{diff\\_dst}", "diffdstlayer": "\\operatorname{diff\\_dst\\_layer}", "diffdstiter": "\\operatorname{diff\\_dst\\_iter}", "diffdstiterc": "\\operatorname{diff\\_dst\\_iter\\_c}", "diffgamma": "\\operatorname{diff\\_\\gamma}", "diffbeta": "\\operatorname{diff\\_\\beta}", "workspace": "\\operatorname{workspace}", "srcshape": "\\operatorname{src\\_shape}"}}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'elements/oneART/source/ospray-spec';</script>
    <link rel="icon" href="../../../_static/favicons.png"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Appendices" href="appendices.html" />
    <link rel="prev" title="Introduction" href="ospray-intro.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the spec..."
         aria-label="Search the spec..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../../../index.html">
  
  
  
  
    
    
      
    
    
    <img src="../../../_static/oneAPI-rgb-rev-100.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../../../_static/oneAPI-rgb-rev-100.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../architecture.html">Software Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sycl/source/index.html">SYCL</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../oneDPL/source/index.html">oneDPL</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../oneDPL/source/common.html">Namespaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../oneDPL/source/parallel_api.html">Parallel API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../oneDPL/source/sycl_kernels_api.html">SYCL Kernels API</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../oneDNN/source/index.html">oneDNN</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../oneDNN/source/introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../oneDNN/source/conventions.html">Conventions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../oneDNN/source/execution_model/index.html">Execution Model</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../oneDNN/source/data_model/index.html">Data model</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneDNN/source/data_model/data_types/index.html">Data types</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/data_model/data_types/bfloat16.html">Bfloat16</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/data_model/data_types/int8.html">Int8</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneDNN/source/data_model/memory/index.html">Memory</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/data_model/memory/formats.html">Memory Formats</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/data_model/memory/objects.html">Memory Descriptors and Objects</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../oneDNN/source/primitives/index.html">Primitives</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../oneDNN/source/primitives/general.html">Common Definitions</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneDNN/source/primitives/attributes/index.html">Attributes</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-7"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/primitives/attributes/post-ops.html">Post-ops</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../oneDNN/source/primitives/batch_normalization.html">Batch Normalization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneDNN/source/primitives/binary.html">Binary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneDNN/source/primitives/concat.html">Concat</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneDNN/source/primitives/convolution.html">Convolution and Deconvolution</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneDNN/source/primitives/eltwise.html">Elementwise</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneDNN/source/primitives/inner-product.html">Inner Product</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneDNN/source/primitives/layer_normalization.html">Layer normalization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneDNN/source/primitives/lrn.html">Local Response Normalization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneDNN/source/primitives/matmul.html">Matrix Multiplication</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneDNN/source/primitives/pooling.html">Pooling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneDNN/source/primitives/prelu.html">Prelu</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneDNN/source/primitives/reduction.html">Reduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneDNN/source/primitives/reorder.html">Reorder</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneDNN/source/primitives/resampling.html">Resampling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneDNN/source/primitives/rnn.html">RNN</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneDNN/source/primitives/shuffle.html">Shuffle</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneDNN/source/primitives/softmax.html">Softmax</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneDNN/source/primitives/sum.html">Sum</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../oneDNN/source/graph/index.html">Graph extension</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-8"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../oneDNN/source/graph/general.html">Common Definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneDNN/source/graph/programming_model.html">Programming Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneDNN/source/graph/data_model.html">Data Model</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneDNN/source/graph/ops/index.html">Operation Set</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-9"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Abs.html">Abs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/AbsBackward.html">AbsBackward</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Add.html">Add</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/AvgPool.html">AvgPool</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/AvgPoolBackward.html">AvgPoolBackward</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/BatchNormForwardTraining.html">BatchNormForwardTraining</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/BatchNormInference.html">BatchNormInference</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/BatchNormTrainingBackward.html">BatchNormTrainingBackward</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/BiasAdd.html">BiasAdd</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/BiasAddBackward.html">BiasAddBackward</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Clamp.html">Clamp</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/ClampBackward.html">ClampBackward</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Concat.html">Concat</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/ConvTranspose.html">ConvTranspose</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/ConvTransposeBackwardData.html">ConvTransposeBackwardData</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/ConvTransposeBackwardWeights.html">ConvTransposeBackwardWeights</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Convolution.html">Convolution</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/ConvolutionBackwardData.html">ConvolutionBackwardData</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/ConvolutionBackwardWeights.html">ConvolutionBackwardWeights</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Dequantize.html">Dequantize</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Divide.html">Divide</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/DynamicDequantize.html">DynamicDequantize</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/DynamicQuantize.html">DynamicQuantize</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Elu.html">Elu</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/EluBackward.html">EluBackward</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/End.html">End</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Exp.html">Exp</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/GELU.html">GELU</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/GELUBackward.html">GELUBackward</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/HardSigmoid.html">HardSigmoid</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/HardSigmoidBackward.html">HardSigmoidBackward</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/HardSwish.html">HardSwish</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/HardSwishBackward.html">HardSwishBackward</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Interpolate.html">Interpolate</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/InterpolateBackward.html">InterpolateBackward</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/LayerNorm.html">LayerNorm</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/LayerNormBackward.html">LayerNormBackward</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/LeakyReLU.html">LeakyReLU</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Log.html">Log</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/LogSoftmax.html">LogSoftmax</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/LogSoftmaxBackward.html">LogSoftmaxBackward</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/MatMul.html">MatMul</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/MaxPool.html">MaxPool</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/MaxPoolBackward.html">MaxPoolBackward</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Maximum.html">Maximum</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Minimum.html">Minimum</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Mish.html">Mish</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/MishBackward.html">MishBackward</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Multiply.html">Multiply</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Pow.html">Pow</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/PReLU.html">PReLU</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/PReLUBackward.html">PReLUBackward</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Quantize.html">Quantize</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/ReLU.html">ReLU</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/ReLUBackward.html">ReLUBackward</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Reciprocal.html">Reciprocal</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/ReduceL1.html">ReduceL1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/ReduceL2.html">ReduceL2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/ReduceMax.html">ReduceMax</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/ReduceMean.html">ReduceMean</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/ReduceMin.html">ReduceMin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/ReduceProd.html">ReduceProd</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/ReduceSum.html">ReduceSum</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Reorder.html">Reorder</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Round.html">Round</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Select.html">Select</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Sigmoid.html">Sigmoid</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/SigmoidBackward.html">SigmoidBackward</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/SoftPlus.html">SoftPlus</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/SoftPlusBackward.html">SoftPlusBackward</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Softmax.html">SoftMax</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/SoftmaxBackward.html">SoftMaxBackward</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Sqrt.html">Sqrt</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/SqrtBackward.html">SqrtBackward</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Square.html">Square</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/SquaredDifference.html">SquaredDifference</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/StaticReshape.html">StaticReshape</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/StaticTranspose.html">StaticTranspose</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Subtract.html">Subtract</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Tanh.html">Tanh</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/TanhBackward.html">TanhBackward</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/TypeCast.html">TypeCast</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDNN/source/graph/ops/Wildcard.html">Wildcard</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../oneCCL/source/index.html">oneCCL</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-10"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../oneCCL/source/introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../oneCCL/source/namespaces.html">Namespaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../oneCCL/source/spec_version.html">Current Version of this oneCCL Specification</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../oneCCL/source/definitions.html">Definitions</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-11"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../oneCCL/source/spec/main_objects.html">oneCCL Concepts</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneCCL/source/spec/operations.html">Communication Operations</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-12"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneCCL/source/spec/datatypes.html">Datatypes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneCCL/source/spec/reductions.html">Reductions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneCCL/source/spec/collective_operations.html">Collective Operations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneCCL/source/spec/operation_attributes.html">Operation Attributes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneCCL/source/spec/operation_progress.html">Operation Progress Tracking</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../oneCCL/source/spec/error_handling.html">Error handling</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../oneCCL/source/programming_model.html">Programming Model</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-13"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../oneCCL/source/spec/generic_workflow.html">Generic Workflow</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../l0/source/index.html">Level Zero</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../oneDAL/source/index.html">oneDAL</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-14"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../oneDAL/source/introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../oneDAL/source/glossary.html">Glossary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../oneDAL/source/notations.html">Mathematical Notations</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../oneDAL/source/programming_model/index.html">Programming model</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-15"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../oneDAL/source/programming_model/end_to_end_example.html">End-to-end example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneDAL/source/programming_model/descriptors.html">Descriptors</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneDAL/source/programming_model/operations/index.html">Operations</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-16"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneDAL/source/programming_model/operations/support.html">Supported operations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../oneDAL/source/programming_model/computational_modes.html">Computational modes</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../oneDAL/source/common_interface/index.html">Common Interface</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-17"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../oneDAL/source/common_interface/spec_version.html">Current Version of this oneDAL Specification</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneDAL/source/common_interface/header_files_and_namespaces.html">Header files</a></li>

<li class="toctree-l3"><a class="reference internal" href="../../oneDAL/source/common_interface/error_handling.html">Error handling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneDAL/source/common_interface/common_type_definitions.html">Common type definitions</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../oneDAL/source/data_management/index.html">Data management</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-18"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../oneDAL/source/data_management/array.html">Array</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneDAL/source/data_management/accessors.html">Accessors</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-19"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneDAL/source/data_management/accessor/column.html">Column accessor</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDAL/source/data_management/accessor/row.html">Row accessor</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneDAL/source/data_management/data_sources.html">Data Sources</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-20"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneDAL/source/data_management/csv_data_source.html">CSV data source</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneDAL/source/data_management/tables.html">Tables</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-21"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneDAL/source/data_management/table/homogen.html">Homogeneous table</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../oneDAL/source/algorithms/index.html">Algorithms</a><input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-22"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneDAL/source/algorithms/clustering/index.html">Clustering</a><input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-23"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneDAL/source/algorithms/clustering/kmeans.html">K-Means</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneDAL/source/algorithms/clustering/kmeans_init.html">K-Means initialization</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneDAL/source/algorithms/nearest_neighbors/index.html">Nearest Neighbors (kNN)</a><input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-24"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneDAL/source/algorithms/nearest_neighbors/knn_classification.html">k-Nearest Neighbors Classification (k-NN)</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneDAL/source/algorithms/decomposition/index.html">Decomposition</a><input class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-25"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneDAL/source/algorithms/decomposition/pca.html">Principal Components Analysis (PCA)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../oneDAL/source/appendix/index.html">Appendix</a><input class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-26"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../oneDAL/source/appendix/kd_tree.html">k-d Tree</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../oneDAL/source/bibliography.html">Bibliography</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../oneTBB/source/nested-index.html">oneTBB</a><input class="toctree-checkbox" id="toctree-checkbox-27" name="toctree-checkbox-27" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-27"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../oneTBB/source/nested-gen-info.html">General Information</a><input class="toctree-checkbox" id="toctree-checkbox-28" name="toctree-checkbox-28" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-28"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../oneTBB/source/intro.html">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneTBB/source/notation.html">Notational Conventions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneTBB/source/identifiers.html">Identifiers</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneTBB/source/named_requirements.html">Named Requirements</a><input class="toctree-checkbox" id="toctree-checkbox-29" name="toctree-checkbox-29" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-29"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/algorithms/range.html">Range</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/algorithms/splittable.html">Splittable</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/algorithms/par_for_body.html">ParallelForBody</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/algorithms/par_for_func.html">ParallelForFunc</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/algorithms/par_for_index.html">ParallelForIndex</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/algorithms/par_reduce_body.html">ParallelReduceBody</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/algorithms/par_reduce_func.html">ParallelReduceFunc</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/algorithms/par_reduce_reduction.html">ParallelReduceReduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/algorithms/par_for_each_body.html">ParallelForEachBody</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/algorithms/container_based_sequence.html">ContainerBasedSequence</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/algorithms/par_scan_body.html">ParallelScanBody</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/algorithms/par_scan_combine.html">ParallelScanCombine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/algorithms/par_scan_func.html">ParallelScanFunc</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/algorithms/blocked_range_val.html">BlockedRangeValue</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/algorithms/filter_body.html">FilterBody</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/mutexes/mutex.html">Mutex</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/mutexes/rw_mutex.html">ReaderWriterMutex</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/containers/hash_compare.html">HashCompare</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/containers/container_range.html">ContainerRange</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/task_scheduler/suspend_func.html">SuspendFunc</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/flow_graph/async_node_body.html">AsyncNodeBody</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/flow_graph/continue_node_body.html">ContinueNodeBody</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/flow_graph/gateway_type.html">GatewayType</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/flow_graph/function_node_body.html">FunctionNodeBody</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/flow_graph/join_node_func_obj.html">JoinNodeFunctionObject</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/flow_graph/input_node_body.html">InputNodeBody</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/flow_graph/multifunction_node_body.html">MultifunctionNodeBody</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/named_requirements/flow_graph/sequencer.html">Sequencer</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../oneTBB/source/thread_safety.html">Thread Safety</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../oneTBB/source/nested-interfaces.html">oneTBB Interfaces</a><input class="toctree-checkbox" id="toctree-checkbox-30" name="toctree-checkbox-30" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-30"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneTBB/source/configuration.html">Configuration</a><input class="toctree-checkbox" id="toctree-checkbox-31" name="toctree-checkbox-31" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-31"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/configuration/namespaces.html">Namespaces</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/configuration/version_information.html">Version Information</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/configuration/enabling_debugging_features.html">Enabling Debugging Features</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/configuration/feature_macros.html">Feature Macros</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneTBB/source/algorithms.html">Algorithms</a><input class="toctree-checkbox" id="toctree-checkbox-32" name="toctree-checkbox-32" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-32"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/algorithms/functions/collaborative_call_once_func.html">collaborative_call_once</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/algorithms/functions/parallel_for_func.html">parallel_for</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/algorithms/functions/parallel_reduce_func.html">parallel_reduce</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/algorithms/functions/parallel_deterministic_reduce_func.html">parallel_deterministic_reduce</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/algorithms/functions/parallel_scan_func.html">parallel_scan</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/algorithms/functions/parallel_for_each_func.html">parallel_for_each</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/algorithms/functions/parallel_invoke_func.html">parallel_invoke</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/algorithms/functions/parallel_pipeline_func.html">parallel_pipeline</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/algorithms/functions/parallel_sort_func.html">parallel_sort</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/algorithms/blocked_ranges/blocked_range_cls.html">blocked_range</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/algorithms/blocked_ranges/blocked_range2d_cls.html">blocked_range2d</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/algorithms/blocked_ranges/blocked_range3d_cls.html">blocked_range3d</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/algorithms/partitioners/auto_partitioner.html">auto_partitioner</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/algorithms/partitioners/affinity_partitioner.html">affinity_partitioner</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/algorithms/partitioners/static_partitioner.html">static_partitioner</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/algorithms/partitioners/simple_partitioner.html">simple_partitioner</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/algorithms/split_tags/proportional_split_cls.html">proportional split</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/algorithms/split_tags/split_cls.html">split</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneTBB/source/flow_graph.html">Flow Graph</a><input class="toctree-checkbox" id="toctree-checkbox-33" name="toctree-checkbox-33" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-33"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/graph_cls.html">graph</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/graph_node_cls.html">graph_node</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/sender.html">sender</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/receiver.html">receiver</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/forwarding_and_buffering.html">Forwarding and Buffering</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/continue_node_cls.html">continue_node</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/func_node_cls.html">function_node</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/input_node_cls.html">input_node</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/multifunc_node_cls.html">multifunction_node</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/async_node_cls.html">async_node</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/functional_node_policies.html">Function Nodes Policies</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/node_priorities.html">Nodes Priorities</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/predefined_concurrency_limits.html">Predefined Concurrency Limits</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/copy_body_func.html">copy_body</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/overwrite_node_cls.html">overwrite_node</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/write_once_node_cls.html">write_once_node</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/buffer_node_cls.html">buffer_node</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/queue_node_cls.html">queue_node</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/priority_queue_node_cls.html">priority_queue_node</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/sequencer_node_cls.html">sequencer_node</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/limiter_node_cls.html">limiter_node</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/broadcast_node_cls.html">broadcast_node</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/join_node_cls.html">join_node</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/split_node_cls.html">split_node</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/indexer_node_cls.html">indexer_node</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/composite_node_cls.html">composite_node</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/input_port_func.html">input_port</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/output_port_func.html">output_port</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/make_edge_func.html">make_edge</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/remove_edge_func.html">remove_edge</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/continue_msg_cls.html">continue_msg</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/tagged_msg_cls.html">tagged_msg</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/dependency_flow_graph_example.html">Dependency Flow Graph Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/flow_graph/message_flow_graph_example.html">Message Flow Graph Example</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneTBB/source/task_scheduler.html">Task Scheduler</a><input class="toctree-checkbox" id="toctree-checkbox-34" name="toctree-checkbox-34" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-34"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/task_scheduler/scheduling_controls/task_group_context_cls.html">task_group_context</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/task_scheduler/scheduling_controls/global_control_cls.html">global_control</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/task_scheduler/scheduling_controls/resumable_tasks.html">Resumable tasks</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/task_scheduler/scheduling_controls/task_scheduler_handle_cls.html">task_scheduler_handle</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/task_scheduler/task_group/task_group_cls.html">task_group</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/task_scheduler/task_group/task_group_status_enum.html">task_group_status</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/task_scheduler/task_group/task_handle.html">task_handle</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/task_scheduler/task_arena/task_arena_cls.html">task_arena</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/task_scheduler/task_arena/this_task_arena_ns.html">this_task_arena</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/task_scheduler/task_arena/task_scheduler_observer_cls.html">task_scheduler_observer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/task_scheduler/attach_tag_type.html">attach tag type</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneTBB/source/containers.html">Containers</a><input class="toctree-checkbox" id="toctree-checkbox-35" name="toctree-checkbox-35" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-35"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/containers/concurrent_vector_cls.html">concurrent_vector</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/containers/concurrent_queue_cls.html">concurrent_queue</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/containers/concurrent_bounded_queue_cls.html">concurrent_bounded_queue</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/containers/concurrent_priority_queue_cls.html">concurrent_priority_queue</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/containers/concurrent_hash_map_cls.html">concurrent_hash_map</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/containers/concurrent_unordered_map_cls.html">concurrent_unordered_map</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/containers/concurrent_unordered_multimap.html">concurrent_unordered_multimap</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/containers/concurrent_unordered_set_cls.html">concurrent_unordered_set</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/containers/concurrent_unordered_multiset.html">concurrent_unordered_multiset</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/containers/concurrent_map_cls.html">concurrent_map</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/containers/concurrent_multimap_cls.html">concurrent_multimap</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/containers/concurrent_set_cls.html">concurrent_set</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/containers/concurrent_multiset_cls.html">concurrent_multiset</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/containers/auxiliary/tbb_hash_compare_cls.html">tbb_hash_compare</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/containers/auxiliary/node_handles_cls.html">Node handles</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneTBB/source/thread_local_storage.html">Thread Local Storage</a><input class="toctree-checkbox" id="toctree-checkbox-36" name="toctree-checkbox-36" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-36"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/thread_local_storage/combinable_cls.html">combinable</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/thread_local_storage/enumerable_thread_specific_cls.html">enumerable_thread_specific</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/thread_local_storage/flattened2d_cls.html">flattened2d</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../oneTBB/source/nested-aux-interfaces.html">oneTBB Auxiliary Interfaces</a><input class="toctree-checkbox" id="toctree-checkbox-37" name="toctree-checkbox-37" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-37"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneTBB/source/memory_allocation.html">Memory Allocation</a><input class="toctree-checkbox" id="toctree-checkbox-38" name="toctree-checkbox-38" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-38"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/memory_allocation/tbb_allocator_cls.html">tbb_allocator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/memory_allocation/scalable_allocator_cls.html">scalable_allocator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/memory_allocation/cache_aligned_allocator_cls.html">cache_aligned_allocator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/memory_allocation/cache_aligned_resource_cls.html">cache_aligned_resource</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/memory_allocation/scalable_memory_resource_func.html">scalable_memory_resource</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/memory_allocation/c_interface_to_scalable_allocator.html">C Interface to Scalable Allocator</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneTBB/source/mutual_exclusion.html">Mutual Exclusion</a><input class="toctree-checkbox" id="toctree-checkbox-39" name="toctree-checkbox-39" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-39"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/mutual_exclusion/mutex_cls.html">mutex</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/mutual_exclusion/rw_mutex_cls.html">rw_mutex</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/mutual_exclusion/spin_mutex_cls.html">spin_mutex</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/mutual_exclusion/spin_rw_mutex_cls.html">spin_rw_mutex</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/mutual_exclusion/speculative_spin_mutex_cls.html">speculative_spin_mutex</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/mutual_exclusion/speculative_spin_rw_mutex_cls.html">speculative_spin_rw_mutex</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/mutual_exclusion/queuing_mutex_cls.html">queuing_mutex</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/mutual_exclusion/queuing_rw_mutex_cls.html">queuing_rw_mutex</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/mutual_exclusion/null_mutex_cls.html">null_mutex</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/mutual_exclusion/null_rw_mutex_cls.html">null_rw_mutex</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneTBB/source/timing.html">Timing</a><input class="toctree-checkbox" id="toctree-checkbox-40" name="toctree-checkbox-40" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-40"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneTBB/source/timing/tick_count_cls.html">tick_count class</a></li>


</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../oneTBB/source/info_namespace.html">info Namespace</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../oneTBB/source/nested-depr-interfaces.html">oneTBB Deprecated Interfaces</a><input class="toctree-checkbox" id="toctree-checkbox-41" name="toctree-checkbox-41" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-41"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../oneTBB/source/deprecated/task_arena_attach_tag.html">task_arena::attach</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../oneVPL/source/index.html">oneVPL</a><input class="toctree-checkbox" id="toctree-checkbox-42" name="toctree-checkbox-42" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-42"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../oneVPL/source/VPL_intel_media_sdk.html">oneVPL for Intel<sup>®</sup> Media Software Development Kit Users</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../oneVPL/source/architecture/index.html">Architecture</a><input class="toctree-checkbox" id="toctree-checkbox-43" name="toctree-checkbox-43" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-43"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../oneVPL/source/architecture/VPL_decoding.html">Video Decoding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneVPL/source/architecture/VPL_encoding.html">Video Encoding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneVPL/source/architecture/VPL_processing.html">Video Processing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneVPL/source/architecture/VPL_decoding_vpp.html">Video Decoding with multiple video processing</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../oneVPL/source/programming_guide/index.html">Programming Guide</a><input class="toctree-checkbox" id="toctree-checkbox-44" name="toctree-checkbox-44" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-44"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../oneVPL/source/programming_guide/VPL_prg_stc.html">Status Codes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneVPL/source/programming_guide/VPL_prg_session.html">oneVPL Session</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneVPL/source/programming_guide/VPL_prg_frame.html">Frame and Fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneVPL/source/programming_guide/VPL_prg_decoding.html">Decoding Procedures</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneVPL/source/programming_guide/VPL_prg_encoding.html">Encoding Procedures</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneVPL/source/programming_guide/VPL_prg_vpp.html">Video Processing Procedures</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneVPL/source/programming_guide/VPL_prg_transcoding.html">Transcoding Procedures</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneVPL/source/programming_guide/VPL_prg_hw.html">Hardware Acceleration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneVPL/source/programming_guide/VPL_prg_mem.html">Memory Allocation and External Allocators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneVPL/source/programming_guide/VPL_prg_err.html">Hardware Device Error Handling</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../oneVPL/source/VPL_summary.html">Mandatory APIs and Functions</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_api_ref.html">oneVPL API Reference</a><input class="toctree-checkbox" id="toctree-checkbox-45" name="toctree-checkbox-45" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-45"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_functions.html">Function Reference</a><input class="toctree-checkbox" id="toctree-checkbox-46" name="toctree-checkbox-46" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-46"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_func_vid_decode.html">VideoDECODE</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_func_vid_encode.html">VideoENCODE</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_func_vid_vpp.html">VideoVPP</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_func_vidcore.html">VideoCORE</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_func_session.html">Session Management</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_func_mem.html">Memory</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_func_capabilities.html">Implementation Capabilities</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_func_adapters.html">Adapters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_func_vid_decode_vpp.html">VideoDECODE_VPP</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_structs.html">Structure Reference</a><input class="toctree-checkbox" id="toctree-checkbox-47" name="toctree-checkbox-47" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-47"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_structs_type.html">Type Definitions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_structs_memory.html">Memory Structures</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_structs_impl_manage.html">Implementation Management</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_structs_cross_component.html">Cross-component Structures</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_structs_decode.html">Decode Structures</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_structs_encode.html">Encode Structures</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_structs_vpp.html">VPP Structures</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_structs_protected.html">Protected Structures</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_structs_decode_vpp.html">DECODE_VPP Structures</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_structs_camera.html">Camera Structures</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_enums.html">Enumerator Reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_defines.html">Define Reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_ref_types.html">Type Reference</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_disp_api.html">Dispatcher API</a><input class="toctree-checkbox" id="toctree-checkbox-48" name="toctree-checkbox-48" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-48"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_disp_api_func.html">Dispatcher API Function Reference</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_disp_api_struct.html">Dispatcher API Structure Reference</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_disp_api_enum.html">Dispatcher API Enumeration Reference</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_disp_api_def.html">Dispatcher API Define Reference</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../oneVPL/source/API_ref/VPL_guids.html">GUIDs Reference</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../oneVPL/source/Versioning.html">oneVPL API Versioning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../oneVPL/source/Experimental.html">oneVPL Experimental API</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../oneVPL/source/appendix/index.html">Appendices</a><input class="toctree-checkbox" id="toctree-checkbox-49" name="toctree-checkbox-49" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-49"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../oneVPL/source/appendix/VPL_apnds_a.html">Configuration Parameter Constraints</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneVPL/source/appendix/VPL_apnds_b.html">Multiple-segment Encoding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneVPL/source/appendix/VPL_apnds_c.html">Streaming and Video Conferencing Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneVPL/source/appendix/VPL_apnds_d.html">Switchable Graphics and Multiple Monitors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneVPL/source/appendix/VPL_apnds_e.html">Working Directly with VA API for Linux*</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../oneVPL/source/appendix/VPL_apnds_f.html">CQP HRD Mode Encoding</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../oneVPL/source/VPL_acronyms.html">Glossary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../oneVPL/source/VPL_deprecation.html">Deprecated API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../oneVPL/source/VPL_change_log.html">Change Log</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../oneMKL/source/index.html">oneMKL</a><input class="toctree-checkbox" id="toctree-checkbox-50" name="toctree-checkbox-50" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-50"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../oneMKL/source/architecture/architecture.html">oneMKL Architecture</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../oneMKL/source/domains/domains.html">oneMKL Domains</a><input class="toctree-checkbox" id="toctree-checkbox-51" name="toctree-checkbox-51" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-51"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../oneMKL/source/domains/matrix-storage.html">Matrix Storage</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneMKL/source/domains/blas/blas.html">BLAS Routines</a><input class="toctree-checkbox" id="toctree-checkbox-52" name="toctree-checkbox-52" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-52"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/blas/blas-level-1-routines.html">BLAS Level 1 Routines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/blas/blas-level-2-routines.html">BLAS Level 2 Routines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/blas/blas-level-3-routines.html">BLAS Level 3 Routines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/blas/blas-like-extensions.html">BLAS-like Extensions</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneMKL/source/domains/lapack/lapack.html">LAPACK Routines</a><input class="toctree-checkbox" id="toctree-checkbox-53" name="toctree-checkbox-53" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-53"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/geqrf.html">geqrf</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/geqrf_scratchpad_size.html">geqrf_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/gerqf.html">gerqf</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/gerqf_scratchpad_size.html">gerqf_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/getrf.html">getrf</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/getrf_scratchpad_size.html">getrf_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/getri.html">getri</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/getri_scratchpad_size.html">getri_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/getrs.html">getrs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/getrs_scratchpad_size.html">getrs_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/hetrf.html">hetrf</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/hetrf_scratchpad_size.html">hetrf_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/orgqr.html">orgqr</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/orgqr_scratchpad_size.html">orgqr_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/ormqr.html">ormqr</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/ormqr_scratchpad_size.html">ormqr_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/ormrq.html">ormrq</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/ormrq_scratchpad_size.html">ormrq_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/potrf.html">potrf</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/potrf_scratchpad_size.html">potrf_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/potri.html">potri</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/potri_scratchpad_size.html">potri_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/potrs.html">potrs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/potrs_scratchpad_size.html">potrs_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/sytrf.html">sytrf</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/sytrf_scratchpad_size.html">sytrf_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/trtrs.html">trtrs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/trtrs_scratchpad_size.html">trtrs_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/ungqr.html">ungqr</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/ungqr_scratchpad_size.html">ungqr_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/unmqr.html">unmqr</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/unmqr_scratchpad_size.html">unmqr_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/unmrq.html">unmrq</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/unmrq_scratchpad_size.html">unmrq_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/gebrd.html">gebrd</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/gebrd_scratchpad_size.html">gebrd_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/gesvd.html">gesvd</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/gesvd_scratchpad_size.html">gesvd_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/heevd.html">heevd</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/heevd_scratchpad_size.html">heevd_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/hegvd.html">hegvd</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/hegvd_scratchpad_size.html">hegvd_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/hetrd.html">hetrd</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/hetrd_scratchpad_size.html">hetrd_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/orgbr.html">orgbr</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/orgbr_scratchpad_size.html">orgbr_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/orgtr.html">orgtr</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/orgtr_scratchpad_size.html">orgtr_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/ormtr.html">ormtr</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/ormtr_scratchpad_size.html">ormtr_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/syevd.html">syevd</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/syevd_scratchpad_size.html">syevd_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/sygvd.html">sygvd</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/sygvd_scratchpad_size.html">sygvd_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/sytrd.html">sytrd</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/sytrd_scratchpad_size.html">sytrd_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/ungbr.html">ungbr</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/ungbr_scratchpad_size.html">ungbr_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/ungtr.html">ungtr</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/ungtr_scratchpad_size.html">ungtr_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/unmtr.html">unmtr</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/unmtr_scratchpad_size.html">unmtr_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/geqrf_batch.html">geqrf_batch</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/geqrf_batch_scratchpad_size.html">geqrf_batch_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/getrf_batch.html">getrf_batch</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/getrf_batch_scratchpad_size.html">getrf_batch_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/getri_batch.html">getri_batch</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/getri_batch_scratchpad_size.html">getri_batch_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/getrs_batch.html">getrs_batch</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/getrs_batch_scratchpad_size.html">getrs_batch_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/orgqr_batch.html">orgqr_batch</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/orgqr_batch_scratchpad_size.html">orgqr_batch_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/potrf_batch.html">potrf_batch</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/potrf_batch_scratchpad_size.html">potrf_batch_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/potrs_batch.html">potrs_batch</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/potrs_batch_scratchpad_size.html">potrs_batch_scratchpad_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/ungqr_batch.html">ungqr_batch</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/lapack/ungqr_batch_scratchpad_size.html">ungqr_batch_scratchpad_size</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneMKL/source/domains/spblas/spblas.html">Sparse BLAS</a><input class="toctree-checkbox" id="toctree-checkbox-54" name="toctree-checkbox-54" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-54"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/spblas/matrixinit.html">init_matrix_handle</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/spblas/releasematrixhandle.html">release_matrix_handle</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/spblas/setcsrstructure.html">set_csr_data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/spblas/gemm.html">gemm</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/spblas/gemv.html">gemv</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/spblas/gemvdot.html">gemvdot</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/spblas/gemvoptimize.html">optimize_gemv</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/spblas/symv.html">symv</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/spblas/trmv.html">trmv</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/spblas/trmvoptimize.html">optimize_trmv</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/spblas/trsv.html">trsv</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/spblas/trsvoptimize.html">optimize_trsv</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/spblas/supported-types.html">Supported Types</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/spblas/format-descriptions.html">Sparse storage formats</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneMKL/source/domains/dft/dft.html">Discrete Fourier Transform Functions</a><input class="toctree-checkbox" id="toctree-checkbox-55" name="toctree-checkbox-55" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-55"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/dft/enums_and_config_params.html">Configuration Parameters and Enums</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/dft/descriptor.html">descriptor</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/dft/compute_forward.html">compute_forward</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/dft/compute_backward.html">compute_backward</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneMKL/source/domains/rng/onemkl-rng-overview.html">Random Number Generators (RNG)</a><input class="toctree-checkbox" id="toctree-checkbox-56" name="toctree-checkbox-56" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-56"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/rng/host_api/rng-host-routines.html">Random Number Generators Host Routines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/rng/device_api/device-routines.html">Random Number Generators Device Routines</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneMKL/source/domains/stats/onemkl_stats_overview.html">Summary Statistics</a><input class="toctree-checkbox" id="toctree-checkbox-57" name="toctree-checkbox-57" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-57"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/stats/onemkl_stats_usage_model.html">oneMKL Summary Statistics Usage Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/stats/onemkl_stats_dataset.html">dataset</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/stats/onemkl_stats_routines.html">Summary Statistics Routines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/stats/onemkl_stats_service_routines.html">Service Routines</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../oneMKL/source/domains/vm/vm.html">Vector Math</a><input class="toctree-checkbox" id="toctree-checkbox-58" name="toctree-checkbox-58" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-58"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/vm/special-value-notations.html">Special Value Notations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/vm/vm-mathematical-functions.html">VM Mathematical Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/vm/vm-service-functions.html">VM Service Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/vm/vm-exceptions.html">Exceptions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../oneMKL/source/domains/vm/bibliography.html">Bibliography</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../oneMKL/source/appendix/appendix.html">oneMKL Appendix</a></li>
</ul>
</li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="nested-index.html">Ray Tracing</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-59" name="toctree-checkbox-59" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-59"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2 current active has-children"><a class="reference internal" href="component-libraries.html">Component Libraries</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-60" name="toctree-checkbox-60" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-60"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l3 has-children"><a class="reference internal" href="embree.html">Embree</a><input class="toctree-checkbox" id="toctree-checkbox-61" name="toctree-checkbox-61" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-61"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="embree-spec.html">Introduction</a></li>

</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="openvkl.html">Open VKL</a><input class="toctree-checkbox" id="toctree-checkbox-62" name="toctree-checkbox-62" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-62"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="openvkl-intro.html">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="openvkl-spec.html">Open VKL API</a></li>

</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="oidn.html">Open Image Denoise</a><input class="toctree-checkbox" id="toctree-checkbox-63" name="toctree-checkbox-63" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-63"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="oidn-intro.html">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="oidn-spec.html">Open Image Denoise API</a></li>

</ul>
</li>
<li class="toctree-l3 current active has-children"><a class="reference internal" href="ospray.html">OSPRay</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-64" name="toctree-checkbox-64" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-64"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="ospray-intro.html">Introduction</a></li>
<li class="toctree-l4 current active"><a class="current reference internal" href="#">OSPRay API</a></li>


</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="appendices.html">Appendices</a><input class="toctree-checkbox" id="toctree-checkbox-65" name="toctree-checkbox-65" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-65"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="ospray-studio.html">OSPRay Studio</a></li>
<li class="toctree-l3"><a class="reference internal" href="ospray-hydra-plugin.html">OSPRay Plug-in for USD Hydra</a></li>
<li class="toctree-l3"><a class="reference internal" href="ispc.html">ISPC Implicit SPMD Program Compiler</a></li>
<li class="toctree-l3"><a class="reference internal" href="future-consider.html">Future Considerations</a></li>
<li class="toctree-l3"><a class="reference internal" href="acknowledgment.html">Acknowledgment</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="https://spec.oneapi.com/releases/index.html">Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../notices.html">Legal Notices and Disclaimers</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/oneapi-src/oneapi-spec/edit/main/source/elements/oneART/source/ospray-spec.rst" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/oneapi-src/oneapi-spec/issues/new?title=Issue%20on%20page%20%2Felements/oneART/source/ospray-spec.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../../_sources/elements/oneART/source/ospray-spec.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>OSPRay API</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">OSPRay API</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#initialization-and-shutdown">Initialization and Shutdown</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#command-line-arguments">Command Line Arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#manual-device-instantiation">Manual Device Instantiation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#environment-variables">Environment Variables</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#error-handling-and-status-messages">Error Handling and Status Messages</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#loading-ospray-extensions-at-runtime">Loading OSPRay Extensions at Runtime</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#shutting-down-ospray">Shutting Down OSPRay</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#objects">Objects</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#parameters">Parameters</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#data">Data</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#volumes">Volumes</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#structured-regular-volume">Structured Regular Volume</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#structured-spherical-volume">Structured Spherical Volume</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#adaptive-mesh-refinement-amr-volume">Adaptive Mesh Refinement (AMR) Volume</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#unstructured-volume">Unstructured Volume</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#vdb-volume">VDB Volume</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#particle-volume">Particle Volume</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#transfer-function">Transfer Function</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#volumetricmodels">VolumetricModels</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#geometries">Geometries</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mesh">Mesh</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#subdivision">Subdivision</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#spheres">Spheres</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#curves">Curves</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#boxes">Boxes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#planes">Planes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#isosurfaces">Isosurfaces</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#geometricmodels">GeometricModels</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lights">Lights</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#directional-light-distant-light">Directional Light / Distant Light</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#point-light-sphere-light">Point Light / Sphere Light</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#spotlight-photometric-light">Spotlight / Photometric Light</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#quad-light">Quad Light</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cylinder-light">Cylinder Light</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#hdri-light">HDRI Light</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ambient-light">Ambient Light</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sun-sky-light">Sun-Sky Light</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#emissive-objects">Emissive Objects</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#scene-hierarchy">Scene Hierarchy</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#groups">Groups</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#instances">Instances</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#world">World</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#renderers">Renderers</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#scivis-renderer">SciVis Renderer</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ambient-occlusion-renderer">Ambient Occlusion Renderer</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#path-tracer">Path Tracer</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#materials">Materials</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#obj-material">OBJ Material</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#principled">Principled</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#carpaint">CarPaint</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#metal">Metal</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#alloy">Alloy</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#glass">Glass</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#thinglass">ThinGlass</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#metallicpaint">MetallicPaint</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#luminous">Luminous</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#texture">Texture</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#texture2d">Texture2D</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#volume-texture">Volume Texture</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#texture-transformations">Texture Transformations</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cameras">Cameras</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#perspective-camera">Perspective Camera</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#orthographic-camera">Orthographic Camera</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#panoramic-camera">Panoramic Camera</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#picking">Picking</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#framebuffer">Framebuffer</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#image-operation">Image Operation</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#tone-mapper">Tone Mapper</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#denoiser">Denoiser</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#rendering">Rendering</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#asynchronous-rendering">Asynchronous Rendering</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#asynchronously-rendering-and-ospcommit">Asynchronously Rendering and ospCommit()</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#synchronous-rendering">Synchronous Rendering</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#distributed-rendering-with-mpi">Distributed Rendering with MPI</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mpi-offload-rendering">MPI Offload Rendering</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mpi-distributed-rendering">MPI Distributed Rendering</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#image-parallel-rendering-in-the-mpi-distributed-device">Image Parallel Rendering in the MPI Distributed Device</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#data-parallel-rendering-in-the-mpi-distributed-device">Data Parallel Rendering in the MPI Distributed Device</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#picking-on-distributed-data-in-the-mpi-distributed-device">Picking on Distributed Data in the MPI Distributed Device</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#interaction-with-user-modules">Interaction with User Modules</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#multidevice-rendering">MultiDevice Rendering</a></li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="ospray-api">
<h1>OSPRay API<a class="headerlink" href="#ospray-api" title="Permalink to this heading">#</a></h1>
<p>To access the OSPRay API you first need to include the OSPRay header</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;ospray/ospray.h&quot;</span>
</pre></div>
</div>
<p>where the API is compatible with C99 and C++.</p>
<section id="initialization-and-shutdown">
<h2>Initialization and Shutdown<a class="headerlink" href="#initialization-and-shutdown" title="Permalink to this heading">#</a></h2>
<p>To use the API, OSPRay must be initialized with a “device”. A device is the object which implements the API. Creating and initializing a device can be done in either of two ways: command line arguments using <code class="docutils literal notranslate"><span class="pre">ospInit</span></code> or manually instantiating a device and setting parameters on it.</p>
<section id="command-line-arguments">
<h3>Command Line Arguments<a class="headerlink" href="#command-line-arguments" title="Permalink to this heading">#</a></h3>
<p>The first is to do so by giving OSPRay the command line from <code class="docutils literal notranslate"><span class="pre">main()</span></code> by calling</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">OSPError</span><span class="w"> </span><span class="nf">ospInit</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">**</span><span class="n">argv</span><span class="p">);</span>
</pre></div>
</div>
<p>OSPRay parses (and removes) its known command line parameters from your application’s <code class="docutils literal notranslate"><span class="pre">main</span></code> function. For an example see the <a class="reference external" href="#osptutorial">tutorial</a>. For possible error codes see section <a class="reference external" href="#error-handling-and-status-messages">Error Handling and Status Messages</a>. It is important to note that the arguments passed to <code class="docutils literal notranslate"><span class="pre">ospInit()</span></code> are processed in order they are listed. The following parameters (which are prefixed by convention with “<code class="docutils literal notranslate"><span class="pre">--osp:</span></code>”) are understood:</p>
<table class="table" id="id15">
<caption><span class="caption-text">Command line parameters accepted by OSPRay’s <code class="docutils literal notranslate"><span class="pre">ospInit</span></code>.</span><a class="headerlink" href="#id15" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--osp:debug</span></code></p></td>
<td><p>enables various extra checks and debug output, and disables multi-threading</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--osp:num-threads=&lt;n&gt;</span></code></p></td>
<td><p>use <code class="docutils literal notranslate"><span class="pre">n</span></code> threads instead of per default using all detected hardware threads</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--osp:log-level=&lt;str&gt;</span></code></p></td>
<td><p>set logging level; valid values (in order of severity) are <code class="docutils literal notranslate"><span class="pre">none</span></code>, <code class="docutils literal notranslate"><span class="pre">error</span></code>, <code class="docutils literal notranslate"><span class="pre">warning</span></code>, <code class="docutils literal notranslate"><span class="pre">info</span></code>, and <code class="docutils literal notranslate"><span class="pre">debug</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--osp:warn-as-error</span></code></p></td>
<td><p>send <code class="docutils literal notranslate"><span class="pre">warning</span></code> and <code class="docutils literal notranslate"><span class="pre">error</span></code> messages through the error callback, otherwise send <code class="docutils literal notranslate"><span class="pre">warning</span></code> messages through the message callback; must have sufficient <code class="docutils literal notranslate"><span class="pre">logLevel</span></code> to enable warnings</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--osp:verbose</span></code></p></td>
<td><p>shortcut for <code class="docutils literal notranslate"><span class="pre">--osp:log-level=info</span></code> and enable debug output on <code class="docutils literal notranslate"><span class="pre">cout</span></code>, error output on <code class="docutils literal notranslate"><span class="pre">cerr</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--osp:vv</span></code></p></td>
<td><p>shortcut for <code class="docutils literal notranslate"><span class="pre">--osp:log-level=debug</span></code> and enable debug output on <code class="docutils literal notranslate"><span class="pre">cout</span></code>, error output on <code class="docutils literal notranslate"><span class="pre">cerr</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--osp:load-modules=&lt;name&gt;[,...]</span></code></p></td>
<td><p>load one or more modules during initialization; equivalent to calling <code class="docutils literal notranslate"><span class="pre">ospLoadModule(name)</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--osp:log-output=&lt;dst&gt;</span></code></p></td>
<td><p>convenience for setting where status messages go; valid values for <code class="docutils literal notranslate"><span class="pre">dst</span></code> are <code class="docutils literal notranslate"><span class="pre">cerr</span></code> and <code class="docutils literal notranslate"><span class="pre">cout</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--osp:error-output=&lt;dst&gt;</span></code></p></td>
<td><p>convenience for setting where error messages go; valid values for <code class="docutils literal notranslate"><span class="pre">dst</span></code> are <code class="docutils literal notranslate"><span class="pre">cerr</span></code> and <code class="docutils literal notranslate"><span class="pre">cout</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--osp:device=&lt;name&gt;</span></code></p></td>
<td><p>use <code class="docutils literal notranslate"><span class="pre">name</span></code> as the type of device for OSPRay to create; e.g., <code class="docutils literal notranslate"><span class="pre">--osp:device=cpu</span></code> gives you the default <code class="docutils literal notranslate"><span class="pre">cpu</span></code> device; Note if the device to be used is defined in a module, remember to pass <code class="docutils literal notranslate"><span class="pre">--osp:load-modules=&lt;name&gt;</span></code> first</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--osp:set-affinity=&lt;n&gt;</span></code></p></td>
<td><p>if <code class="docutils literal notranslate"><span class="pre">1</span></code>, bind software threads to hardware threads; <code class="docutils literal notranslate"><span class="pre">0</span></code> disables binding; default is <code class="docutils literal notranslate"><span class="pre">1</span></code> on KNL and <code class="docutils literal notranslate"><span class="pre">0</span></code> otherwise</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--osp:device-params=&lt;param&gt;:&lt;value&gt;[,...]</span></code></p></td>
<td><p>set one or more other device parameters; equivalent to calling <code class="docutils literal notranslate"><span class="pre">ospDeviceSet*(param,</span> <span class="pre">value)</span></code></p></td>
</tr>
</tbody>
</table>
</section>
<section id="manual-device-instantiation">
<h3>Manual Device Instantiation<a class="headerlink" href="#manual-device-instantiation" title="Permalink to this heading">#</a></h3>
<p>The second method of initialization is to explicitly create the device and possibly set parameters. This method looks almost identical to how other <a class="reference external" href="#objects">objects</a> are created and used by OSPRay (described in later sections). The first step is to create the device with</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">OSPDevice</span><span class="w"> </span><span class="nf">ospNewDevice</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">type</span><span class="p">);</span>
</pre></div>
</div>
<p>where the <code class="docutils literal notranslate"><span class="pre">type</span></code> string maps to a specific device implementation. OSPRay always provides the “<code class="docutils literal notranslate"><span class="pre">cpu</span></code>” device, which maps to a fast, local CPU implementation. Other devices can also be added through additional modules, such as distributed MPI device implementations.</p>
<p>Once a device is created, you can call</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">ospDeviceSetParam</span><span class="p">(</span><span class="n">OSPObject</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">OSPDataType</span><span class="w"> </span><span class="n">type</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">mem</span><span class="p">);</span>
</pre></div>
</div>
<p>to set parameters on the device. The semantics of setting parameters is exactly the same as <code class="docutils literal notranslate"><span class="pre">ospSetParam</span></code>, which is documented below in the <a class="reference external" href="#parameters">parameters</a> section. The following parameters can be set on all devices:</p>
<table class="table" id="id16">
<caption><span class="caption-text">Parameters shared by all devices.</span><a class="headerlink" href="#id16" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>int</p></td>
<td><p>numThreads</p></td>
<td><p>number of threads which OSPRay should use</p></td>
</tr>
<tr class="row-odd"><td><p>int</p></td>
<td><p>logLevel</p></td>
<td><p>logging level; valid values (in order of severity) are <code class="docutils literal notranslate"><span class="pre">OSP_LOG_NONE</span></code>, <code class="docutils literal notranslate"><span class="pre">OSP_LOG_ERROR</span></code>, <code class="docutils literal notranslate"><span class="pre">OSP_LOG_WARNING</span></code>, <code class="docutils literal notranslate"><span class="pre">OSP_LOG_INFO</span></code>, and <code class="docutils literal notranslate"><span class="pre">OSP_LOG_DEBUG</span></code></p></td>
</tr>
<tr class="row-even"><td><p>string</p></td>
<td><p>logOutput</p></td>
<td><p>convenience for setting where status messages go; valid values are <code class="docutils literal notranslate"><span class="pre">cerr</span></code> and <code class="docutils literal notranslate"><span class="pre">cout</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>string</p></td>
<td><p>errorOutput</p></td>
<td><p>convenience for setting where error messages go; valid values are <code class="docutils literal notranslate"><span class="pre">cerr</span></code> and <code class="docutils literal notranslate"><span class="pre">cout</span></code></p></td>
</tr>
<tr class="row-even"><td><p>bool</p></td>
<td><p>debug</p></td>
<td><p>set debug mode; equivalent to <code class="docutils literal notranslate"><span class="pre">logLevel=debug</span></code> and <code class="docutils literal notranslate"><span class="pre">numThreads=1</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>bool</p></td>
<td><p>warnAsError</p></td>
<td><p>send <code class="docutils literal notranslate"><span class="pre">warning</span></code> and <code class="docutils literal notranslate"><span class="pre">error</span></code> messages through the error callback, otherwise send <code class="docutils literal notranslate"><span class="pre">warning</span></code> messages through the message callback; must have sufficient <code class="docutils literal notranslate"><span class="pre">logLevel</span></code> to enable warnings</p></td>
</tr>
<tr class="row-even"><td><p>bool</p></td>
<td><p>setAffinity</p></td>
<td><p>bind software threads to hardware threads if set to 1; 0 disables binding omitting the parameter will let OSPRay choose</p></td>
</tr>
</tbody>
</table>
<p>Once parameters are set on the created device, the device must be committed with</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">ospDeviceCommit</span><span class="p">(</span><span class="n">OSPDevice</span><span class="p">);</span>
</pre></div>
</div>
<p>To use the newly committed device, you must call</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">ospSetCurrentDevice</span><span class="p">(</span><span class="n">OSPDevice</span><span class="p">);</span>
</pre></div>
</div>
<p>This then sets the given device as the object which will respond to all other OSPRay API calls.</p>
<p>Device handle lifetimes are managed with two calls, the first which increments the internal reference count to the given <code class="docutils literal notranslate"><span class="pre">OSPDevice</span></code></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">ospDeviceRetain</span><span class="p">(</span><span class="n">OSPDevice</span><span class="p">)</span>
</pre></div>
</div>
<p>and the second which decrements the reference count</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">ospDeviceRelease</span><span class="p">(</span><span class="n">OSPDevice</span><span class="p">)</span>
</pre></div>
</div>
<p>Users can change parameters on the device after initialization (from either method above), by calling</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">OSPDevice</span><span class="w"> </span><span class="nf">ospGetCurrentDevice</span><span class="p">();</span>
</pre></div>
</div>
<p>This function returns the handle to the device currently used to respond to OSPRay API calls, where users can set/change parameters and recommit the device. If changes are made to the device that is already set as the current device, it does not need to be set as current again. Note this API call will increment the ref count of the returned device handle, so applications must use <code class="docutils literal notranslate"><span class="pre">ospDeviceRelease</span></code> when finished using the handle to avoid leaking the underlying device object. If there is no current device set, this will return an invalid <code class="docutils literal notranslate"><span class="pre">NULL</span></code> handle.</p>
<p>When a device is created, its reference count is initially <code class="docutils literal notranslate"><span class="pre">1</span></code>. When a device is set as the current device, it internally has its reference count incremented. Note that <code class="docutils literal notranslate"><span class="pre">ospDeviceRetain</span></code> and <code class="docutils literal notranslate"><span class="pre">ospDeviceRelease</span></code> should only be used with reference counts that the application tracks: removing reference held by the current set device should be handled by <code class="docutils literal notranslate"><span class="pre">ospShutdown</span></code>. Thus, <code class="docutils literal notranslate"><span class="pre">ospDeviceRelease</span></code> should only decrement the reference counts that come from <code class="docutils literal notranslate"><span class="pre">ospNewDevice</span></code>, <code class="docutils literal notranslate"><span class="pre">ospGetCurrentDevice</span></code>, and the number of explicit calls to <code class="docutils literal notranslate"><span class="pre">ospDeviceRetain</span></code>.</p>
<p>OSPRay allows applications to query runtime properties of a device in order to do enhanced validation of what device was loaded at runtime. The following function can be used to get these device-specific properties (attributes about the device, not parameter values)</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">int64_t</span><span class="w"> </span><span class="nf">ospDeviceGetProperty</span><span class="p">(</span><span class="n">OSPDevice</span><span class="p">,</span><span class="w"> </span><span class="n">OSPDeviceProperty</span><span class="p">);</span>
</pre></div>
</div>
<p>It returns an integer value of the queried property and the following properties can be provided as parameter:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">OSP_DEVICE_VERSION</span>
<span class="n">OSP_DEVICE_VERSION_MAJOR</span>
<span class="n">OSP_DEVICE_VERSION_MINOR</span>
<span class="n">OSP_DEVICE_VERSION_PATCH</span>
<span class="n">OSP_DEVICE_SO_VERSION</span>
</pre></div>
</div>
</section>
<section id="environment-variables">
<h3>Environment Variables<a class="headerlink" href="#environment-variables" title="Permalink to this heading">#</a></h3>
<p>OSPRay’s generic device parameters can be overridden via environment variables for easy changes to OSPRay’s behavior without needing to change the application (variables are prefixed by convention with “<code class="docutils literal notranslate"><span class="pre">OSPRAY_</span></code>”):</p>
<table class="table" id="id17">
<caption><span class="caption-text">Environment variables interpreted by OSPRay.</span><a class="headerlink" href="#id17" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Variable</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>OSPRAY_NUM_THREADS</p></td>
<td><p>equivalent to <code class="docutils literal notranslate"><span class="pre">--osp:num-threads</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>OSPRAY_LOG_LEVEL</p></td>
<td><p>equivalent to <code class="docutils literal notranslate"><span class="pre">--osp:log-level</span></code></p></td>
</tr>
<tr class="row-even"><td><p>OSPRAY_LOG_OUTPUT</p></td>
<td><p>equivalent to <code class="docutils literal notranslate"><span class="pre">--osp:log-output</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>OSPRAY_ERROR_OUTPUT</p></td>
<td><p>equivalent to <code class="docutils literal notranslate"><span class="pre">--osp:error-output</span></code></p></td>
</tr>
<tr class="row-even"><td><p>OSPRAY_DEBUG</p></td>
<td><p>equivalent to <code class="docutils literal notranslate"><span class="pre">--osp:debug</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>OSPRAY_WARN_AS_ERROR</p></td>
<td><p>equivalent to <code class="docutils literal notranslate"><span class="pre">--osp:warn-as-error</span></code></p></td>
</tr>
<tr class="row-even"><td><p>OSPRAY_SET_AFFINITY</p></td>
<td><p>equivalent to <code class="docutils literal notranslate"><span class="pre">--osp:set-affinity</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>OSPRAY_LOAD_MODULES</p></td>
<td><p>equivalent to <code class="docutils literal notranslate"><span class="pre">--osp:load-modules</span></code>, can be a comma separated list of modules which will be loaded in order</p></td>
</tr>
<tr class="row-even"><td><p>OSPRAY_DEVICE</p></td>
<td><p>equivalent to <code class="docutils literal notranslate"><span class="pre">--osp:device:</span></code></p></td>
</tr>
</tbody>
</table>
<p>Note that these environment variables take precedence over values specified through <code class="docutils literal notranslate"><span class="pre">ospInit</span></code> or manually set device parameters.</p>
</section>
<section id="error-handling-and-status-messages">
<h3>Error Handling and Status Messages<a class="headerlink" href="#error-handling-and-status-messages" title="Permalink to this heading">#</a></h3>
<p>The following errors are currently used by OSPRay:</p>
<table class="table" id="id18">
<caption><span class="caption-text">Possible error codes, i.e., valid named constants of type <code class="docutils literal notranslate"><span class="pre">OSPError</span></code>.</span><a class="headerlink" href="#id18" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>OSP_NO_ERROR</p></td>
<td><p>no error occurred</p></td>
</tr>
<tr class="row-odd"><td><p>OSP_UNKNOWN_ERROR</p></td>
<td><p>an unknown error occurred</p></td>
</tr>
<tr class="row-even"><td><p>OSP_INVALID_ARGUMENT</p></td>
<td><p>an invalid argument was specified</p></td>
</tr>
<tr class="row-odd"><td><p>OSP_INVALID_OPERATION</p></td>
<td><p>the operation is not allowed for the specified object</p></td>
</tr>
<tr class="row-even"><td><p>OSP_OUT_OF_MEMORY</p></td>
<td><p>there is not enough memory to execute the command</p></td>
</tr>
<tr class="row-odd"><td><p>OSP_UNSUPPORTED_CPU</p></td>
<td><p>the CPU is not supported (minimum ISA is SSE4.1 on x86_64 and NEON on ARM64)</p></td>
</tr>
<tr class="row-even"><td><p>OSP_VERSION_MISMATCH</p></td>
<td><p>a module could not be loaded due to mismatching version</p></td>
</tr>
</tbody>
</table>
<p>These error codes are either directly return by some API functions, or are recorded to be later queried by the application via</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">OSPError</span><span class="w"> </span><span class="nf">ospDeviceGetLastErrorCode</span><span class="p">(</span><span class="n">OSPDevice</span><span class="p">);</span>
</pre></div>
</div>
<p>A more descriptive error message can be queried by calling</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="nf">ospDeviceGetLastErrorMsg</span><span class="p">(</span><span class="n">OSPDevice</span><span class="p">);</span>
</pre></div>
</div>
<p>Alternatively, the application can also register a callback function of type</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">OSPErrorCallback</span><span class="p">)(</span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">userData</span><span class="p">,</span><span class="w"> </span><span class="n">OSPError</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">errorDetails</span><span class="p">);</span>
</pre></div>
</div>
<p>via</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">ospDeviceSetErrorCallback</span><span class="p">(</span><span class="n">OSPDevice</span><span class="p">,</span><span class="w"> </span><span class="n">OSPErrorCallback</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">userData</span><span class="p">);</span>
</pre></div>
</div>
<p>to get notified when errors occur.</p>
<p>Applications may be interested in messages which OSPRay emits, whether for debugging or logging events. Applications can call</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">ospDeviceSetStatusCallback</span><span class="p">(</span><span class="n">OSPDevice</span><span class="p">,</span><span class="w"> </span><span class="n">OSPStatusCallback</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">userData</span><span class="p">);</span>
</pre></div>
</div>
<p>in order to register a callback function of type</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">OSPStatusCallback</span><span class="p">)(</span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">userData</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">messageText</span><span class="p">);</span>
</pre></div>
</div>
<p>which OSPRay will use to emit status messages. By default, OSPRay uses a callback which does nothing, so any output desired by an application will require that a callback is provided. Note that callbacks for C++ <code class="docutils literal notranslate"><span class="pre">std::cout</span></code> and <code class="docutils literal notranslate"><span class="pre">std::cerr</span></code> can be alternatively set through <code class="docutils literal notranslate"><span class="pre">ospInit()</span></code> or the <code class="docutils literal notranslate"><span class="pre">OSPRAY_LOG_OUTPUT</span></code> environment variable.</p>
<p>Applications can clear either callback by passing <code class="docutils literal notranslate"><span class="pre">NULL</span></code> instead of an actual function pointer.</p>
</section>
<section id="loading-ospray-extensions-at-runtime">
<h3>Loading OSPRay Extensions at Runtime<a class="headerlink" href="#loading-ospray-extensions-at-runtime" title="Permalink to this heading">#</a></h3>
<p>OSPRay’s functionality can be extended via plugins (which we call “modules”), which are implemented in shared libraries. To load module <code class="docutils literal notranslate"><span class="pre">name</span></code> from <code class="docutils literal notranslate"><span class="pre">libospray_module_&lt;name&gt;.so</span></code> (on Linux and Mac OS X) or <code class="docutils literal notranslate"><span class="pre">ospray_module_&lt;name&gt;.dll</span></code> (on Windows) use</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">OSPError</span><span class="w"> </span><span class="nf">ospLoadModule</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">name</span><span class="p">);</span>
</pre></div>
</div>
<p>Modules are searched in OS-dependent paths. <code class="docutils literal notranslate"><span class="pre">ospLoadModule</span></code> returns <code class="docutils literal notranslate"><span class="pre">OSP_NO_ERROR</span></code> if the plugin could be successfully loaded.</p>
</section>
<section id="shutting-down-ospray">
<h3>Shutting Down OSPRay<a class="headerlink" href="#shutting-down-ospray" title="Permalink to this heading">#</a></h3>
<p>When the application is finished using OSPRay (typically on application exit), the OSPRay API should be finalized with</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">ospShutdown</span><span class="p">();</span>
</pre></div>
</div>
<p>This API call ensures that the current device is cleaned up appropriately. Due to static object allocation having non-deterministic ordering, it is recommended that applications call <code class="docutils literal notranslate"><span class="pre">ospShutdown()</span></code> before the calling application process terminates.</p>
</section>
</section>
<section id="objects">
<h2>Objects<a class="headerlink" href="#objects" title="Permalink to this heading">#</a></h2>
<p>All entities of OSPRay (the <a class="reference external" href="#renderers">renderer</a>, <a class="reference external" href="#volumes">volumes</a>, <a class="reference external" href="#geometries">geometries</a>, <a class="reference external" href="#lights">lights</a>, <a class="reference external" href="#cameras">cameras</a>, …) are a logical specialization of <code class="docutils literal notranslate"><span class="pre">OSPObject</span></code> and share common mechanism to deal with parameters and lifetime.</p>
<p>An important aspect of object parameters is that parameters do not get passed to objects immediately. Instead, parameters are not visible at all to objects until they get explicitly committed to a given object via a call to</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">ospCommit</span><span class="p">(</span><span class="n">OSPObject</span><span class="p">);</span>
</pre></div>
</div>
<p>at which time all previously additions or changes to parameters are visible at the same time. If a user wants to change the state of an existing object (e.g., to change the origin of an already existing camera) it is perfectly valid to do so, as long as the changed parameters are recommitted.</p>
<p>The commit semantic allow for batching up multiple small changes, and specifies exactly when changes to objects will occur. This can impact performance and consistency for devices crossing a PCI bus or across a network.</p>
<p>Note that OSPRay uses reference counting to manage the lifetime of all objects, so one cannot explicitly “delete” any object. Instead, to indicate that the application does not need and does not access the given object anymore, call</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">ospRelease</span><span class="p">(</span><span class="n">OSPObject</span><span class="p">);</span>
</pre></div>
</div>
<p>This decreases its reference count and if the count reaches <code class="docutils literal notranslate"><span class="pre">0</span></code> the object will automatically get deleted. Passing <code class="docutils literal notranslate"><span class="pre">NULL</span></code> is not an error. Note that every handle returned via the API needs to be released when the object is no longer needed, to avoid memory leaks.</p>
<p>Sometimes applications may want to have more than one reference to an object, where it is desirable for the application to increment the reference count of an object. This is done with</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">ospRetain</span><span class="p">(</span><span class="n">OSPObject</span><span class="p">);</span>
</pre></div>
</div>
<p>It is important to note that this is only necessary if the application wants to call <code class="docutils literal notranslate"><span class="pre">ospRelease</span></code> on an object more than once: objects which contain other objects as parameters internally increment/decrement ref counts and should not be explicitly done by the application.</p>
<section id="parameters">
<h3>Parameters<a class="headerlink" href="#parameters" title="Permalink to this heading">#</a></h3>
<p>Parameters allow to configure the behavior of and to pass data to objects. However, objects do <em>not</em> have an explicit interface for reasons of high flexibility and a more stable compile-time API. Instead, parameters are passed separately to objects in an arbitrary order, and unknown parameters will simply be ignored (though a warning message will be posted). The following function allows adding various types of parameters with name <code class="docutils literal notranslate"><span class="pre">id</span></code> to a given object:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">ospSetParam</span><span class="p">(</span><span class="n">OSPObject</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">OSPDataType</span><span class="w"> </span><span class="n">type</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">mem</span><span class="p">);</span>
</pre></div>
</div>
<p>The valid parameter names for all <code class="docutils literal notranslate"><span class="pre">OSPObject</span></code>s and what types are valid are discussed in future sections.</p>
<p>Note that <code class="docutils literal notranslate"><span class="pre">mem</span></code> must always be a pointer <em>to</em> the object, otherwise accidental type casting can occur. This is especially true for pointer types (<code class="docutils literal notranslate"><span class="pre">OSP_VOID_PTR</span></code> and <code class="docutils literal notranslate"><span class="pre">OSPObject</span></code> handles), as they will implicitly cast to <code class="docutils literal notranslate"><span class="pre">void\</span> <span class="pre">*</span></code>, but be incorrectly interpreted. To help with some of these issues, there also exist variants of <code class="docutils literal notranslate"><span class="pre">ospSetParam</span></code> for specific types, such as <code class="docutils literal notranslate"><span class="pre">ospSetInt</span></code> and <code class="docutils literal notranslate"><span class="pre">ospSetVec3f</span></code> in the OSPRay utility library (found in <code class="docutils literal notranslate"><span class="pre">ospray_util.h</span></code>). Note that half precision float parameters <code class="docutils literal notranslate"><span class="pre">OSP_HALF,</span> <span class="pre">OSP_VEC[234]H</span></code> are not supported.</p>
<p>Users can also remove parameters that have been explicitly set from <code class="docutils literal notranslate"><span class="pre">ospSetParam</span></code>. Any parameters which have been removed will go back to their default value during the next commit unless a new parameter was set after the parameter was removed. To remove a parameter, use</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">ospRemoveParam</span><span class="p">(</span><span class="n">OSPObject</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">id</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="data">
<h3>Data<a class="headerlink" href="#data" title="Permalink to this heading">#</a></h3>
<p>OSPRay consumes data arrays from the application using a specific object type, <code class="docutils literal notranslate"><span class="pre">OSPData</span></code>. There are several components to describing a data array: element type, 1/2/3 dimensional striding, and whether the array is shared with the application or copied into opaque, OSPRay-owned memory.</p>
<p>Shared data arrays require that the application’s array memory outlives the lifetime of the created <code class="docutils literal notranslate"><span class="pre">OSPData</span></code>, as OSPRay is referring to application memory. Where this is not preferable, applications use opaque arrays to allow the <code class="docutils literal notranslate"><span class="pre">OSPData</span></code> to own the lifetime of the array memory. However, opaque arrays dictate the cost of copying data into it, which should be kept in mind.</p>
<p>Thus, the most efficient way to specify a data array from the application is to created a shared data array, which is done with</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">OSPData</span><span class="w"> </span><span class="nf">ospNewSharedData</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">sharedData</span><span class="p">,</span>
<span class="w">    </span><span class="n">OSPDataType</span><span class="p">,</span>
<span class="w">    </span><span class="kt">uint64_t</span><span class="w"> </span><span class="n">numItems1</span><span class="p">,</span>
<span class="w">    </span><span class="kt">int64_t</span><span class="w"> </span><span class="n">byteStride1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="kt">uint64_t</span><span class="w"> </span><span class="n">numItems2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">    </span><span class="kt">int64_t</span><span class="w"> </span><span class="n">byteStride2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="kt">uint64_t</span><span class="w"> </span><span class="n">numItems3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">    </span><span class="kt">int64_t</span><span class="w"> </span><span class="n">byteStride3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
</pre></div>
</div>
<p>The call returns an <code class="docutils literal notranslate"><span class="pre">OSPData</span></code> handle to the created array. The calling program guarantees that the <code class="docutils literal notranslate"><span class="pre">sharedData</span></code> pointer will remain valid for the duration that this data array is being used. The number of elements <code class="docutils literal notranslate"><span class="pre">numItems</span></code> must be positive (there cannot be an empty data object). The data is arranged in three dimensions, with specializations to two or one dimension (if some <code class="docutils literal notranslate"><span class="pre">numItems</span></code> are 1). The distance between consecutive elements (per dimension) is given in bytes with <code class="docutils literal notranslate"><span class="pre">byteStride</span></code> and can also be negative. If <code class="docutils literal notranslate"><span class="pre">byteStride</span></code> is zero it will be determined automatically (e.g., as <code class="docutils literal notranslate"><span class="pre">sizeof(type)</span></code>). Strides do not need to be ordered, i.e., <code class="docutils literal notranslate"><span class="pre">byteStride2</span></code> can be smaller than <code class="docutils literal notranslate"><span class="pre">byteStride1</span></code>, which is equivalent to a transpose. However, if the stride should be calculated, then an ordering in dimensions is assumed to disambiguate, i.e., <code class="docutils literal notranslate"><span class="pre">byteStride1</span> <span class="pre">&lt;</span> <span class="pre">byteStride2</span> <span class="pre">&lt;</span> <span class="pre">byteStride3</span></code>.</p>
<p>The enum type <code class="docutils literal notranslate"><span class="pre">OSPDataType</span></code> describes the different element types that can be represented in OSPRay; valid constants are listed in the table below.</p>
<table class="table" id="id19">
<caption><span class="caption-text">Valid named constants for <code class="docutils literal notranslate"><span class="pre">OSPDataType</span></code>.</span><a class="headerlink" href="#id19" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type/Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>OSP_DEVICE</p></td>
<td><p>API device object reference</p></td>
</tr>
<tr class="row-odd"><td><p>OSP_DATA</p></td>
<td><p>data reference</p></td>
</tr>
<tr class="row-even"><td><p>OSP_OBJECT</p></td>
<td><p>generic object reference</p></td>
</tr>
<tr class="row-odd"><td><p>OSP_CAMERA</p></td>
<td><p>camera object reference</p></td>
</tr>
<tr class="row-even"><td><p>OSP_FRAMEBUFFER</p></td>
<td><p>framebuffer object reference</p></td>
</tr>
<tr class="row-odd"><td><p>OSP_LIGHT</p></td>
<td><p>light object reference</p></td>
</tr>
<tr class="row-even"><td><p>OSP_MATERIAL</p></td>
<td><p>material object reference</p></td>
</tr>
<tr class="row-odd"><td><p>OSP_TEXTURE</p></td>
<td><p>texture object reference</p></td>
</tr>
<tr class="row-even"><td><p>OSP_RENDERER</p></td>
<td><p>renderer object reference</p></td>
</tr>
<tr class="row-odd"><td><p>OSP_WORLD</p></td>
<td><p>world object reference</p></td>
</tr>
<tr class="row-even"><td><p>OSP_GEOMETRY</p></td>
<td><p>geometry object reference</p></td>
</tr>
<tr class="row-odd"><td><p>OSP_VOLUME</p></td>
<td><p>volume object reference</p></td>
</tr>
<tr class="row-even"><td><p>OSP_TRANSFER_FUNCTION</p></td>
<td><p>transfer function object reference</p></td>
</tr>
<tr class="row-odd"><td><p>OSP_IMAGE_OPERATION</p></td>
<td><p>image operation object reference</p></td>
</tr>
<tr class="row-even"><td><p>OSP_STRING</p></td>
<td><p>C-style zero-terminated character string</p></td>
</tr>
<tr class="row-odd"><td><p>OSP_CHAR, OSP_VEC[234]C</p></td>
<td><p>8 bit signed character scalar and [234]-element vector</p></td>
</tr>
<tr class="row-even"><td><p>OSP_UCHAR, OSP_VEC[234]UC</p></td>
<td><p>8 bit unsigned character scalar and [234]-element vector</p></td>
</tr>
<tr class="row-odd"><td><p>OSP_SHORT, OSP_VEC[234]S</p></td>
<td><p>16 bit unsigned integer scalar and [234]-element vector</p></td>
</tr>
<tr class="row-even"><td><p>OSP_USHORT, OSP_VEC[234]US</p></td>
<td><p>16 bit unsigned integer scalar and [234]-element vector</p></td>
</tr>
<tr class="row-odd"><td><p>OSP_INT, OSP_VEC[234]I</p></td>
<td><p>32 bit signed integer scalar and [234]-element vector</p></td>
</tr>
<tr class="row-even"><td><p>OSP_UINT, OSP_VEC[234]UI</p></td>
<td><p>32 bit unsigned integer scalar and [234]-element vector</p></td>
</tr>
<tr class="row-odd"><td><p>OSP_LONG, OSP_VEC[234]L</p></td>
<td><p>64 bit signed integer scalar and [234]-element vector</p></td>
</tr>
<tr class="row-even"><td><p>OSP_ULONG, OSP_VEC[234]UL</p></td>
<td><p>64 bit unsigned integer scalar and [234]-element vector</p></td>
</tr>
<tr class="row-odd"><td><p>OSP_HALF, OSP_VEC[234]H</p></td>
<td><p>16 bit half precision floating-point scalar and [234]-element vector (IEEE 754 <code class="docutils literal notranslate"><span class="pre">binary16</span></code>)</p></td>
</tr>
<tr class="row-even"><td><p>OSP_FLOAT, OSP_VEC[234]F</p></td>
<td><p>32 bit single precision floating-point scalar and [234]-element vector</p></td>
</tr>
<tr class="row-odd"><td><p>OSP_DOUBLE, OSP_VEC[234]D</p></td>
<td><p>64 bit double precision floating-point scalar and [234]-element vector</p></td>
</tr>
<tr class="row-even"><td><p>OSP_BOX[1234]I</p></td>
<td><p>32 bit integer box (lower + upper bounds)</p></td>
</tr>
<tr class="row-odd"><td><p>OSP_BOX[1234]F</p></td>
<td><p>32 bit single precision floating-point box (lower + upper bounds)</p></td>
</tr>
<tr class="row-even"><td><p>OSP_LINEAR[23]F</p></td>
<td><p>32 bit single precision floating-point linear transform ([23] vectors)</p></td>
</tr>
<tr class="row-odd"><td><p>OSP_AFFINE[23]F</p></td>
<td><p>32 bit single precision floating-point affine transform (linear transform plus translation)</p></td>
</tr>
<tr class="row-even"><td><p>OSP_QUATF</p></td>
<td><p>32 bit single precision floating-point quaternion, in <span class="math notranslate nohighlight">\((i, j, k, w)\)</span> layout</p></td>
</tr>
<tr class="row-odd"><td><p>OSP_VOID_PTR</p></td>
<td><p>raw memory address (only found in module extensions)</p></td>
</tr>
</tbody>
</table>
<p>If the elements of the array are handles to objects, then their reference counter is incremented.</p>
<p>An opaque <code class="docutils literal notranslate"><span class="pre">OSPData</span></code> with memory allocated by OSPRay is created with</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">OSPData</span><span class="w"> </span><span class="nf">ospNewData</span><span class="p">(</span><span class="n">OSPDataType</span><span class="p">,</span>
<span class="w">    </span><span class="kt">uint64_t</span><span class="w"> </span><span class="n">numItems1</span><span class="p">,</span>
<span class="w">    </span><span class="kt">uint64_t</span><span class="w"> </span><span class="n">numItems2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">    </span><span class="kt">uint64_t</span><span class="w"> </span><span class="n">numItems3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
</pre></div>
</div>
<p>To allow for (partial) copies or updates of data arrays use</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">ospCopyData</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">OSPData</span><span class="w"> </span><span class="n">source</span><span class="p">,</span>
<span class="w">    </span><span class="n">OSPData</span><span class="w"> </span><span class="n">destination</span><span class="p">,</span>
<span class="w">    </span><span class="kt">uint64_t</span><span class="w"> </span><span class="n">destinationIndex1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="kt">uint64_t</span><span class="w"> </span><span class="n">destinationIndex2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="kt">uint64_t</span><span class="w"> </span><span class="n">destinationIndex3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
</pre></div>
</div>
<p>which will copy the whole <a class="footnote-reference brackets" href="#id8" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a> content of the <code class="docutils literal notranslate"><span class="pre">source</span></code> array into <code class="docutils literal notranslate"><span class="pre">destination</span></code> at the given location <code class="docutils literal notranslate"><span class="pre">destinationIndex</span></code>. The <code class="docutils literal notranslate"><span class="pre">OSPDataType</span></code>s of the data objects must match. The region to be copied must be valid inside the destination, i.e., in all dimensions, <code class="docutils literal notranslate"><span class="pre">destinationIndex</span> <span class="pre">+</span> <span class="pre">sourceSize</span> <span class="pre">&lt;=</span> <span class="pre">destinationSize</span></code>. The affected region <code class="docutils literal notranslate"><span class="pre">[destinationIndex,</span> <span class="pre">destinationIndex</span> <span class="pre">+</span> <span class="pre">sourceSize)</span></code> is marked as dirty, which may be used by OSPRay to only process or update that sub-region (e.g., updating an acceleration structure). If the destination array is shared with OSPData by the application (created with <code class="docutils literal notranslate"><span class="pre">ospNewSharedData</span></code>), then</p>
<ul class="simple">
<li><p>the source array must be shared as well (thus <code class="docutils literal notranslate"><span class="pre">ospCopyData</span></code> cannot be used to read opaque data)</p></li>
<li><p>if source and destination memory overlaps (aliasing), then behavior is undefined</p></li>
<li><p>except if source and destination regions are identical (including matching strides), which can be used by application to mark that region as dirty (instead of the whole <code class="docutils literal notranslate"><span class="pre">OSPData</span></code>)</p></li>
</ul>
<p>To add a data array as parameter named <code class="docutils literal notranslate"><span class="pre">id</span></code> to another object call also use</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">ospSetObject</span><span class="p">(</span><span class="n">OSPObject</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">OSPData</span><span class="p">);</span>
</pre></div>
</div>
</section>
</section>
<section id="volumes">
<h2>Volumes<a class="headerlink" href="#volumes" title="Permalink to this heading">#</a></h2>
<p>Volumes are volumetric data sets with discretely sampled values in 3D space, typically a 3D scalar field. To create a new volume object of given type <code class="docutils literal notranslate"><span class="pre">type</span></code> use</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">OSPVolume</span><span class="w"> </span><span class="nf">ospNewVolume</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">type</span><span class="p">);</span>
</pre></div>
</div>
<p>Note that OSPRay’s implementation forwards <code class="docutils literal notranslate"><span class="pre">type</span></code> directly to Open VKL, allowing new Open VKL volume types to be usable within OSPRay without the need to change (or even recompile) OSPRay.</p>
<section id="structured-regular-volume">
<h3>Structured Regular Volume<a class="headerlink" href="#structured-regular-volume" title="Permalink to this heading">#</a></h3>
<p>Structured volumes only need to store the values of the samples, because their addresses in memory can be easily computed from a 3D position. A common type of structured volumes are regular grids.</p>
<p>Structured regular volumes are created by passing the type string “<code class="docutils literal notranslate"><span class="pre">structuredRegular</span></code>” to <code class="docutils literal notranslate"><span class="pre">ospNewVolume</span></code>. Structured volumes are represented through an <code class="docutils literal notranslate"><span class="pre">OSPData</span></code> 3D array <code class="docutils literal notranslate"><span class="pre">data</span></code> (which may or may not be shared with the application). The voxel data must be laid out in xyz-order <a class="footnote-reference brackets" href="#id9" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a> and can be compact (best for performance) or can have a stride between voxels, specified through the <code class="docutils literal notranslate"><span class="pre">byteStride1</span></code> parameter when creating the <code class="docutils literal notranslate"><span class="pre">OSPData</span></code>. Only 1D strides are supported, additional strides between scanlines (2D, <code class="docutils literal notranslate"><span class="pre">byteStride2</span></code>) and slices (3D, <code class="docutils literal notranslate"><span class="pre">byteStride3</span></code>) are not.</p>
<p>The parameters understood by structured volumes are summarized in the table below.</p>
<table class="table" id="id20">
<caption><span class="caption-text">Configuration parameters for structured regular volumes.</span><a class="headerlink" href="#id20" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>vec3f</p></td>
<td><p>gridOrigin</p></td>
<td><p><span class="math notranslate nohighlight">\((0, 0, 0)\)</span></p></td>
<td><p>origin of the grid in object-space</p></td>
</tr>
<tr class="row-odd"><td><p>vec3f</p></td>
<td><p>gridSpacing</p></td>
<td><p><span class="math notranslate nohighlight">\((1, 1, 1)\)</span></p></td>
<td><p>size of the grid cells in object-space</p></td>
</tr>
<tr class="row-even"><td><p>OSPData</p></td>
<td><p>data</p></td>
<td></td>
<td><p>the actual voxel 3D <a class="reference external" href="#data">data</a></p></td>
</tr>
<tr class="row-odd"><td><p>int</p></td>
<td><p>filter</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OSP_VOLUME_FILTER_TRILINEAR</span></code></p></td>
<td><p>filter used for reconstructing the field, also allowed is <code class="docutils literal notranslate"><span class="pre">OSP_VOLUME_FILTER_NEAREST</span></code> and <code class="docutils literal notranslate"><span class="pre">OSP_VOLUME_FILTER_TRICUBIC</span></code></p></td>
</tr>
<tr class="row-even"><td><p>int</p></td>
<td><p>gradientFilter</p></td>
<td><p>same as <code class="docutils literal notranslate"><span class="pre">filter</span></code></p></td>
<td><p>filter used during gradient computations</p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>background</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NaN</span></code></p></td>
<td><p>value that is used when sampling an undefined region outside the volume domain</p></td>
</tr>
</tbody>
</table>
<p>The size of the volume is inferred from the size of the 3D array <code class="docutils literal notranslate"><span class="pre">data</span></code>, as is the type of the voxel values (currently supported are: <code class="docutils literal notranslate"><span class="pre">OSP_UCHAR</span></code>, <code class="docutils literal notranslate"><span class="pre">OSP_SHORT</span></code>, <code class="docutils literal notranslate"><span class="pre">OSP_USHORT</span></code>, <code class="docutils literal notranslate"><span class="pre">OSP_HALF</span></code>, <code class="docutils literal notranslate"><span class="pre">OSP_FLOAT</span></code>, and <code class="docutils literal notranslate"><span class="pre">OSP_DOUBLE</span></code>).</p>
</section>
<section id="structured-spherical-volume">
<h3>Structured Spherical Volume<a class="headerlink" href="#structured-spherical-volume" title="Permalink to this heading">#</a></h3>
<p>Structured spherical volumes are also supported, which are created by passing a type string of “<code class="docutils literal notranslate"><span class="pre">structuredSpherical</span></code>” to <code class="docutils literal notranslate"><span class="pre">ospNewVolume</span></code>. The grid dimensions and parameters are defined in terms of radial distance <span class="math notranslate nohighlight">\(r\)</span>, inclination angle <span class="math notranslate nohighlight">\(\theta\)</span>, and azimuthal angle <span class="math notranslate nohighlight">\(\phi\)</span>, conforming with the ISO convention for spherical coordinate systems. The coordinate system and parameters understood by structured spherical volumes are summarized below.</p>
<figure class="align-default" id="id21">
<a class="reference internal image-reference" href="https://ospray.github.io/images/structured_spherical_coords.svg"><img alt="Coordinate system of structured spherical volumes." src="https://ospray.github.io/images/structured_spherical_coords.svg" width="60.0%" /></a>
<figcaption>
<p><span class="caption-text">Coordinate system of structured spherical volumes.</span><a class="headerlink" href="#id21" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<table class="table" id="id22">
<caption><span class="caption-text">Configuration parameters for structured spherical volumes.</span><a class="headerlink" href="#id22" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>vec3f</p></td>
<td><p>gridOrigin</p></td>
<td><p><span class="math notranslate nohighlight">\((0, 0, 0)\)</span></p></td>
<td><p>origin of the grid in units of <span class="math notranslate nohighlight">\((r, \theta, \phi)\)</span>; angles in degrees</p></td>
</tr>
<tr class="row-odd"><td><p>vec3f</p></td>
<td><p>gridSpacing</p></td>
<td><p><span class="math notranslate nohighlight">\((1, 1, 1)\)</span></p></td>
<td><p>size of the grid cells in units of <span class="math notranslate nohighlight">\((r, \theta, \phi)\)</span>; angles in degrees</p></td>
</tr>
<tr class="row-even"><td><p>OSPData</p></td>
<td><p>data</p></td>
<td></td>
<td><p>the actual voxel 3D <a class="reference external" href="#data">data</a></p></td>
</tr>
<tr class="row-odd"><td><p>int</p></td>
<td><p>filter</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OSP_VOLUME_FILTER_TRILINEAR</span></code></p></td>
<td><p>filter used for reconstructing the field, also allowed is <code class="docutils literal notranslate"><span class="pre">OSP_VOLUME_FILTER_NEAREST</span></code></p></td>
</tr>
<tr class="row-even"><td><p>int</p></td>
<td><p>gradientFilter</p></td>
<td><p>same as <code class="docutils literal notranslate"><span class="pre">filter</span></code></p></td>
<td><p>filter used during gradient computations</p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>background</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NaN</span></code></p></td>
<td><p>value that is used when sampling an undefined region outside the volume domain</p></td>
</tr>
</tbody>
</table>
<p>The dimensions <span class="math notranslate nohighlight">\((r, \theta, \phi)\)</span> of the volume are inferred from the size of the 3D array <code class="docutils literal notranslate"><span class="pre">data</span></code>, as is the type of the voxel values (currently supported are: <code class="docutils literal notranslate"><span class="pre">OSP_UCHAR</span></code>, <code class="docutils literal notranslate"><span class="pre">OSP_SHORT</span></code>, <code class="docutils literal notranslate"><span class="pre">OSP_USHORT</span></code>, <code class="docutils literal notranslate"><span class="pre">OSP_HALF</span></code>, <code class="docutils literal notranslate"><span class="pre">OSP_FLOAT</span></code>, and <code class="docutils literal notranslate"><span class="pre">OSP_DOUBLE</span></code>).</p>
<p>These grid parameters support flexible specification of spheres, hemispheres, spherical shells, spherical wedges, and so forth. The grid extents (computed as <code class="docutils literal notranslate"><span class="pre">[gridOrigin,</span> <span class="pre">gridOrigin</span> <span class="pre">+</span> <span class="pre">(dimensions</span> <span class="pre">-</span> <span class="pre">1)</span> <span class="pre">*</span> <span class="pre">gridSpacing]</span></code>) however must be constrained such that:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(r \geq 0\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(0 \leq \theta \leq 180\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(0 \leq \phi \leq 360\)</span></p></li>
</ul>
</section>
<section id="adaptive-mesh-refinement-amr-volume">
<h3>Adaptive Mesh Refinement (AMR) Volume<a class="headerlink" href="#adaptive-mesh-refinement-amr-volume" title="Permalink to this heading">#</a></h3>
<p>OSPRay currently supports block-structured (Berger-Colella) AMR volumes. Volumes are specified as a list of blocks, which exist at levels of refinement in potentially overlapping regions. Blocks exist in a tree structure, with coarser refinement level blocks containing finer blocks. The cell width is equal for all blocks at the same refinement level, though blocks at a coarser level have a larger cell width than finer levels.</p>
<p>There can be any number of refinement levels and any number of blocks at any level of refinement. An AMR volume type is created by passing the type string “<code class="docutils literal notranslate"><span class="pre">amr</span></code>” to <code class="docutils literal notranslate"><span class="pre">ospNewVolume</span></code>.</p>
<p>Blocks are defined by three parameters: their bounds, the refinement level in which they reside, and the scalar data contained within each block.</p>
<p>Note that cell widths are defined <em>per refinement level</em>, not per block.</p>
<table class="table" id="id23">
<caption><span class="caption-text">Configuration parameters for AMR volumes.</span><a class="headerlink" href="#id23" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">OSPAMRMethod</span></code></p></td>
<td><p>method</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OSP_AMR_CURRENT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OSPAMRMethod</span></code> sampling method. Supported methods are:</p></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OSP_AMR_CURRENT</span></code></p></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OSP_AMR_FINEST</span></code></p></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OSP_AMR_OCTANT</span></code></p></td>
</tr>
<tr class="row-even"><td><p>float[]</p></td>
<td><p>cellWidth</p></td>
<td><p>NULL</p></td>
<td><p>array of each level’s cell width</p></td>
</tr>
<tr class="row-odd"><td><p>box3i[]</p></td>
<td><p>block.bounds</p></td>
<td><p>NULL</p></td>
<td><p><a class="reference external" href="#data">data</a> array of grid sizes (in voxels) for each AMR block</p></td>
</tr>
<tr class="row-even"><td><p>int[]</p></td>
<td><p>block.level</p></td>
<td><p>NULL</p></td>
<td><p>array of each block’s refinement level</p></td>
</tr>
<tr class="row-odd"><td><p>OSPData[]</p></td>
<td><p>block.data</p></td>
<td><p>NULL</p></td>
<td><p><a class="reference external" href="#data">data</a> array of OSPData containing the actual scalar voxel data, only <code class="docutils literal notranslate"><span class="pre">OSP_FLOAT</span></code> is supported as <code class="docutils literal notranslate"><span class="pre">OSPDataType</span></code></p></td>
</tr>
<tr class="row-even"><td><p>vec3f</p></td>
<td><p>gridOrigin</p></td>
<td><p><span class="math notranslate nohighlight">\((0, 0, 0)\)</span></p></td>
<td><p>origin of the grid</p></td>
</tr>
<tr class="row-odd"><td><p>vec3f</p></td>
<td><p>gridSpacing</p></td>
<td><p><span class="math notranslate nohighlight">\((1, 1, 1)\)</span></p></td>
<td><p>size of the grid cells</p></td>
</tr>
<tr class="row-even"><td><p>float</p></td>
<td><p>background</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NaN</span></code></p></td>
<td><p>value that is used when sampling an undefined region outside the volume domain</p></td>
</tr>
</tbody>
</table>
<p>Lastly, note that the <code class="docutils literal notranslate"><span class="pre">gridOrigin</span></code> and <code class="docutils literal notranslate"><span class="pre">gridSpacing</span></code> parameters act just like the structured volume equivalent, but they only modify the root (coarsest level) of refinement.</p>
<p>In particular, OSPRay’s / Open VKL’s AMR implementation was designed to cover Berger-Colella [1] and Chombo [2] AMR data. The <code class="docutils literal notranslate"><span class="pre">method</span></code> parameter above determines the interpolation method used when sampling the volume.</p>
<dl class="simple">
<dt>OSP_AMR_CURRENT</dt><dd><p>finds the finest refinement level at that cell and interpolates through this “current” level</p>
</dd>
<dt>OSP_AMR_FINEST</dt><dd><p>will interpolate at the closest existing cell in the volume-wide finest refinement level regardless of the sample cell’s level</p>
</dd>
<dt>OSP_AMR_OCTANT</dt><dd><p>interpolates through all available refinement levels at that cell. This method avoids discontinuities at refinement level boundaries at the cost of performance</p>
</dd>
</dl>
<p>Details and more information can be found in the publication for the implementation [3].</p>
<ol class="arabic simple">
<li><p>M.J. Berger and P. Colella, “Local adaptive mesh refinement for shock hydrodynamics.” Journal of Computational Physics 82.1 (1989): 64-84. DOI: 10.1016/0021-9991(89)90035-1</p></li>
<li><ol class="upperalpha simple" start="13">
<li><p>Adams, P. Colella, D.T. Graves, J.N. Johnson, N.D. Keen, T.J. Ligocki, D.F. Martin. P.W. McCorquodale, D. Modiano. P.O. Schwartz, T.D. Sternberg, and B. Van Straalen, “Chombo Software Package for AMR Applications – Design Document”, Lawrence Berkeley National Laboratory Technical Report LBNL-6616E.</p></li>
</ol>
</li>
<li><ol class="upperroman simple">
<li><p>Wald, C. Brownlee, W. Usher, and A. Knoll, “CPU volume rendering of adaptive mesh refinement data”. SIGGRAPH Asia 2017 Symposium on Visualization – SA ’17, 18(8), 1–8. DOI: 10.1145/3139295.3139305</p></li>
</ol>
</li>
</ol>
</section>
<section id="unstructured-volume">
<h3>Unstructured Volume<a class="headerlink" href="#unstructured-volume" title="Permalink to this heading">#</a></h3>
<p>Unstructured volumes can have their topology and geometry freely defined. Geometry can be composed of tetrahedral, hexahedral, wedge or pyramid cell types. The data format used is compatible with VTK and consists of multiple arrays: vertex positions and values, vertex indices, cell start indices, cell types, and cell values. An unstructured volume type is created by passing the type string “<code class="docutils literal notranslate"><span class="pre">unstructured</span></code>” to <code class="docutils literal notranslate"><span class="pre">ospNewVolume</span></code>.</p>
<p>Sampled cell values can be specified either per-vertex (<code class="docutils literal notranslate"><span class="pre">vertex.data</span></code>) or per-cell (<code class="docutils literal notranslate"><span class="pre">cell.data</span></code>). If both arrays are set, <code class="docutils literal notranslate"><span class="pre">cell.data</span></code> takes precedence.</p>
<p>Similar to a mesh, each cell is formed by a group of indices into the vertices. For each vertex, the corresponding (by array index) data value will be used for sampling when rendering, if specified. The index order for a tetrahedron is the same as <code class="docutils literal notranslate"><span class="pre">VTK_TETRA</span></code>: bottom triangle counterclockwise, then the top vertex.</p>
<p>For hexahedral cells, each hexahedron is formed by a group of eight indices into the vertices and data values. Vertex ordering is the same as <code class="docutils literal notranslate"><span class="pre">VTK_HEXAHEDRON</span></code>: four bottom vertices counterclockwise, then top four counterclockwise.</p>
<p>For wedge cells, each wedge is formed by a group of six indices into the vertices and data values. Vertex ordering is the same as <code class="docutils literal notranslate"><span class="pre">VTK_WEDGE</span></code>: three bottom vertices counterclockwise, then top three counterclockwise.</p>
<p>For pyramid cells, each cell is formed by a group of five indices into the vertices and data values. Vertex ordering is the same as <code class="docutils literal notranslate"><span class="pre">VTK_PYRAMID</span></code>: four bottom vertices counterclockwise, then the top vertex.</p>
<p>To maintain VTK data compatibility, the <code class="docutils literal notranslate"><span class="pre">index</span></code> array may be specified with cell sizes interleaved with vertex indices in the following format: <span class="math notranslate nohighlight">\(n, id_1, ..., id_n, m, id_1, ..., id_m\)</span>. This alternative <code class="docutils literal notranslate"><span class="pre">index</span></code> array layout can be enabled through the <code class="docutils literal notranslate"><span class="pre">indexPrefixed</span></code> flag (in which case, the <code class="docutils literal notranslate"><span class="pre">cell.type</span></code> parameter must be omitted).</p>
<table class="table" id="id24">
<caption><span class="caption-text">Configuration parameters for unstructured volumes.</span><a class="headerlink" href="#id24" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>vec3f[]</p></td>
<td><p>vertex.position</p></td>
<td></td>
<td><p><a class="reference external" href="#data">data</a> array of vertex positions</p></td>
</tr>
<tr class="row-odd"><td><p>float[]</p></td>
<td><p>vertex.data</p></td>
<td></td>
<td><p><a class="reference external" href="#data">data</a> array of vertex data values to be sampled</p></td>
</tr>
<tr class="row-even"><td><p>uint32[] / uint64[]</p></td>
<td><p>index</p></td>
<td></td>
<td><p><a class="reference external" href="#data">data</a> array of indices (into the vertex array(s)) that form cells</p></td>
</tr>
<tr class="row-odd"><td><p>bool</p></td>
<td><p>indexPrefixed</p></td>
<td><p>false</p></td>
<td><p>indicates that the <code class="docutils literal notranslate"><span class="pre">index</span></code> array is compatible to VTK, where the indices of each cell are prefixed with the number of vertices</p></td>
</tr>
<tr class="row-even"><td><p>uint32[] / uint64[]</p></td>
<td><p>cell.index</p></td>
<td></td>
<td><p><a class="reference external" href="#data">data</a> array of locations (into the index array), specifying the first index of each cell</p></td>
</tr>
<tr class="row-odd"><td><p>float[]</p></td>
<td><p>cell.data</p></td>
<td></td>
<td><p><a class="reference external" href="#data">data</a> array of cell data values to be sampled</p></td>
</tr>
<tr class="row-even"><td><p>uint8[]</p></td>
<td><p>cell.type</p></td>
<td></td>
<td><p><a class="reference external" href="#data">data</a> array of cell types (VTK compatible), only set if <code class="docutils literal notranslate"><span class="pre">indexPrefixed</span> <span class="pre">=</span> <span class="pre">false</span></code> false. Supported types are:</p></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OSP_TETRAHEDRON</span></code></p></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OSP_HEXAHEDRON</span></code></p></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OSP_WEDGE</span></code></p></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OSP_PYRAMID</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>bool</p></td>
<td><p>hexIterative</p></td>
<td><p>false</p></td>
<td><p>hexahedron interpolation method, defaults to fast non-iterative version which could have rendering inaccuracies may appear if hex is not parallelepiped</p></td>
</tr>
<tr class="row-even"><td><p>bool</p></td>
<td><p>precomputedNormals</p></td>
<td><p>false</p></td>
<td><p>whether to accelerate by precomputing, at a cost of 12 bytes/face</p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>background</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NaN</span></code></p></td>
<td><p>value that is used when sampling an undefined region outside the volume domain</p></td>
</tr>
</tbody>
</table>
</section>
<section id="vdb-volume">
<h3>VDB Volume<a class="headerlink" href="#vdb-volume" title="Permalink to this heading">#</a></h3>
<p>VDB volumes implement a data structure that is very similar to the data structure outlined in Museth [1], they are created by passing the type string “<code class="docutils literal notranslate"><span class="pre">vdb</span></code>” to <code class="docutils literal notranslate"><span class="pre">ospNewVolume</span></code>.</p>
<p>The data structure is a hierarchical regular grid at its core: Nodes are regular grids, and each grid cell may either store a constant value (this is called a tile), or child pointers. Nodes in VDB trees are wide: Nodes on the first level have a resolution of 32<sup>3</sup> voxels, on the next level 16<sup>3</sup>, and on the leaf level 8<sup>3</sup> voxels. All nodes on a given level have the same resolution. This makes it easy to find the node containing a coordinate using shift operations (see [1]). VDB leaf nodes are implicit in OSPRay / Open VKL: they are stored as pointers to user-provided data.</p>
<figure class="align-default" id="id25">
<a class="reference internal image-reference" href="https://ospray.github.io/images/vdb_structure.png"><img alt="Topology of VDB volumes." src="https://ospray.github.io/images/vdb_structure.png" style="width: 80.0%;" /></a>
<figcaption>
<p><span class="caption-text">Topology of VDB volumes.</span><a class="headerlink" href="#id25" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>VDB volumes interpret input data as constant cells (which are then potentially filtered). This is in contrast to <code class="docutils literal notranslate"><span class="pre">structuredRegular</span></code> volumes, which have a vertex-centered interpretation.</p>
<p>The VDB implementation in OSPRay / Open VKL follows the following goals:</p>
<ul class="simple">
<li><p>Efficient data structure traversal on vector architectures.</p></li>
<li><p>Enable the use of industry-standard <code class="docutils literal notranslate"><span class="pre">.vdb</span></code> files created through the OpenVDB library.</p></li>
<li><p>Compatibility with OpenVDB on a leaf data level, so that <code class="docutils literal notranslate"><span class="pre">.vdb</span></code> file may be loaded with minimal overhead.</p></li>
</ul>
<p>VDB volumes have the following parameters:</p>
<table class="table" id="id26">
<caption><span class="caption-text">Configuration parameters for VDB volumes.</span><a class="headerlink" href="#id26" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>int</p></td>
<td><p>maxSamplingDepth</p></td>
<td><p>do not descend further than to this depth during sampling, the maximum value and the default is 3</p></td>
</tr>
<tr class="row-odd"><td><p>uint32[]</p></td>
<td><p>node.level</p></td>
<td><p>level on which each input node exists, may be 1, 2 or 3 (levels are counted from the root level = 0 down)</p></td>
</tr>
<tr class="row-even"><td><p>vec3i[]</p></td>
<td><p>node.origin</p></td>
<td><p>the node origin index (per input node)</p></td>
</tr>
<tr class="row-odd"><td><p>OSPData[]</p></td>
<td><p>node.data</p></td>
<td><p><a class="reference external" href="#data">data</a> arrays with the node data (per input node). Nodes that are tiles are expected to have single-item arrays. Leaf-nodes with grid data expected to have compact 3D arrays in zyx layout (z changes most quickly) with the correct number of voxels for the <code class="docutils literal notranslate"><span class="pre">level</span></code>. Only <code class="docutils literal notranslate"><span class="pre">OSP_FLOAT</span></code> is supported as field <code class="docutils literal notranslate"><span class="pre">OSPDataType</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p>int</p></td>
<td><p>filter</p></td>
<td><p>filter used for reconstructing the field, default is <code class="docutils literal notranslate"><span class="pre">OSP_VOLUME_FILTER_TRILINEAR</span></code>, alternatively <code class="docutils literal notranslate"><span class="pre">OSP_VOLUME_FILTER_NEAREST</span></code>, or <code class="docutils literal notranslate"><span class="pre">OSP_VOLUME_FILTER_TRICUBIC</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p>int</p></td>
<td><p>gradientFilter</p></td>
<td><p>filter used for reconstructing the field during gradient computations, default same as <code class="docutils literal notranslate"><span class="pre">filter</span></code></p></td>
</tr>
<tr class="row-even"><td><p>float</p></td>
<td><p>background</p></td>
<td><p>value that is used when sampling an undefined region outside the volume domain, default <code class="docutils literal notranslate"><span class="pre">NaN</span></code></p></td>
</tr>
</tbody>
</table>
<ol class="arabic simple">
<li><p>Museth, K. VDB: High-Resolution Sparse Volumes with Dynamic Topology. ACM Transactions on Graphics 32(3), 2013. DOI: 10.1145/2487228.2487235</p></li>
</ol>
</section>
<section id="particle-volume">
<h3>Particle Volume<a class="headerlink" href="#particle-volume" title="Permalink to this heading">#</a></h3>
<p>Particle volumes consist of a set of points in space. Each point has a position, a radius, and a weight typically associated with an attribute. Particle volumes are created by passing the type string “<code class="docutils literal notranslate"><span class="pre">particle</span></code>” to <code class="docutils literal notranslate"><span class="pre">ospNewVolume</span></code>.</p>
<p>A radial basis function defines the contribution of that particle. Currently, we use the Gaussian radial basis function</p>
<div class="math notranslate nohighlight">
\[\phi(P) = w \exp\left(-\frac{(P - p)^2}{2 r^2}\right),\]</div>
<p>where <span class="math notranslate nohighlight">\(P\)</span> is the particle position, <span class="math notranslate nohighlight">\(p\)</span> is the sample position, <span class="math notranslate nohighlight">\(r\)</span> is the radius and <span class="math notranslate nohighlight">\(w\)</span> is the weight. At each sample, the scalar field value is then computed as the sum of each radial basis function <span class="math notranslate nohighlight">\(\phi\)</span>, for each particle that overlaps it.</p>
<p>The OSPRay / Open VKL implementation is similar to direct evaluation of samples in Reda et al. [2]. It uses an Embree-built BVH with a custom traversal, similar to the method in [1].</p>
<table class="table" id="id27">
<caption><span class="caption-text">Configuration parameters for particle volumes.</span><a class="headerlink" href="#id27" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>vec3f[]</p></td>
<td><p>particle.position</p></td>
<td></td>
<td><p><a class="reference external" href="#data">data</a> array of particle positions</p></td>
</tr>
<tr class="row-odd"><td><p>float[]</p></td>
<td><p>particle.radius</p></td>
<td></td>
<td><p><a class="reference external" href="#data">data</a> array of particle radii</p></td>
</tr>
<tr class="row-even"><td><p>float[]</p></td>
<td><p>particle.weight</p></td>
<td><p>NULL</p></td>
<td><p>optional <a class="reference external" href="#data">data</a> array of particle weights, specifying the height of the kernel.</p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>radiusSupportFactor</p></td>
<td><p>3.0</p></td>
<td><p>The multiplier of the particle radius required for support. Larger radii ensure smooth results at the cost of performance. In the Gaussian kernel, the radius is one standard deviation (<span class="math notranslate nohighlight">\(\sigma\)</span>), so a value of 3 corresponds to <span class="math notranslate nohighlight">\(3 \sigma\)</span>.</p></td>
</tr>
<tr class="row-even"><td><p>float</p></td>
<td><p>clampMaxCumulativeValue</p></td>
<td><p>0</p></td>
<td><p>The maximum cumulative value possible, set by user. All cumulative values will be clamped to this, and further traversal (RBF summation) of particle contributions will halt when this value is reached. A value of zero or less turns this off.</p></td>
</tr>
<tr class="row-odd"><td><p>bool</p></td>
<td><p>estimateValueRanges</p></td>
<td><p>true</p></td>
<td><p>Enable heuristic estimation of value ranges which are used in internal acceleration structures as well as for determining the volume’s overall value range. When set to <code class="docutils literal notranslate"><span class="pre">false</span></code>, the user <em>must</em> specify <code class="docutils literal notranslate"><span class="pre">clampMaxCumulativeValue</span></code>, and all value ranges will be assumed [0–<code class="docutils literal notranslate"><span class="pre">clampMaxCumulativeValue</span></code>]. Disabling this switch may improve volume commit time, but will make volume rendering less efficient.</p></td>
</tr>
</tbody>
</table>
<ol class="arabic simple">
<li><ol class="upperalpha simple">
<li><p>Knoll, I. Wald, P. Navratil, A. Bowen, K. Reda, M.E., Papka, and K. Gaither, “RBF Volume Ray Casting on Multicore and Manycore CPUs”, 2014, Computer Graphics Forum, 33: 71–80. doi:10.1111/cgf.12363</p></li>
</ol>
</li>
<li><ol class="upperalpha simple" start="11">
<li><p>Reda, A. Knoll, K. Nomura, M. E. Papka, A. E. Johnson and J. Leigh, “Visualizing large-scale atomistic simulations in ultra-resolution immersive environments”, 2013 IEEE Symposium on Large-Scale Data Analysis and Visualization (LDAV), Atlanta, GA, 2013, pp. 59–65.</p></li>
</ol>
</li>
</ol>
</section>
<section id="transfer-function">
<h3>Transfer Function<a class="headerlink" href="#transfer-function" title="Permalink to this heading">#</a></h3>
<p>Transfer functions map the scalar values of volumes to color and opacity and thus they can be used to visually emphasize certain features of the volume. To create a new transfer function of given type <code class="docutils literal notranslate"><span class="pre">type</span></code> use</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">OSPTransferFunction</span><span class="w"> </span><span class="nf">ospNewTransferFunction</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">type</span><span class="p">);</span>
</pre></div>
</div>
<p>The returned handle can be assigned to a volumetric model (described below) as parameter “<code class="docutils literal notranslate"><span class="pre">transferFunction</span></code>” using <code class="docutils literal notranslate"><span class="pre">ospSetObject</span></code>.</p>
<p>One type of transfer function that is supported by OSPRay is the linear transfer function, which interpolates between given equidistant colors and opacities. It is create by passing the string “<code class="docutils literal notranslate"><span class="pre">piecewiseLinear</span></code>” to <code class="docutils literal notranslate"><span class="pre">ospNewTransferFunction</span></code> and it is controlled by these parameters:</p>
<table class="table" id="id28">
<caption><span class="caption-text">Parameters accepted by the linear transfer function.</span><a class="headerlink" href="#id28" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>vec3f[]</p></td>
<td><p>color</p></td>
<td><p><a class="reference external" href="#data">data</a> array of colors (linear RGB)</p></td>
</tr>
<tr class="row-odd"><td><p>float[]</p></td>
<td><p>opacity</p></td>
<td><p><a class="reference external" href="#data">data</a> array of opacities</p></td>
</tr>
<tr class="row-even"><td><p>vec2f</p></td>
<td><p>valueRange</p></td>
<td><p>domain (scalar range) this function maps from</p></td>
</tr>
</tbody>
</table>
<p>The arrays <code class="docutils literal notranslate"><span class="pre">color</span></code> and <code class="docutils literal notranslate"><span class="pre">opacity</span></code> can be of different length.</p>
</section>
<section id="volumetricmodels">
<h3>VolumetricModels<a class="headerlink" href="#volumetricmodels" title="Permalink to this heading">#</a></h3>
<p>Volumes in OSPRay are given volume rendering appearance information through VolumetricModels. This decouples the physical representation of the volume (and possible acceleration structures it contains) to rendering-specific parameters (where more than one set may exist concurrently). To create a volume instance, call</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">OSPVolumetricModel</span><span class="w"> </span><span class="nf">ospNewVolumetricModel</span><span class="p">(</span><span class="n">OSPVolume</span><span class="w"> </span><span class="n">volume</span><span class="p">);</span>
</pre></div>
</div>
<p>The passed volume can be <code class="docutils literal notranslate"><span class="pre">NULL</span></code> as long as the volume to be used is passed as a parameter. If both a volume is specified on object creation and as a parameter, the parameter value is used. If the parameter value is later removed, the volume object passed on object creation is again used.</p>
<table class="table" id="id29">
<caption><span class="caption-text">Parameters understood by VolumetricModel.</span><a class="headerlink" href="#id29" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>OSPTransferFunction</p></td>
<td><p>transferFunction</p></td>
<td></td>
<td><p><a class="reference external" href="#transfer-function">transfer function</a> to use</p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>densityScale</p></td>
<td><p>1.0</p></td>
<td><p>makes volumes uniformly thinner or thicker</p></td>
</tr>
<tr class="row-even"><td><p>float</p></td>
<td><p>anisotropy</p></td>
<td><p>0.0</p></td>
<td><p>anisotropy of the (Henyey-Greenstein) phase function in [-1–1] (<a class="reference external" href="#path-tracer">path tracer</a> only), default to isotropic scattering</p></td>
</tr>
<tr class="row-odd"><td><p>OSPVolume</p></td>
<td><p>volume</p></td>
<td></td>
<td><p>optional <a class="reference external" href="#volumes">volume</a> object this model references</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="geometries">
<h2>Geometries<a class="headerlink" href="#geometries" title="Permalink to this heading">#</a></h2>
<p>Geometries in OSPRay are objects that describe intersectable surfaces. To create a new geometry object of given type <code class="docutils literal notranslate"><span class="pre">type</span></code> use</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">OSPGeometry</span><span class="w"> </span><span class="nf">ospNewGeometry</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">type</span><span class="p">);</span>
</pre></div>
</div>
<p>Note that in the current implementation geometries are limited to a maximum of 2<sup>32</sup> primitives.</p>
<section id="mesh">
<h3>Mesh<a class="headerlink" href="#mesh" title="Permalink to this heading">#</a></h3>
<p>A mesh consisting of either triangles or quads is created by calling <code class="docutils literal notranslate"><span class="pre">ospNewGeometry</span></code> with type string “<code class="docutils literal notranslate"><span class="pre">mesh</span></code>”. Once created, a mesh recognizes the following parameters:</p>
<table class="table" id="id30">
<caption><span class="caption-text">Parameters defining a mesh geometry.</span><a class="headerlink" href="#id30" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>vec3f[]</p></td>
<td><p>vertex.position</p></td>
<td><p><a class="reference external" href="#data">data</a> array of vertex positions</p></td>
</tr>
<tr class="row-odd"><td><p>vec3f[]</p></td>
<td><p>vertex.normal</p></td>
<td><p><a class="reference external" href="#data">data</a> array of vertex normals</p></td>
</tr>
<tr class="row-even"><td><p>vec4f[] / vec3f[]</p></td>
<td><p>vertex.color</p></td>
<td><p><a class="reference external" href="#data">data</a> array of vertex colors (linear RGBA/RGB)</p></td>
</tr>
<tr class="row-odd"><td><p>vec2f[]</p></td>
<td><p>vertex.texcoord</p></td>
<td><p><a class="reference external" href="#data">data</a> array of vertex texture coordinates</p></td>
</tr>
<tr class="row-even"><td><p>vec3ui[] / vec4ui[]</p></td>
<td><p>index</p></td>
<td><p><a class="reference external" href="#data">data</a> array of (either triangle or quad) indices (into the vertex array(s))</p></td>
</tr>
</tbody>
</table>
<p>The data type of index arrays differentiates between the underlying geometry, triangles are used for a index with <code class="docutils literal notranslate"><span class="pre">vec3ui</span></code> type and quads for <code class="docutils literal notranslate"><span class="pre">vec4ui</span></code> type. Quads are internally handled as a pair of two triangles, thus mixing triangles and quads is supported by encoding some triangle as a quad with the last two vertex indices being identical (<code class="docutils literal notranslate"><span class="pre">w=z</span></code>).</p>
<p>The <code class="docutils literal notranslate"><span class="pre">vertex.position</span></code> and <code class="docutils literal notranslate"><span class="pre">index</span></code> arrays are mandatory to create a valid mesh.</p>
</section>
<section id="subdivision">
<h3>Subdivision<a class="headerlink" href="#subdivision" title="Permalink to this heading">#</a></h3>
<p>A mesh consisting of subdivision surfaces, created by specifying a geometry of type “<code class="docutils literal notranslate"><span class="pre">subdivision</span></code>”. Once created, a subdivision recognizes the following parameters:</p>
<table class="table" id="id31">
<caption><span class="caption-text">Parameters defining a Subdivision geometry.</span><a class="headerlink" href="#id31" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>vec3f[]</p></td>
<td><p>vertex.position</p></td>
<td><p><a class="reference external" href="#data">data</a> array of vertex positions</p></td>
</tr>
<tr class="row-odd"><td><p>vec4f[]</p></td>
<td><p>vertex.color</p></td>
<td><p>optional <a class="reference external" href="#data">data</a> array of vertex colors (linear RGBA)</p></td>
</tr>
<tr class="row-even"><td><p>vec2f[]</p></td>
<td><p>vertex.texcoord</p></td>
<td><p>optional <a class="reference external" href="#data">data</a> array of vertex texture coordinates</p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>level</p></td>
<td><p>global level of tessellation, default 5</p></td>
</tr>
<tr class="row-even"><td><p>uint[]</p></td>
<td><p>index</p></td>
<td><p><a class="reference external" href="#data">data</a> array of indices (into the vertex array(s))</p></td>
</tr>
<tr class="row-odd"><td><p>float[]</p></td>
<td><p>index.level</p></td>
<td><p>optional <a class="reference external" href="#data">data</a> array of per-edge levels of tessellation, overrides global level</p></td>
</tr>
<tr class="row-even"><td><p>uint[]</p></td>
<td><p>face</p></td>
<td><p>optional <a class="reference external" href="#data">data</a> array holding the number of indices/edges (3 to 15) per face, defaults to 4 (a pure quad mesh)</p></td>
</tr>
<tr class="row-odd"><td><p>vec2i[]</p></td>
<td><p>edgeCrease.index</p></td>
<td><p>optional <a class="reference external" href="#data">data</a> array of edge crease indices</p></td>
</tr>
<tr class="row-even"><td><p>float[]</p></td>
<td><p>edgeCrease.weight</p></td>
<td><p>optional <a class="reference external" href="#data">data</a> array of edge crease weights</p></td>
</tr>
<tr class="row-odd"><td><p>uint[]</p></td>
<td><p>vertexCrease.index</p></td>
<td><p>optional <a class="reference external" href="#data">data</a> array of vertex crease indices</p></td>
</tr>
<tr class="row-even"><td><p>float[]</p></td>
<td><p>vertexCrease.weight</p></td>
<td><p>optional <a class="reference external" href="#data">data</a> array of vertex crease weights</p></td>
</tr>
<tr class="row-odd"><td><p>uchar</p></td>
<td><p>mode</p></td>
<td><p>subdivision edge boundary mode, supported modes are:</p></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OSP_SUBDIVISION_NO_BOUNDARY</span></code></p></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OSP_SUBDIVISION_SMOOTH_BOUNDARY</span></code> (default)</p></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OSP_SUBDIVISION_PIN_CORNERS</span></code></p></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OSP_SUBDIVISION_PIN_BOUNDARY</span></code></p></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OSP_SUBDIVISION_PIN_ALL</span></code></p></td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal notranslate"><span class="pre">vertex</span></code> and <code class="docutils literal notranslate"><span class="pre">index</span></code> arrays are mandatory to create a valid subdivision surface. If no <code class="docutils literal notranslate"><span class="pre">face</span></code> array is present then a pure quad mesh is assumed (the number of indices must be a multiple of 4). Optionally supported are edge and vertex creases.</p>
</section>
<section id="spheres">
<h3>Spheres<a class="headerlink" href="#spheres" title="Permalink to this heading">#</a></h3>
<p>A geometry consisting of individual spheres, each of which can have an own radius, is created by calling <code class="docutils literal notranslate"><span class="pre">ospNewGeometry</span></code> with type string “<code class="docutils literal notranslate"><span class="pre">sphere</span></code>”. The spheres will not be tessellated but rendered procedurally and are thus perfectly round. To allow a variety of sphere representations in the application this geometry allows a flexible way of specifying the data of center position and radius within a <a class="reference external" href="#data">data</a> array:</p>
<table class="table" id="id32">
<caption><span class="caption-text">Parameters defining a spheres geometry.</span><a class="headerlink" href="#id32" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>vec3f[]</p></td>
<td><p>sphere.position</p></td>
<td></td>
<td><p><a class="reference external" href="#data">data</a> array of center positions</p></td>
</tr>
<tr class="row-odd"><td><p>float[]</p></td>
<td><p>sphere.radius</p></td>
<td><p>NULL</p></td>
<td><p>optional <a class="reference external" href="#data">data</a> array of the per-sphere radius</p></td>
</tr>
<tr class="row-even"><td><p>vec2f[]</p></td>
<td><p>sphere.texcoord</p></td>
<td><p>NULL</p></td>
<td><p>optional <a class="reference external" href="#data">data</a> array of texture coordinates (constant per sphere)</p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>radius</p></td>
<td><p>0.01</p></td>
<td><p>default radius for all spheres (if <code class="docutils literal notranslate"><span class="pre">sphere.radius</span></code> is not set)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="curves">
<h3>Curves<a class="headerlink" href="#curves" title="Permalink to this heading">#</a></h3>
<p>A geometry consisting of multiple curves is created by calling <code class="docutils literal notranslate"><span class="pre">ospNewGeometry</span></code> with type string “<code class="docutils literal notranslate"><span class="pre">curve</span></code>”. The parameters defining this geometry are listed in the table below.</p>
<table class="table" id="id33">
<caption><span class="caption-text">Parameters defining a curves geometry.</span><a class="headerlink" href="#id33" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>vec4f[]</p></td>
<td><p>vertex.position_radius</p></td>
<td><p><a class="reference external" href="#data">data</a> array of vertex position and per-vertex radius</p></td>
</tr>
<tr class="row-odd"><td><p>vec2f[]</p></td>
<td><p>vertex.texcoord</p></td>
<td><p><a class="reference external" href="#data">data</a> array of per-vertex texture coordinates</p></td>
</tr>
<tr class="row-even"><td><p>vec4f[]</p></td>
<td><p>vertex.color</p></td>
<td><p><a class="reference external" href="#data">data</a> array of corresponding vertex colors (linear RGBA)</p></td>
</tr>
<tr class="row-odd"><td><p>vec3f[]</p></td>
<td><p>vertex.normal</p></td>
<td><p><a class="reference external" href="#data">data</a> array of curve normals (only for “ribbon” curves)</p></td>
</tr>
<tr class="row-even"><td><p>vec4f[]</p></td>
<td><p>vertex.tangent</p></td>
<td><p><a class="reference external" href="#data">data</a> array of curve tangents (only for “hermite” curves)</p></td>
</tr>
<tr class="row-odd"><td><p>uint32[]</p></td>
<td><p>index</p></td>
<td><p><a class="reference external" href="#data">data</a> array of indices to the first vertex or tangent of a curve segment</p></td>
</tr>
<tr class="row-even"><td><p>uchar</p></td>
<td><p>type</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OSPCurveType</span></code> for rendering the curve. Supported types are:</p></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OSP_FLAT</span></code></p></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OSP_ROUND</span></code></p></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OSP_RIBBON</span></code></p></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OSP_DISJOINT</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>uchar</p></td>
<td><p>basis</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OSPCurveBasis</span></code> for defining the curve. Supported bases are:</p></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OSP_LINEAR</span></code></p></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OSP_BEZIER</span></code></p></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OSP_BSPLINE</span></code></p></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OSP_HERMITE</span></code></p></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OSP_CATMULL_ROM</span></code></p></td>
</tr>
</tbody>
</table>
<p>Positions in <code class="docutils literal notranslate"><span class="pre">vertex.position_radius</span></code> parameter supports per-vertex varying radii with data type <code class="docutils literal notranslate"><span class="pre">vec4f[]</span></code> and instantiate Embree curves internally for the relevant type/basis mapping.</p>
<p>The following section describes the properties of different curve basis’ and how they use the data provided in data buffers:</p>
<dl class="simple">
<dt>OSP_LINEAR</dt><dd><p>The indices point to the first of 2 consecutive control points in the vertex buffer. The first control point is the start and the second control point the end of the line segment. The curve goes through all control points listed in the vertex buffer.</p>
</dd>
<dt>OSP_BEZIER</dt><dd><p>The indices point to the first of 4 consecutive control points in the vertex buffer. The first control point represents the start point of the curve, and the 4th control point the end point of the curve. The Bézier basis is interpolating, thus the curve does go exactly through the first and fourth control vertex.</p>
</dd>
<dt>OSP_BSPLINE</dt><dd><p>The indices point to the first of 4 consecutive control points in the vertex buffer. This basis is not interpolating, thus the curve does in general not go through any of the control points directly. Using this basis, 3 control points can be shared for two continuous neighboring curve segments, e.g., the curves <span class="math notranslate nohighlight">\((p0, p1, p2, p3)\)</span> and <span class="math notranslate nohighlight">\((p1, p2, p3, p4)\)</span> are C1 continuous. This feature make this basis a good choice to construct continuous multi-segment curves, as memory consumption can be kept minimal.</p>
</dd>
<dt>OSP_HERMITE</dt><dd><p>It is necessary to have both vertex buffer and tangent buffer for using this basis. The indices point to the first of 2 consecutive points in the vertex buffer, and the first of 2 consecutive tangents in the tangent buffer. This basis is interpolating, thus does exactly go through the first and second control point, and the first order derivative at the begin and end matches exactly the value specified in the tangent buffer. When connecting two segments continuously, the end point and tangent of the previous segment can be shared.</p>
</dd>
<dt>OSP_CATMULL_ROM</dt><dd><p>The indices point to the first of 4 consecutive control points in the vertex buffer. If <span class="math notranslate nohighlight">\((p0, p1, p2, p3)\)</span> represent the points then this basis goes through <span class="math notranslate nohighlight">\(p1\)</span> and <span class="math notranslate nohighlight">\(p2\)</span>, with tangents as <span class="math notranslate nohighlight">\((p2-p0)/2\)</span> and <span class="math notranslate nohighlight">\((p3-p1)/2\)</span>.</p>
</dd>
</dl>
<p>The following section describes the properties of different curve types’ and how they define the geometry of a curve:</p>
<dl class="simple">
<dt>OSP_FLAT</dt><dd><p>This type enables faster rendering as the curve is rendered as a connected sequence of ray facing quads.</p>
</dd>
<dt>OSP_ROUND</dt><dd><p>This type enables rendering a real geometric surface for the curve which allows closeup views. This mode renders a sweep surface by sweeping a varying radius circle tangential along the curve.</p>
</dd>
<dt>OSP_RIBBON</dt><dd><p>The type enables normal orientation of the curve and requires a normal buffer be specified along with vertex buffer. The curve is rendered as a flat band whose center approximately follows the provided vertex buffer and whose normal orientation approximately follows the provided normal buffer. Not supported for basis <code class="docutils literal notranslate"><span class="pre">OSP_LINEAR</span></code>.</p>
</dd>
<dt>OSP_DISJOINT</dt><dd><p>Only supported for basis <code class="docutils literal notranslate"><span class="pre">OSP_LINEAR</span></code>; the segments are open and not connected at the joints, i.e., the curve segments are either individual cones or cylinders.</p>
</dd>
</dl>
</section>
<section id="boxes">
<h3>Boxes<a class="headerlink" href="#boxes" title="Permalink to this heading">#</a></h3>
<p>OSPRay can directly render axis-aligned bounding boxes without the need to convert them to quads or triangles. To do so create a boxes geometry by calling <code class="docutils literal notranslate"><span class="pre">ospNewGeometry</span></code> with type string “<code class="docutils literal notranslate"><span class="pre">box</span></code>”.</p>
<table class="table" id="id34">
<caption><span class="caption-text">Parameters defining a boxes geometry.</span><a class="headerlink" href="#id34" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>box3f[]</p></td>
<td><p>box</p></td>
<td><p><a class="reference external" href="#data">data</a> array of boxes</p></td>
</tr>
</tbody>
</table>
</section>
<section id="planes">
<h3>Planes<a class="headerlink" href="#planes" title="Permalink to this heading">#</a></h3>
<p>OSPRay can directly render planes defined by plane equation coefficients in its implicit form <span class="math notranslate nohighlight">\(ax + by + cz + d = 0\)</span>. By default planes are infinite but their extents can be limited by defining optional bounding boxes. A planes geometry can be created by calling <code class="docutils literal notranslate"><span class="pre">ospNewGeometry</span></code> with type string “<code class="docutils literal notranslate"><span class="pre">plane</span></code>”.</p>
<table class="table" id="id35">
<caption><span class="caption-text">Parameters defining a planes geometry.</span><a class="headerlink" href="#id35" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>vec4f[]</p></td>
<td><p>plane.coefficients</p></td>
<td><p><a class="reference external" href="#data">data</a> array of plane coefficients <span class="math notranslate nohighlight">\((a, b, c, d)\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>box3f[]</p></td>
<td><p>plane.bounds</p></td>
<td><p>optional <a class="reference external" href="#data">data</a> array of bounding boxes</p></td>
</tr>
</tbody>
</table>
</section>
<section id="isosurfaces">
<h3>Isosurfaces<a class="headerlink" href="#isosurfaces" title="Permalink to this heading">#</a></h3>
<p>OSPRay can directly render multiple isosurfaces of a volume without first tessellating them. To do so create an isosurfaces geometry by calling <code class="docutils literal notranslate"><span class="pre">ospNewGeometry</span></code> with type string “<code class="docutils literal notranslate"><span class="pre">isosurface</span></code>”. The appearance information of the surfaces is set through the Geometric Model. Per-isosurface colors can be set by passing per-primitive colors to the Geometric Model, in order of the isosurface array.</p>
<table class="table" id="id36">
<caption><span class="caption-text">Parameters defining an isosurfaces geometry.</span><a class="headerlink" href="#id36" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>float</p></td>
<td><p>isovalue</p></td>
<td><p>single isovalues</p></td>
</tr>
<tr class="row-odd"><td><p>float[]</p></td>
<td><p>isovalue</p></td>
<td><p><a class="reference external" href="#data">data</a> array of isovalues</p></td>
</tr>
<tr class="row-even"><td><p>OSPVolume</p></td>
<td><p>volume</p></td>
<td><p>handle of the <a class="reference external" href="#volumes">Volume</a> to be isosurfaced</p></td>
</tr>
</tbody>
</table>
</section>
<section id="geometricmodels">
<h3>GeometricModels<a class="headerlink" href="#geometricmodels" title="Permalink to this heading">#</a></h3>
<p>Geometries are matched with surface appearance information through GeometricModels. These take a geometry, which defines the surface representation, and applies either full-object or per-primitive color and material information. To create a geometric model, call</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">OSPGeometricModel</span><span class="w"> </span><span class="nf">ospNewGeometricModel</span><span class="p">(</span><span class="n">OSPGeometry</span><span class="w"> </span><span class="n">geometry</span><span class="p">);</span>
</pre></div>
</div>
<p>The passed geometry can be <code class="docutils literal notranslate"><span class="pre">NULL</span></code> as long as the geometry to be used is passed as a parameter. If both a geometry is specified on object creation and as a parameter, the parameter value is used. If the parameter value is later removed, the geometry object passed on object creation is again used.</p>
<p>Color and material are fetched with the primitive ID of the hit (clamped to the valid range, thus a single color or material is fine), or mapped first via the <code class="docutils literal notranslate"><span class="pre">index</span></code> array (if present). All parameters are optional, however, some renderers (notably the <a class="reference external" href="#path-tracer">path tracer</a>) require a material to be set. Materials are either handles of <code class="docutils literal notranslate"><span class="pre">OSPMaterial</span></code>, or indices into the <code class="docutils literal notranslate"><span class="pre">material</span></code> array on the <a class="reference external" href="#renderers">renderer</a>, which allows to build a <a class="reference external" href="#world">world</a> which can be used by different types of renderers.</p>
<p>An <code class="docutils literal notranslate"><span class="pre">invertNormals</span></code> flag allows to invert (shading) normal vectors of the rendered geometry. That is particularly useful for clipping. By changing normal vectors orientation one can control whether inside or outside of the clipping geometry is being removed. For example, a clipping geometry with normals oriented outside clips everything what’s inside.</p>
<table class="table" id="id37">
<caption><span class="caption-text">Parameters understood by GeometricModel.</span><a class="headerlink" href="#id37" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>OSPMaterial / uint32</p></td>
<td><p>material</p></td>
<td><p>optional <a class="reference external" href="#materials">material</a> applied to the geometry, may be an index into the <code class="docutils literal notranslate"><span class="pre">material</span></code> parameter on the <a class="reference external" href="#renderers">renderer</a> (if it exists)</p></td>
</tr>
<tr class="row-odd"><td><p>vec4f</p></td>
<td><p>color</p></td>
<td><p>optional color assigned to the geometry (linear RGBA)</p></td>
</tr>
<tr class="row-even"><td><p>OSPMaterial[] / uint32[]</p></td>
<td><p>material</p></td>
<td><p>optional <a class="reference external" href="#data">data</a> array of (per-primitive) materials, may be an index into the <code class="docutils literal notranslate"><span class="pre">material</span></code> parameter on the renderer (if it exists)</p></td>
</tr>
<tr class="row-odd"><td><p>vec4f[]</p></td>
<td><p>color</p></td>
<td><p>optional <a class="reference external" href="#data">data</a> array of (per-primitive) colors (linear RGBA)</p></td>
</tr>
<tr class="row-even"><td><p>uint8[]</p></td>
<td><p>index</p></td>
<td><p>optional <a class="reference external" href="#data">data</a> array of per-primitive indices into <code class="docutils literal notranslate"><span class="pre">color</span></code> and <code class="docutils literal notranslate"><span class="pre">material</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>bool</p></td>
<td><p>invertNormals</p></td>
<td><p>inverts all shading normals (Ns), default false</p></td>
</tr>
<tr class="row-even"><td><p>OSPGeometry</p></td>
<td><p>geometry</p></td>
<td><p>optional [geometry] object this model references</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="lights">
<h2>Lights<a class="headerlink" href="#lights" title="Permalink to this heading">#</a></h2>
<p>To create a new light source of given type <code class="docutils literal notranslate"><span class="pre">type</span></code> use</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">OSPLight</span><span class="w"> </span><span class="nf">ospNewLight</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">type</span><span class="p">);</span>
</pre></div>
</div>
<p>All light sources accept the following parameters:</p>
<table class="table" id="id38">
<caption><span class="caption-text">Parameters accepted by all lights.</span><a class="headerlink" href="#id38" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>vec3f</p></td>
<td><p>color</p></td>
<td><p>white</p></td>
<td><p>color of the light (linear RGB)</p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>intensity</p></td>
<td><p>1</p></td>
<td><p>intensity of the light (a factor)</p></td>
</tr>
<tr class="row-even"><td><p>uchar</p></td>
<td><p>intensityQuantity</p></td>
<td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OSPIntensityQuantity</span></code> to set the radiometric quantity represented by <code class="docutils literal notranslate"><span class="pre">intensity</span></code>. The default value depends on the light source.</p></td>
</tr>
<tr class="row-odd"><td><p>bool</p></td>
<td><p>visible</p></td>
<td><p>true</p></td>
<td><p>whether the light can be directly seen</p></td>
</tr>
</tbody>
</table>
<p>In OSPRay the <code class="docutils literal notranslate"><span class="pre">intensity</span></code> parameter of a light source can correspond to different types of radiometric quantities. The type of the value represented by a light’s <code class="docutils literal notranslate"><span class="pre">intensity</span></code> parameter is set using <code class="docutils literal notranslate"><span class="pre">intensityQuantity</span></code>, which accepts values from the enum type <code class="docutils literal notranslate"><span class="pre">OSPIntensityQuantity</span></code>. The supported types of <code class="docutils literal notranslate"><span class="pre">OSPIntensityQuantity</span></code> differ between the different light sources (see documentation of each specific light source).</p>
<table class="table" id="id39">
<caption><span class="caption-text">Types of radiometric quantities used to interpret a light’s <code class="docutils literal notranslate"><span class="pre">intensity</span></code> parameter.</span><a class="headerlink" href="#id39" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>OSP_INTENSITY_QUANTITY_POWER</p></td>
<td><p>the overall amount of light energy emitted by the light source into the scene, unit is W</p></td>
</tr>
<tr class="row-odd"><td><p>OSP_INTENSITY_QUANTITY_INTENSITY</p></td>
<td><p>the overall amount of light emitted by the light in a given direction, unit is W/sr</p></td>
</tr>
<tr class="row-even"><td><p>OSP_INTENSITY_QUANTITY_RADIANCE</p></td>
<td><p>the amount of light emitted by a point on the light source in a given direction, unit is W/sr/m<sup>2</sup></p></td>
</tr>
<tr class="row-odd"><td><p>OSP_INTENSITY_QUANTITY_IRRADIANCE</p></td>
<td><p>the amount of light arriving at a surface point, assuming the light is oriented towards to the surface, unit is W/m<sup>2</sup></p></td>
</tr>
<tr class="row-even"><td><p>OSP_INTENSITY_QUANTITY_SCALE</p></td>
<td><p>a linear scaling factor for light sources with a built-in quantity (e.g., <code class="docutils literal notranslate"><span class="pre">HDRI</span></code>, or <code class="docutils literal notranslate"><span class="pre">sunSky</span></code>).</p></td>
</tr>
</tbody>
</table>
<p>The following light types are supported by most OSPRay renderers.</p>
<section id="directional-light-distant-light">
<h3>Directional Light / Distant Light<a class="headerlink" href="#directional-light-distant-light" title="Permalink to this heading">#</a></h3>
<p>The distant light (or traditionally the directional light) is thought to be far away (outside of the scene), thus its light arrives (almost) as parallel rays. It is created by passing the type string “<code class="docutils literal notranslate"><span class="pre">distant</span></code>” to <code class="docutils literal notranslate"><span class="pre">ospNewLight</span></code>. The distant light supports <code class="docutils literal notranslate"><span class="pre">OSP_INTENSITY_QUANTITY_RADIANCE</span></code> and <code class="docutils literal notranslate"><span class="pre">OSP_INTENSITY_QUANTITY_IRRADIANCE</span></code> (default) as <code class="docutils literal notranslate"><span class="pre">intensityQuantity</span></code> parameter value. In addition to the <a class="reference external" href="#lights">general parameters</a> understood by all lights the distant light supports the following special parameters:</p>
<table class="table" id="id40">
<caption><span class="caption-text">Special parameters accepted by the distant light.</span><a class="headerlink" href="#id40" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>vec3f</p></td>
<td><p>direction</p></td>
<td><p><span class="math notranslate nohighlight">\((0, 0, 1)\)</span></p></td>
<td><p>main emission direction of the distant light</p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>angularDiameter</p></td>
<td><p>0</p></td>
<td><p>apparent size (angle in degree) of the light</p></td>
</tr>
</tbody>
</table>
<p>Setting the angular diameter to a value greater than zero will result in soft shadows when the renderer uses stochastic sampling (like the <a class="reference external" href="#path-tracer">path tracer</a>). For instance, the apparent size of the sun is about 0.53°.</p>
</section>
<section id="point-light-sphere-light">
<h3>Point Light / Sphere Light<a class="headerlink" href="#point-light-sphere-light" title="Permalink to this heading">#</a></h3>
<p>The sphere light (or the special case point light) is a light emitting uniformly in all directions from the surface toward the outside. It does not emit any light toward the inside of the sphere. It is created by passing the type string “<code class="docutils literal notranslate"><span class="pre">sphere</span></code>” to <code class="docutils literal notranslate"><span class="pre">ospNewLight</span></code>. The point light supports <code class="docutils literal notranslate"><span class="pre">OSP_INTENSITY_QUANTITY_POWER</span></code>, <code class="docutils literal notranslate"><span class="pre">OSP_INTENSITY_QUANTITY_INTENSITY</span></code> (default) and <code class="docutils literal notranslate"><span class="pre">OSP_INTENSITY_QUANTITY_RADIANCE</span></code> as <code class="docutils literal notranslate"><span class="pre">intensityQuantity</span></code> parameter value. In addition to the <a class="reference external" href="#lights">general parameters</a> understood by all lights the sphere light supports the following special parameters:</p>
<table class="table" id="id41">
<caption><span class="caption-text">Special parameters accepted by the sphere light.</span><a class="headerlink" href="#id41" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>vec3f</p></td>
<td><p>position</p></td>
<td><p><span class="math notranslate nohighlight">\((0, 0, 0)\)</span></p></td>
<td><p>the center of the sphere light</p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>radius</p></td>
<td><p>0</p></td>
<td><p>the size of the sphere light</p></td>
</tr>
</tbody>
</table>
<p>Setting the radius to a value greater than zero will result in soft shadows when the renderer uses stochastic sampling (like the <a class="reference external" href="#path-tracer">path tracer</a>).</p>
</section>
<section id="spotlight-photometric-light">
<h3>Spotlight / Photometric Light<a class="headerlink" href="#spotlight-photometric-light" title="Permalink to this heading">#</a></h3>
<p>The spotlight is a light emitting into a cone of directions. It is created by passing the type string “<code class="docutils literal notranslate"><span class="pre">spot</span></code>” to <code class="docutils literal notranslate"><span class="pre">ospNewLight</span></code>. The spotlight supports <code class="docutils literal notranslate"><span class="pre">OSP_INTENSITY_QUANTITY_POWER</span></code>, <code class="docutils literal notranslate"><span class="pre">OSP_INTENSITY_QUANTITY_INTENSITY</span></code> (default) and <code class="docutils literal notranslate"><span class="pre">OSP_INTENSITY_QUANTITY_RADIANCE</span></code> as <code class="docutils literal notranslate"><span class="pre">intensityQuantity</span></code> parameter value. In addition to the <a class="reference external" href="#lights">general parameters</a> understood by all lights the spotlight supports the special parameters listed in the table.</p>
<table class="table" id="id42">
<caption><span class="caption-text">Special parameters accepted by the spotlight.</span><a class="headerlink" href="#id42" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>vec3f</p></td>
<td><p>position</p></td>
<td><p><span class="math notranslate nohighlight">\((0, 0, 0)\)</span></p></td>
<td><p>the center of the spotlight</p></td>
</tr>
<tr class="row-odd"><td><p>vec3f</p></td>
<td><p>direction</p></td>
<td><p><span class="math notranslate nohighlight">\((0, 0, 1)\)</span></p></td>
<td><p>main emission direction of the spot</p></td>
</tr>
<tr class="row-even"><td><p>float</p></td>
<td><p>openingAngle</p></td>
<td><p>180</p></td>
<td><p>full opening angle (in degree) of the spot; outside of this cone is no illumination</p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>penumbraAngle</p></td>
<td><p>5</p></td>
<td><p>size (angle in degree) of the “penumbra”, the region between the rim (of the illumination cone) and full intensity of the spot; should be smaller than half of <code class="docutils literal notranslate"><span class="pre">openingAngle</span></code></p></td>
</tr>
<tr class="row-even"><td><p>float</p></td>
<td><p>radius</p></td>
<td><p>0</p></td>
<td><p>the size of the spotlight, the radius of a disk with normal <code class="docutils literal notranslate"><span class="pre">direction</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>innerRadius</p></td>
<td><p>0</p></td>
<td><p>in combination with <code class="docutils literal notranslate"><span class="pre">radius</span></code> turns the disk into a ring</p></td>
</tr>
<tr class="row-even"><td><p>float[]</p></td>
<td><p>intensityDistribution</p></td>
<td></td>
<td><p>luminous intensity distribution for photometric lights; can be 2D for asymmetric illumination; values are assumed to be uniformly distributed</p></td>
</tr>
<tr class="row-odd"><td><p>vec3f</p></td>
<td><p>c0</p></td>
<td></td>
<td><p>orientation, i.e., direction of the C0-(half)plane (only needed if illumination via <code class="docutils literal notranslate"><span class="pre">intensityDistribution</span></code> is asymmetric)</p></td>
</tr>
</tbody>
</table>
<figure class="align-default" id="id43">
<img alt="Angles used by the spotlight." src="https://ospray.github.io/images/spot_light.png" />
<figcaption>
<p><span class="caption-text">Angles used by the spotlight.</span><a class="headerlink" href="#id43" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>Setting the radius to a value greater than zero will result in soft shadows when the renderer uses stochastic sampling (like the <a class="reference external" href="#path-tracer">path tracer</a>). Additionally setting the inner radius will result in a ring instead of a disk emitting the light.</p>
<p>Measured light sources (IES, EULUMDAT, …) are supported by providing an <code class="docutils literal notranslate"><span class="pre">intensityDistribution</span></code> <a class="reference external" href="#data">data</a> array to modulate the intensity per direction. The mapping is using the C-γ coordinate system (see also below figure): the values of the first (or only) dimension of <code class="docutils literal notranslate"><span class="pre">intensityDistribution</span></code> are uniformly mapped to γ in [0–π]; the first intensity value to 0, the last value to π, thus at least two values need to be present. If the array has a second dimension then the intensities are not rotational symmetric around <code class="docutils literal notranslate"><span class="pre">direction</span></code>, but are accordingly mapped to the C-halfplanes in [0–2π]; the first “row” of values to 0 and 2π, the other rows such that they have uniform distance to its neighbors. The orientation of the C0-plane is specified via <code class="docutils literal notranslate"><span class="pre">c0</span></code>. A combination of using an <code class="docutils literal notranslate"><span class="pre">intensityDistribution</span></code> and <code class="docutils literal notranslate"><span class="pre">OSP_INTENSITY_QUANTITY_POWER</span></code> as <code class="docutils literal notranslate"><span class="pre">intensityQuantity</span></code> is not supported at the moment.</p>
<figure class="align-default" id="id44">
<img alt="C-γ coordinate system for the mapping of ``intensityDistribution`` to the spotlight." src="https://ospray.github.io/images/spot_coords.png" />
<figcaption>
<p><span class="caption-text">C-γ coordinate system for the mapping of <code class="docutils literal notranslate"><span class="pre">intensityDistribution</span></code> to the spotlight.</span><a class="headerlink" href="#id44" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="quad-light">
<h3>Quad Light<a class="headerlink" href="#quad-light" title="Permalink to this heading">#</a></h3>
<p>The quad <a class="footnote-reference brackets" href="#id10" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a> light is a planar, procedural area light source emitting uniformly on one side into the half-space. It is created by passing the type string “<code class="docutils literal notranslate"><span class="pre">quad</span></code>” to <code class="docutils literal notranslate"><span class="pre">ospNewLight</span></code>. The quad light supports <code class="docutils literal notranslate"><span class="pre">OSP_INTENSITY_QUANTITY_POWER</span></code>, <code class="docutils literal notranslate"><span class="pre">OSP_INTENSITY_QUANTITY_INTENSITY</span></code> and <code class="docutils literal notranslate"><span class="pre">OSP_INTENSITY_QUANTITY_RADIANCE</span></code> (default) as <code class="docutils literal notranslate"><span class="pre">intensityQuantity</span></code> parameter. In addition to the <a class="reference external" href="#lights">general parameters</a> understood by all lights the quad light supports the following special parameters:</p>
<table class="table" id="id45">
<caption><span class="caption-text">Special parameters accepted by the quad light.</span><a class="headerlink" href="#id45" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>vec3f</p></td>
<td><p>position</p></td>
<td><p><span class="math notranslate nohighlight">\((0, 0, 0)\)</span></p></td>
<td><p>position of one vertex of the quad light</p></td>
</tr>
<tr class="row-odd"><td><p>vec3f</p></td>
<td><p>edge1</p></td>
<td><p><span class="math notranslate nohighlight">\((1, 0, 0)\)</span></p></td>
<td><p>vector to one adjacent vertex</p></td>
</tr>
<tr class="row-even"><td><p>vec3f</p></td>
<td><p>edge2</p></td>
<td><p><span class="math notranslate nohighlight">\((0, 1, 0)\)</span></p></td>
<td><p>vector to the other adjacent vertex</p></td>
</tr>
</tbody>
</table>
<figure class="align-default" id="id46">
<img alt="Defining a quad light which emits toward the reader." src="https://ospray.github.io/images/quad_light.png" />
<figcaption>
<p><span class="caption-text">Defining a quad light which emits toward the reader.</span><a class="headerlink" href="#id46" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>The emission side is determined by the cross product of <code class="docutils literal notranslate"><span class="pre">edge1</span></code>×<code class="docutils literal notranslate"><span class="pre">edge2</span></code>. Note that only renderers that use stochastic sampling (like the path tracer) will compute soft shadows from the quad light. Other renderers will just sample the center of the quad light, which results in hard shadows.</p>
</section>
<section id="cylinder-light">
<h3>Cylinder Light<a class="headerlink" href="#cylinder-light" title="Permalink to this heading">#</a></h3>
<p>The cylinder light is a cylindrical, procedural area light source emitting uniformly outwardly into the space beyond the boundary. It is created by passing the type string “<code class="docutils literal notranslate"><span class="pre">cylinder</span></code>” to <code class="docutils literal notranslate"><span class="pre">ospNewLight</span></code>. The cylinder light supports <code class="docutils literal notranslate"><span class="pre">OSP_INTENSITY_QUANTITY_POWER</span></code>, <code class="docutils literal notranslate"><span class="pre">OSP_INTENSITY_QUANTITY_INTENSITY</span></code> and <code class="docutils literal notranslate"><span class="pre">OSP_INTENSITY_QUANTITY_RADIANCE</span></code> (default) as <code class="docutils literal notranslate"><span class="pre">intensityQuantity</span></code> parameter. In addition to the <a class="reference external" href="#lights">general parameters</a> understood by all lights the cylinder light supports the following special parameters:</p>
<table class="table" id="id47">
<caption><span class="caption-text">Special parameters accepted by the cylinder light.</span><a class="headerlink" href="#id47" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>vec3f</p></td>
<td><p>position0</p></td>
<td><p><span class="math notranslate nohighlight">\((0, 0, 0)\)</span></p></td>
<td><p>position of the start of the cylinder</p></td>
</tr>
<tr class="row-odd"><td><p>vec3f</p></td>
<td><p>position1</p></td>
<td><p><span class="math notranslate nohighlight">\((0, 0, 1)\)</span></p></td>
<td><p>position of the end of the cylinder</p></td>
</tr>
<tr class="row-even"><td><p>float</p></td>
<td><p>radius</p></td>
<td><p>1</p></td>
<td><p>radius of the cylinder</p></td>
</tr>
</tbody>
</table>
<p>Note that only renderers that use stochastic sampling (like the path tracer) will compute soft shadows from the cylinder light. Other renderers will just sample the closest point on the cylinder light, which results in hard shadows.</p>
</section>
<section id="hdri-light">
<h3>HDRI Light<a class="headerlink" href="#hdri-light" title="Permalink to this heading">#</a></h3>
<p>The HDRI light is a textured light source surrounding the scene and illuminating it from infinity. It is created by passing the type string “<code class="docutils literal notranslate"><span class="pre">hdri</span></code>” to <code class="docutils literal notranslate"><span class="pre">ospNewLight</span></code>. The values of the HDRI correspond to radiance and therefore the HDRI light only accepts <code class="docutils literal notranslate"><span class="pre">OSP_INTENSITY_QUANTITY_SCALE</span></code> as <code class="docutils literal notranslate"><span class="pre">intensityQuantity</span></code> parameter value. In addition to the <a class="reference external" href="#lights">general parameters</a> the HDRI light supports the following special parameters:</p>
<table class="table" id="id48">
<caption><span class="caption-text">Special parameters accepted by the HDRI light.</span><a class="headerlink" href="#id48" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>vec3f</p></td>
<td><p>up</p></td>
<td><p><span class="math notranslate nohighlight">\((0, 1, 0)\)</span></p></td>
<td><p>up direction of the light</p></td>
</tr>
<tr class="row-odd"><td><p>vec3f</p></td>
<td><p>direction</p></td>
<td><p><span class="math notranslate nohighlight">\((0, 0, 1)\)</span></p></td>
<td><p>direction to which the center of the texture will be mapped to (analog to <a class="reference external" href="#panoramic-camera">panoramic camera</a>)</p></td>
</tr>
<tr class="row-even"><td><p>OSPTexture</p></td>
<td><p>map</p></td>
<td></td>
<td><p>environment map in latitude / longitude format</p></td>
</tr>
</tbody>
</table>
<figure class="align-default" id="id49">
<img alt="Orientation and Mapping of an HDRI Light." src="https://ospray.github.io/images/hdri_light.png" />
<figcaption>
<p><span class="caption-text">Orientation and Mapping of an HDRI Light.</span><a class="headerlink" href="#id49" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>Note that the <a class="reference external" href="#scivis-renderer">SciVis renderer</a> only shows the HDRI light in the background (like an environment map) without computing illumination of the scene.</p>
</section>
<section id="ambient-light">
<h3>Ambient Light<a class="headerlink" href="#ambient-light" title="Permalink to this heading">#</a></h3>
<p>The ambient light surrounds the scene and illuminates it from infinity with constant radiance (determined by combining the <cite>parameters ``color`</cite> and <code class="docutils literal notranslate"><span class="pre">intensity</span></code> &lt;#lights&gt;`__). It is created by passing the type string “<code class="docutils literal notranslate"><span class="pre">ambient</span></code>” to <code class="docutils literal notranslate"><span class="pre">ospNewLight</span></code>. The ambient light supports <code class="docutils literal notranslate"><span class="pre">OSP_INTENSITY_QUANTITY_RADIANCE</span></code> and <code class="docutils literal notranslate"><span class="pre">OSP_INTENSITY_QUANTITY_IRRADIANCE</span></code> (default) as <code class="docutils literal notranslate"><span class="pre">intensityQuantity</span></code> parameter value.</p>
<p>Note that the <a class="reference external" href="#scivis-renderer">SciVis renderer</a> uses ambient lights to control the color and intensity of the computed ambient occlusion (AO).</p>
</section>
<section id="sun-sky-light">
<h3>Sun-Sky Light<a class="headerlink" href="#sun-sky-light" title="Permalink to this heading">#</a></h3>
<p>The sun-sky light is a combination of a <code class="docutils literal notranslate"><span class="pre">distant</span></code> light for the sun and a procedural <code class="docutils literal notranslate"><span class="pre">hdri</span></code> light for the sky. It is created by passing the type string “<code class="docutils literal notranslate"><span class="pre">sunSky</span></code>” to <code class="docutils literal notranslate"><span class="pre">ospNewLight</span></code>. The sun-sky light surrounds the scene and illuminates it from infinity and can be used for rendering outdoor scenes. The radiance values are calculated using the Hošek-Wilkie sky model and solar radiance function. The underlying model of the sun-sky light returns radiance values and therefore the light only accepts <code class="docutils literal notranslate"><span class="pre">OSP_INTENSITY_QUANTITY_SCALE</span></code> as <code class="docutils literal notranslate"><span class="pre">intensityQuantity</span></code> parameter value. To rescale the returned radiance of the sky model the default value for the <code class="docutils literal notranslate"><span class="pre">intensity</span></code> parameter is set to <code class="docutils literal notranslate"><span class="pre">0.025</span></code>. In addition to the <a class="reference external" href="#lights">general parameters</a> the following special parameters are supported:</p>
<table class="table" id="id50">
<caption><span class="caption-text">Special parameters accepted by the <code class="docutils literal notranslate"><span class="pre">sunSky</span></code> light.</span><a class="headerlink" href="#id50" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>vec3f</p></td>
<td><p>up</p></td>
<td><p><span class="math notranslate nohighlight">\((0, 1, 0)\)</span></p></td>
<td><p>zenith of sky</p></td>
</tr>
<tr class="row-odd"><td><p>vec3f</p></td>
<td><p>direction</p></td>
<td><p><span class="math notranslate nohighlight">\((0, -1, 0)\)</span></p></td>
<td><p>main emission direction of the sun</p></td>
</tr>
<tr class="row-even"><td><p>float</p></td>
<td><p>turbidity</p></td>
<td><p>3</p></td>
<td><p>atmospheric turbidity due to particles, in [1–10]</p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>albedo</p></td>
<td><p>0.3</p></td>
<td><p>ground reflectance, in [0–1]</p></td>
</tr>
<tr class="row-even"><td><p>float</p></td>
<td><p>horizonExtension</p></td>
<td><p>0.01</p></td>
<td><p>extend the sky dome by stretching the horizon, fraction of the lower hemisphere to cover, in [0–1]</p></td>
</tr>
</tbody>
</table>
<p>The lowest elevation for the sun is restricted to the horizon.</p>
<p>Note that the <a class="reference external" href="#scivis-renderer">SciVis renderer</a> only computes illumination from the sun (yet the sky is still shown in the background, like an environment map).</p>
</section>
<section id="emissive-objects">
<h3>Emissive Objects<a class="headerlink" href="#emissive-objects" title="Permalink to this heading">#</a></h3>
<p>The <a class="reference external" href="#path-tracer">path tracer</a> will consider illumination by <a class="reference external" href="#geometries">geometries</a> which have a light emitting material assigned (for example the <a class="reference external" href="#luminous">Luminous</a> material).</p>
</section>
</section>
<section id="scene-hierarchy">
<h2>Scene Hierarchy<a class="headerlink" href="#scene-hierarchy" title="Permalink to this heading">#</a></h2>
<section id="groups">
<h3>Groups<a class="headerlink" href="#groups" title="Permalink to this heading">#</a></h3>
<p>Groups in OSPRay represent collections of GeometricModels, VolumetricModels and Lights which share a common local-space coordinate system. To create a group call</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">OSPGroup</span><span class="w"> </span><span class="nf">ospNewGroup</span><span class="p">();</span>
</pre></div>
</div>
<p>Groups take arrays of geometric models, volumetric models, clipping geometric models and lights, but they are all optional. In other words, there is no need to create empty arrays if there are no geometries, volumes or lights in the group.</p>
<p>By adding <code class="docutils literal notranslate"><span class="pre">OSPGeometricModel</span></code>s to the <code class="docutils literal notranslate"><span class="pre">clippingGeometry</span></code> array a clipping geometry feature is enabled. Geometries assigned to this parameter will be used as clipping geometries. Any supported geometry can be used for clipping <a class="footnote-reference brackets" href="#id11" id="id4" role="doc-noteref"><span class="fn-bracket">[</span>4<span class="fn-bracket">]</span></a>, the only requirement is that it has to distinctly partition space into clipping and non-clipping one. The use of clipping geometry that is not closed or infinite could result in rendering artifacts. User can decide which part of space is clipped by changing shading normals orientation with the <code class="docutils literal notranslate"><span class="pre">invertNormals</span></code> flag of the <a class="reference external" href="#geometricmodels">GeometricModel</a>. All geometries and volumes assigned to <code class="docutils literal notranslate"><span class="pre">geometry</span></code> or <code class="docutils literal notranslate"><span class="pre">volume</span></code> will be clipped. All clipping geometries from all groups and <a class="reference external" href="#instances">Instances</a> will be combined together – a union of these areas will be applied to all other objects in the <a class="reference external" href="#world">world</a>.</p>
<table class="table" id="id51">
<caption><span class="caption-text">Parameters understood by groups.</span><a class="headerlink" href="#id51" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>OSPGeometricModel[]</p></td>
<td><p>geometry</p></td>
<td><p>NULL</p></td>
<td><p><a class="reference external" href="#data">data</a> array of <a class="reference external" href="#geometricmodels">GeometricModels</a></p></td>
</tr>
<tr class="row-odd"><td><p>OSPVolumetricModel[]</p></td>
<td><p>volume</p></td>
<td><p>NULL</p></td>
<td><p><a class="reference external" href="#data">data</a> array of <a class="reference external" href="#volumetricmodels">VolumetricModels</a></p></td>
</tr>
<tr class="row-even"><td><p>OSPGeometricModel[]</p></td>
<td><p>clippingGeometry</p></td>
<td><p>NULL</p></td>
<td><p><a class="reference external" href="#data">data</a> array of <a class="reference external" href="#geometricmodels">GeometricModels</a> used for clipping</p></td>
</tr>
<tr class="row-odd"><td><p>OSPLight[]</p></td>
<td><p>light</p></td>
<td><p>NULL</p></td>
<td><p><a class="reference external" href="#data">data</a> array of <a class="reference external" href="#lights">lights</a></p></td>
</tr>
<tr class="row-even"><td><p>bool</p></td>
<td><p>dynamicScene</p></td>
<td><p>false</p></td>
<td><p>use RTC_SCENE_DYNAMIC flag (faster BVH build, slower ray traversal), otherwise uses RTC_SCENE_STATIC flag (faster ray traversal, slightly slower BVH build)</p></td>
</tr>
<tr class="row-odd"><td><p>bool</p></td>
<td><p>compactMode</p></td>
<td><p>false</p></td>
<td><p>tell Embree to use a more compact BVH in memory by trading ray traversal performance</p></td>
</tr>
<tr class="row-even"><td><p>bool</p></td>
<td><p>robustMode</p></td>
<td><p>false</p></td>
<td><p>tell Embree to enable more robust ray intersection code paths (slightly slower)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="instances">
<h3>Instances<a class="headerlink" href="#instances" title="Permalink to this heading">#</a></h3>
<p>Instances in OSPRay represent a single group’s placement into the world via a transform. To create and instance call</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">OSPInstance</span><span class="w"> </span><span class="nf">ospNewInstance</span><span class="p">(</span><span class="n">OSPGroup</span><span class="p">);</span>
</pre></div>
</div>
<table class="table" id="id52">
<caption><span class="caption-text">Parameters understood by instances.</span><a class="headerlink" href="#id52" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>affine3f</p></td>
<td><p>transform</p></td>
<td><p>identity</p></td>
<td><p>world-space transform for all attached geometries and volumes, overridden by <code class="docutils literal notranslate"><span class="pre">motion.*</span></code> arrays</p></td>
</tr>
<tr class="row-odd"><td><p>affine3f[]</p></td>
<td><p>motion.transform</p></td>
<td></td>
<td><p>uniformly distributed world-space transforms</p></td>
</tr>
<tr class="row-even"><td><p>vec3f[]</p></td>
<td><p>motion.scale</p></td>
<td></td>
<td><p>uniformly distributed world-space scale, overridden by <code class="docutils literal notranslate"><span class="pre">motion.transform</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>vec3f[]</p></td>
<td><p>motion.pivot</p></td>
<td></td>
<td><p>uniformly distributed world-space translation which is applied before <code class="docutils literal notranslate"><span class="pre">motion.rotation</span></code> (i.e., the rotation center), overridden by <code class="docutils literal notranslate"><span class="pre">motion.transform</span></code></p></td>
</tr>
<tr class="row-even"><td><p>quatf[]</p></td>
<td><p>motion.rotation</p></td>
<td></td>
<td><p>uniformly distributed world-space quaternion rotation, overridden by <code class="docutils literal notranslate"><span class="pre">motion.transform</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>vec3f[]</p></td>
<td><p>motion.translation</p></td>
<td></td>
<td><p>uniformly distributed world-space translation, overridden by <code class="docutils literal notranslate"><span class="pre">motion.transform</span></code></p></td>
</tr>
<tr class="row-even"><td><p>box1f</p></td>
<td><p>time</p></td>
<td><p>[0, 1]</p></td>
<td><p>time associated with first and last key in <code class="docutils literal notranslate"><span class="pre">motion.*</span></code> arrays (for motion blur)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="world">
<h3>World<a class="headerlink" href="#world" title="Permalink to this heading">#</a></h3>
<p>Worlds are a container of scene data represented by <a class="reference external" href="#instances">instances</a>. To create an (empty) world call</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">OSPWorld</span><span class="w"> </span><span class="nf">ospNewWorld</span><span class="p">();</span>
</pre></div>
</div>
<p>Objects are placed in the world through an array of instances. Similar to <a class="reference external" href="#groups">groups</a>, the array of instances is optional: there is no need to create empty arrays if there are no instances (though there will be nothing to render).</p>
<p>Applications can query the world (axis-aligned) bounding box after the world has been committed. To get this information, call</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">OSPBounds</span><span class="w"> </span><span class="nf">ospGetBounds</span><span class="p">(</span><span class="n">OSPObject</span><span class="p">);</span>
</pre></div>
</div>
<p>The result is returned in the provided <code class="docutils literal notranslate"><span class="pre">OSPBounds</span></code> <a class="footnote-reference brackets" href="#id12" id="id5" role="doc-noteref"><span class="fn-bracket">[</span>5<span class="fn-bracket">]</span></a> struct:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">lower</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">upper</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="p">}</span><span class="w"> </span><span class="n">OSPBounds</span><span class="p">;</span>
</pre></div>
</div>
<p>This call can also take <code class="docutils literal notranslate"><span class="pre">OSPGroup</span></code> and <code class="docutils literal notranslate"><span class="pre">OSPInstance</span></code> as well: all other object types will return an empty bounding box.</p>
<p>Finally, Worlds can be configured with parameters for making various feature/performance trade-offs (similar to groups).</p>
<table class="table" id="id53">
<caption><span class="caption-text">Parameters understood by worlds.</span><a class="headerlink" href="#id53" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>OSPInstance[]</p></td>
<td><p>instance</p></td>
<td><p>NULL</p></td>
<td><p><a class="reference external" href="#data">data</a> array with handles of the <a class="reference external" href="#instances">instances</a></p></td>
</tr>
<tr class="row-odd"><td><p>OSPLight[]</p></td>
<td><p>light</p></td>
<td><p>NULL</p></td>
<td><p><a class="reference external" href="#data">data</a> array with handles of the <a class="reference external" href="#lights">lights</a></p></td>
</tr>
<tr class="row-even"><td><p>bool</p></td>
<td><p>dynamicScene</p></td>
<td><p>false</p></td>
<td><p>use RTC_SCENE_DYNAMIC flag (faster BVH build, slower ray traversal), otherwise uses RTC_SCENE_STATIC flag (faster ray traversal, slightly slower BVH build)</p></td>
</tr>
<tr class="row-odd"><td><p>bool</p></td>
<td><p>compactMode</p></td>
<td><p>false</p></td>
<td><p>tell Embree to use a more compact BVH in memory by trading ray traversal performance</p></td>
</tr>
<tr class="row-even"><td><p>bool</p></td>
<td><p>robustMode</p></td>
<td><p>false</p></td>
<td><p>tell Embree to enable more robust ray intersection code paths (slightly slower)</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="renderers">
<h2>Renderers<a class="headerlink" href="#renderers" title="Permalink to this heading">#</a></h2>
<p>A renderer is the central object for rendering in OSPRay. Different renderers implement different features and support different materials. To create a new renderer of given type <code class="docutils literal notranslate"><span class="pre">type</span></code> use</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">OSPRenderer</span><span class="w"> </span><span class="nf">ospNewRenderer</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">type</span><span class="p">);</span>
</pre></div>
</div>
<p>General parameters of all renderers are</p>
<table class="table" id="id54">
<caption><span class="caption-text">Parameters understood by all renderers.</span><a class="headerlink" href="#id54" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>int</p></td>
<td><p>pixelSamples</p></td>
<td><p>1</p></td>
<td><p>samples per pixel</p></td>
</tr>
<tr class="row-odd"><td><p>int</p></td>
<td><p>maxPathLength</p></td>
<td><p>20</p></td>
<td><p>maximum ray recursion depth</p></td>
</tr>
<tr class="row-even"><td><p>float</p></td>
<td><p>minContribution</p></td>
<td><p>0.001</p></td>
<td><p>sample contributions below this value will be neglected to speedup rendering</p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>varianceThreshold</p></td>
<td><p>0</p></td>
<td><p>threshold for adaptive accumulation</p></td>
</tr>
<tr class="row-even"><td><p>float / vec3f / vec4f</p></td>
<td><p>backgroundColor</p></td>
<td><p>black, transparent</p></td>
<td><p>background color and alpha (linear A/RGB/RGBA), if no <code class="docutils literal notranslate"><span class="pre">map_backplate</span></code> is set</p></td>
</tr>
<tr class="row-odd"><td><p>OSPTexture</p></td>
<td><p>map_backplate</p></td>
<td></td>
<td><p>optional <a class="reference external" href="#texture">texture</a> image used as background (use texture type <code class="docutils literal notranslate"><span class="pre">texture2d</span></code>)</p></td>
</tr>
<tr class="row-even"><td><p>OSPTexture</p></td>
<td><p>map_maxDepth</p></td>
<td></td>
<td><p>optional screen-sized float <a class="reference external" href="#texture">texture</a> with maximum far distance per pixel (use texture type <code class="docutils literal notranslate"><span class="pre">texture2d</span></code>)</p></td>
</tr>
<tr class="row-odd"><td><p>OSPMaterial[]</p></td>
<td><p>material</p></td>
<td></td>
<td><p>optional <a class="reference external" href="#data">data</a> array of <a class="reference external" href="#materials">materials</a> which can be indexed by a <a class="reference external" href="#geometricmodels">GeometricModel</a>’s <code class="docutils literal notranslate"><span class="pre">material</span></code> parameter</p></td>
</tr>
<tr class="row-even"><td><p>uchar</p></td>
<td><p>pixelFilter</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OSP_PIXELFILTER_GAUSS</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OSPPixelFilterType</span></code> to select the pixel filter used by the renderer for antialiasing. Possible pixel filters are listed below.</p></td>
</tr>
</tbody>
</table>
<p>OSPRay’s renderers support a feature called adaptive accumulation, which accelerates progressive <a class="reference external" href="#rendering">rendering</a> by stopping the rendering and refinement of image regions that have an estimated variance below the <code class="docutils literal notranslate"><span class="pre">varianceThreshold</span></code>. This feature requires a <a class="reference external" href="#framebuffer">framebuffer</a> with an <code class="docutils literal notranslate"><span class="pre">OSP_FB_VARIANCE</span></code> channel.</p>
<p>Per default the background of the rendered image will be transparent black, i.e., the alpha channel holds the opacity of the rendered objects. This eases transparency-aware blending of the image with an arbitrary background image by the application. The parameter <code class="docutils literal notranslate"><span class="pre">backgroundColor</span></code> or <code class="docutils literal notranslate"><span class="pre">map_backplate</span></code> can be used to already blend with a constant background color or backplate texture, respectively, (and alpha) during rendering.</p>
<p>OSPRay renderers support depth composition with images of other renderers, for example to incorporate help geometries of a 3D UI that were rendered with OpenGL. The screen-sized <a class="reference external" href="#texture">texture</a> <code class="docutils literal notranslate"><span class="pre">map_maxDepth</span></code> must have format <code class="docutils literal notranslate"><span class="pre">OSP_TEXTURE_R32F</span></code> and flag <code class="docutils literal notranslate"><span class="pre">OSP_TEXTURE_FILTER_NEAREST</span></code>. The fetched values are used to limit the distance of primary rays, thus objects of other renderers can hide objects rendered by OSPRay.</p>
<p>OSPRay supports antialiasing in image space by using pixel filters, which are centered around the center of a pixel. The size <span class="math notranslate nohighlight">\(w×w\)</span> of the filter depends on the selected filter type. The types of supported pixel filters are defined by the <code class="docutils literal notranslate"><span class="pre">OSPPixelFilterType</span></code> enum and can be set using the <code class="docutils literal notranslate"><span class="pre">pixelFilter</span></code> parameter.</p>
<table class="table" id="id55">
<caption><span class="caption-text">Pixel filter types supported by OSPRay for antialiasing in image space.</span><a class="headerlink" href="#id55" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>OSP_PIXELFILTER_POINT</p></td>
<td><p>a point filter only samples the center of the pixel, therefore the filter width is <span class="math notranslate nohighlight">\(w = 0\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>OSP_PIXELFILTER_BOX</p></td>
<td><p>a uniform box filter with a width of <span class="math notranslate nohighlight">\(w = 1\)</span></p></td>
</tr>
<tr class="row-even"><td><p>OSP_PIXELFILTER_GAUSS</p></td>
<td><p>a truncated, smooth Gaussian filter with a standard deviation of <span class="math notranslate nohighlight">\(\sigma = 0.5\)</span> and a filter width of <span class="math notranslate nohighlight">\(w = 3\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>OSP_PIXELFILTER_MITCHELL</p></td>
<td><p>the Mitchell-Netravali filter with a width of <span class="math notranslate nohighlight">\(w = 4\)</span></p></td>
</tr>
<tr class="row-even"><td><p>OSP_PIXELFILTER_BLACKMAN_HARRIS</p></td>
<td><p>the Blackman-Harris filter with a width of <span class="math notranslate nohighlight">\(w = 3\)</span></p></td>
</tr>
</tbody>
</table>
<section id="scivis-renderer">
<h3>SciVis Renderer<a class="headerlink" href="#scivis-renderer" title="Permalink to this heading">#</a></h3>
<p>The SciVis renderer is a fast ray tracer for scientific visualization which supports volume rendering and ambient occlusion (AO). It is created by passing the type string “<code class="docutils literal notranslate"><span class="pre">scivis</span></code>” to <code class="docutils literal notranslate"><span class="pre">ospNewRenderer</span></code>. In addition to the <a class="reference external" href="#renderer">general parameters</a> understood by all renderers, the SciVis renderer supports the following parameters:</p>
<table class="table" id="id56">
<caption><span class="caption-text">Special parameters understood by the SciVis renderer.</span><a class="headerlink" href="#id56" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>bool</p></td>
<td><p>shadows</p></td>
<td><p>false</p></td>
<td><p>whether to compute (hard) shadows</p></td>
</tr>
<tr class="row-odd"><td><p>int</p></td>
<td><p>aoSamples</p></td>
<td><p>0</p></td>
<td><p>number of rays per sample to compute ambient occlusion</p></td>
</tr>
<tr class="row-even"><td><p>float</p></td>
<td><p>aoDistance</p></td>
<td><p>10<sup>20</sup></p></td>
<td><p>maximum distance to consider for ambient occlusion</p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>volumeSamplingRate</p></td>
<td><p>1</p></td>
<td><p>sampling rate for volumes</p></td>
</tr>
<tr class="row-even"><td><p>bool</p></td>
<td><p>visibleLights</p></td>
<td><p>false</p></td>
<td><p>whether light sources are potentially visible (as in the <a class="reference external" href="#path-tracer">path tracer</a>, regarding each light’s <code class="docutils literal notranslate"><span class="pre">visible</span></code>)</p></td>
</tr>
</tbody>
</table>
<p>Note that the intensity (and color) of AO is deduced from an <a class="reference external" href="#ambient-light">ambient light</a> in the <code class="docutils literal notranslate"><span class="pre">lights</span></code> array. <a class="footnote-reference brackets" href="#id13" id="id6" role="doc-noteref"><span class="fn-bracket">[</span>6<span class="fn-bracket">]</span></a> If <code class="docutils literal notranslate"><span class="pre">aoSamples</span></code> is zero (the default) then ambient lights cause ambient illumination (without occlusion).</p>
</section>
<section id="ambient-occlusion-renderer">
<h3>Ambient Occlusion Renderer<a class="headerlink" href="#ambient-occlusion-renderer" title="Permalink to this heading">#</a></h3>
<p>This renderer supports only a subset of the features of the <a class="reference external" href="#scivis-renderer">SciVis renderer</a> to gain performance. As the name suggest its main shading method is ambient occlusion (AO), <a class="reference external" href="#lights">lights</a> are <em>not</em> considered at all and , Volume rendering is supported. The Ambient Occlusion renderer is created by passing the type string “<code class="docutils literal notranslate"><span class="pre">ao</span></code>” to <code class="docutils literal notranslate"><span class="pre">ospNewRenderer</span></code>. In addition to the <a class="reference external" href="#renderer">general parameters</a> understood by all renderers the following parameters are supported as well:</p>
<table class="table" id="id57">
<caption><span class="caption-text">Special parameters understood by the Ambient Occlusion renderer.</span><a class="headerlink" href="#id57" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>int</p></td>
<td><p>aoSamples</p></td>
<td><p>1</p></td>
<td><p>number of rays per sample to compute ambient occlusion</p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>aoDistance</p></td>
<td><p>10<sup>20</sup></p></td>
<td><p>maximum distance to consider for ambient occlusion</p></td>
</tr>
<tr class="row-even"><td><p>float</p></td>
<td><p>aoIntensity</p></td>
<td><p>1</p></td>
<td><p>ambient occlusion strength</p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>volumeSamplingRate</p></td>
<td><p>1</p></td>
<td><p>sampling rate for volumes</p></td>
</tr>
</tbody>
</table>
</section>
<section id="path-tracer">
<h3>Path Tracer<a class="headerlink" href="#path-tracer" title="Permalink to this heading">#</a></h3>
<p>The path tracer supports soft shadows, indirect illumination and realistic materials. This renderer is created by passing the type string “<code class="docutils literal notranslate"><span class="pre">pathtracer</span></code>” to <code class="docutils literal notranslate"><span class="pre">ospNewRenderer</span></code>. In addition to the <a class="reference external" href="#renderer">general parameters</a> understood by all renderers the path tracer supports the following special parameters:</p>
<table class="table" id="id58">
<caption><span class="caption-text">Special parameters understood by the path tracer.</span><a class="headerlink" href="#id58" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>int</p></td>
<td><p>lightSamples</p></td>
<td><p>all</p></td>
<td><p>number of random light samples per path vertex, per default all light sources are sampled</p></td>
</tr>
<tr class="row-odd"><td><p>int</p></td>
<td><p>roulettePathLength</p></td>
<td><p>5</p></td>
<td><p>ray recursion depth at which to start Russian roulette termination</p></td>
</tr>
<tr class="row-even"><td><p>float</p></td>
<td><p>maxContribution</p></td>
<td><p>∞</p></td>
<td><p>samples are clamped to this value before they are accumulated into the framebuffer</p></td>
</tr>
<tr class="row-odd"><td><p>bool</p></td>
<td><p>backgroundRefraction</p></td>
<td><p>false</p></td>
<td><p>allow for alpha blending even if background is seen through refractive objects like glass</p></td>
</tr>
</tbody>
</table>
<p>The path tracer requires that <a class="reference external" href="#materials">materials</a> are assigned to <a class="reference external" href="#geometries">geometries</a>, otherwise surfaces are treated as completely black.</p>
<p>The path tracer supports <a class="reference external" href="#volumes">volumes</a> with multiple scattering. The scattering albedo can be specified using the <a class="reference external" href="#transfer-function">transfer function</a>. Extinction is assumed to be spectrally constant.</p>
</section>
<section id="materials">
<h3>Materials<a class="headerlink" href="#materials" title="Permalink to this heading">#</a></h3>
<p>Materials describe how light interacts with surfaces, they give objects their distinctive look. To let the given renderer create a new material of given type <code class="docutils literal notranslate"><span class="pre">type</span></code> call</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">OSPMaterial</span><span class="w"> </span><span class="nf">ospNewMaterial</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">material_type</span><span class="p">);</span>
</pre></div>
</div>
<p>Please note that the first argument is ignored.</p>
<p>The returned handle can then be used to assign the material to a given geometry with</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">ospSetObject</span><span class="p">(</span><span class="n">OSPGeometricModel</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;material&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">OSPMaterial</span><span class="p">);</span>
</pre></div>
</div>
<section id="obj-material">
<h4>OBJ Material<a class="headerlink" href="#obj-material" title="Permalink to this heading">#</a></h4>
<p>The OBJ material is the workhorse material supported by both the <a class="reference external" href="#scivis-renderer">SciVis renderer</a> and the <a class="reference external" href="#path-tracer">path tracer</a> (the <a class="reference external" href="#ambient-occlusion-renderer">Ambient Occlusion renderer</a> only uses the <code class="docutils literal notranslate"><span class="pre">kd</span></code> and <code class="docutils literal notranslate"><span class="pre">d</span></code> parameter). It offers widely used common properties like diffuse and specular reflection and is based on the <a class="reference external" href="http://paulbourke.net/dataformats/mtl/">MTL material format</a> of Lightwave’s OBJ scene files. To create an OBJ material pass the type string “<code class="docutils literal notranslate"><span class="pre">obj</span></code>” to <code class="docutils literal notranslate"><span class="pre">ospNewMaterial</span></code>. Its main parameters are</p>
<table class="table" id="id59">
<caption><span class="caption-text">Main parameters of the OBJ material.</span><a class="headerlink" href="#id59" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>vec3f</p></td>
<td><p>kd</p></td>
<td><p>white 0.8</p></td>
<td><p>diffuse color (linear RGB)</p></td>
</tr>
<tr class="row-odd"><td><p>vec3f</p></td>
<td><p>ks</p></td>
<td><p>black</p></td>
<td><p>specular color (linear RGB)</p></td>
</tr>
<tr class="row-even"><td><p>float</p></td>
<td><p>ns</p></td>
<td><p>10</p></td>
<td><p>shininess (Phong exponent), usually in [2–10<sup>4</sup>]</p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>d</p></td>
<td><p>opaque</p></td>
<td><p>opacity</p></td>
</tr>
<tr class="row-even"><td><p>vec3f</p></td>
<td><p>tf</p></td>
<td><p>black</p></td>
<td><p>transparency filter color (linear RGB)</p></td>
</tr>
<tr class="row-odd"><td><p>OSPTexture</p></td>
<td><p>map_bump</p></td>
<td><p>NULL</p></td>
<td><p>normal map</p></td>
</tr>
</tbody>
</table>
<p>In particular when using the path tracer it is important to adhere to the principle of energy conservation, i.e., that the amount of light reflected by a surface is not larger than the light arriving. Therefore the path tracer issues a warning and renormalizes the color parameters if the sum of <code class="docutils literal notranslate"><span class="pre">Kd</span></code>, <code class="docutils literal notranslate"><span class="pre">Ks</span></code>, and <code class="docutils literal notranslate"><span class="pre">Tf</span></code> is larger than one in any color channel. Similarly important to mention is that almost all materials of the real world reflect at most only about 80% of the incoming light. So even for a white sheet of paper or white wall paint do better not set <code class="docutils literal notranslate"><span class="pre">Kd</span></code> larger than 0.8; otherwise rendering times are unnecessary long and the contrast in the final images is low (for example, the corners of a white room would hardly be discernible, as can be seen in the figure below).</p>
<figure class="align-default" id="id60">
<a class="reference internal image-reference" href="https://ospray.github.io/images/diffuse_rooms.png"><img alt="Comparison of diffuse rooms with 100% reflecting white paint (left) and realistic 80% reflecting white paint (right), which leads to higher overall contrast. Note that exposure has been adjusted to achieve similar brightness levels." src="https://ospray.github.io/images/diffuse_rooms.png" style="width: 80.0%;" /></a>
<figcaption>
<p><span class="caption-text">Comparison of diffuse rooms with 100% reflecting white paint (left) and realistic 80% reflecting white paint (right), which leads to higher overall contrast. Note that exposure has been adjusted to achieve similar brightness levels.</span><a class="headerlink" href="#id60" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>If present, the color component of <a class="reference external" href="#geometries">geometries</a> is also used for the diffuse color <code class="docutils literal notranslate"><span class="pre">Kd</span></code> and the alpha component is also used for the opacity <code class="docutils literal notranslate"><span class="pre">d</span></code>.</p>
<p>Normal mapping can simulate small geometric features via the texture <code class="docutils literal notranslate"><span class="pre">map_Bump</span></code>. The normals <span class="math notranslate nohighlight">\(n\)</span> in the normal map are with respect to the local tangential shading coordinate system and are encoded as <span class="math notranslate nohighlight">\(½(n+1)\)</span>, thus a texel <span class="math notranslate nohighlight">\((0.5, 0.5, 1)\)</span> <a class="footnote-reference brackets" href="#id14" id="id7" role="doc-noteref"><span class="fn-bracket">[</span>7<span class="fn-bracket">]</span></a> represents the unperturbed shading normal <span class="math notranslate nohighlight">\((0, 0, 1)\)</span>. Because of this encoding an sRGB gamma <a class="reference external" href="#texture">texture</a> format is ignored and normals are always fetched as linear from a normal map. Note that the orientation of normal maps is important for a visually consistent look: by convention OSPRay uses a coordinate system with the origin in the lower left corner; thus a convexity will look green toward the top of the texture image (see also the example image of a normal map). If this is not the case flip the normal map vertically or invert its green channel.</p>
<figure class="align-default" id="id61">
<a class="reference internal image-reference" href="https://ospray.github.io/images/normalmap_frustum.png"><img alt="Normal map representing an exalted square pyramidal frustum." src="https://ospray.github.io/images/normalmap_frustum.png" style="width: 60.0%;" /></a>
<figcaption>
<p><span class="caption-text">Normal map representing an exalted square pyramidal frustum.</span><a class="headerlink" href="#id61" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>Note that <code class="docutils literal notranslate"><span class="pre">Tf</span></code> colored transparency is implemented in the SciVis and the path tracer but normal mapping with <code class="docutils literal notranslate"><span class="pre">map_Bump</span></code> is currently supported in the path tracer only.</p>
<p>All parameters (except <code class="docutils literal notranslate"><span class="pre">Tf</span></code>) can be textured by passing a <a class="reference external" href="#texture">texture</a> handle, prefixed with “<code class="docutils literal notranslate"><span class="pre">map_</span></code>”. The fetched texels are multiplied by the respective parameter value. If only the texture is given (but not the corresponding parameter), only the texture is used (the default value of the parameter is <em>not</em> multiplied). The color textures <code class="docutils literal notranslate"><span class="pre">map_Kd</span></code> and <code class="docutils literal notranslate"><span class="pre">map_Ks</span></code> are typically in one of the sRGB gamma encoded formats, whereas textures <code class="docutils literal notranslate"><span class="pre">map_Ns</span></code> and <code class="docutils literal notranslate"><span class="pre">map_d</span></code> are usually in a linear format (and only the first component is used). Additionally, all textures support <a class="reference external" href="#texture-transformations">texture transformations</a>.</p>
<figure class="align-default" id="id62">
<a class="reference internal image-reference" href="https://ospray.github.io/images/material_OBJ.jpg"><img alt="Rendering of a OBJ material with wood textures." src="https://ospray.github.io/images/material_OBJ.jpg" style="width: 60.0%;" /></a>
<figcaption>
<p><span class="caption-text">Rendering of a OBJ material with wood textures.</span><a class="headerlink" href="#id62" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="principled">
<h4>Principled<a class="headerlink" href="#principled" title="Permalink to this heading">#</a></h4>
<p>The Principled material is the most complex material offered by the <a class="reference external" href="#path-tracer">path tracer</a>, which is capable of producing a wide variety of materials (e.g., plastic, metal, wood, glass) by combining multiple different layers and lobes. It uses the GGX microfacet distribution with approximate multiple scattering for dielectrics and metals, uses the Oren-Nayar model for diffuse reflection, and is energy conserving. To create a Principled material, pass the type string “<code class="docutils literal notranslate"><span class="pre">principled</span></code>” to <code class="docutils literal notranslate"><span class="pre">ospNewMaterial</span></code>. Its parameters are listed in the table below.</p>
<table class="table" id="id63">
<caption><span class="caption-text">Parameters of the Principled material.</span><a class="headerlink" href="#id63" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>vec3f</p></td>
<td><p>baseColor</p></td>
<td><p>white 0.8</p></td>
<td><p>base reflectivity (diffuse and/or metallic, linear RGB)</p></td>
</tr>
<tr class="row-odd"><td><p>vec3f</p></td>
<td><p>edgeColor</p></td>
<td><p>white</p></td>
<td><p>edge tint (metallic only, linear RGB)</p></td>
</tr>
<tr class="row-even"><td><p>float</p></td>
<td><p>metallic</p></td>
<td><p>0</p></td>
<td><p>mix between dielectric (diffuse and/or specular) and metallic (specular only with complex IOR) in [0–1]</p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>diffuse</p></td>
<td><p>1</p></td>
<td><p>diffuse reflection weight in [0–1]</p></td>
</tr>
<tr class="row-even"><td><p>float</p></td>
<td><p>specular</p></td>
<td><p>1</p></td>
<td><p>specular reflection/transmission weight in [0–1]</p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>ior</p></td>
<td><p>1</p></td>
<td><p>dielectric index of refraction</p></td>
</tr>
<tr class="row-even"><td><p>float</p></td>
<td><p>transmission</p></td>
<td><p>0</p></td>
<td><p>specular transmission weight in [0–1]</p></td>
</tr>
<tr class="row-odd"><td><p>vec3f</p></td>
<td><p>transmissionColor</p></td>
<td><p>white</p></td>
<td><p>attenuated color due to transmission (Beer’s law, linear RGB)</p></td>
</tr>
<tr class="row-even"><td><p>float</p></td>
<td><p>transmissionDepth</p></td>
<td><p>1</p></td>
<td><p>distance at which color attenuation is equal to transmissionColor</p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>roughness</p></td>
<td><p>0</p></td>
<td><p>diffuse and specular roughness in [0–1], 0 is perfectly smooth</p></td>
</tr>
<tr class="row-even"><td><p>float</p></td>
<td><p>anisotropy</p></td>
<td><p>0</p></td>
<td><p>amount of specular anisotropy in [0–1]</p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>rotation</p></td>
<td><p>0</p></td>
<td><p>rotation of the direction of anisotropy in [0–1], 1 is going full circle</p></td>
</tr>
<tr class="row-even"><td><p>float</p></td>
<td><p>normal</p></td>
<td><p>1</p></td>
<td><p>default normal map/scale for all layers</p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>baseNormal</p></td>
<td><p>1</p></td>
<td><p>base normal map/scale (overrides default normal)</p></td>
</tr>
<tr class="row-even"><td><p>bool</p></td>
<td><p>thin</p></td>
<td><p>false</p></td>
<td><p>flag specifying whether the material is thin or solid</p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>thickness</p></td>
<td><p>1</p></td>
<td><p>thickness of the material (thin only), affects the amount of color attenuation due to specular transmission</p></td>
</tr>
<tr class="row-even"><td><p>float</p></td>
<td><p>backlight</p></td>
<td><p>0</p></td>
<td><p>amount of diffuse transmission (thin only) in [0–2], 1 is 50% reflection and 50% transmission, 2 is transmission only</p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>coat</p></td>
<td><p>0</p></td>
<td><p>clear coat layer weight in [0–1]</p></td>
</tr>
<tr class="row-even"><td><p>float</p></td>
<td><p>coatIor</p></td>
<td><p>1.5</p></td>
<td><p>clear coat index of refraction</p></td>
</tr>
<tr class="row-odd"><td><p>vec3f</p></td>
<td><p>coatColor</p></td>
<td><p>white</p></td>
<td><p>clear coat color tint (linear RGB)</p></td>
</tr>
<tr class="row-even"><td><p>float</p></td>
<td><p>coatThickness</p></td>
<td><p>1</p></td>
<td><p>clear coat thickness, affects the amount of color attenuation</p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>coatRoughness</p></td>
<td><p>0</p></td>
<td><p>clear coat roughness in [0–1], 0 is perfectly smooth</p></td>
</tr>
<tr class="row-even"><td><p>float</p></td>
<td><p>coatNormal</p></td>
<td><p>1</p></td>
<td><p>clear coat normal map/scale (overrides default normal)</p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>sheen</p></td>
<td><p>0</p></td>
<td><p>sheen layer weight in [0–1]</p></td>
</tr>
<tr class="row-even"><td><p>vec3f</p></td>
<td><p>sheenColor</p></td>
<td><p>white</p></td>
<td><p>sheen color tint (linear RGB)</p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>sheenTint</p></td>
<td><p>0</p></td>
<td><p>how much sheen is tinted from sheenColor toward baseColor</p></td>
</tr>
<tr class="row-even"><td><p>float</p></td>
<td><p>sheenRoughness</p></td>
<td><p>0.2</p></td>
<td><p>sheen roughness in [0–1], 0 is perfectly smooth</p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>opacity</p></td>
<td><p>1</p></td>
<td><p>cut-out opacity/transparency, 1 is fully opaque</p></td>
</tr>
</tbody>
</table>
<p>All parameters can be textured by passing a <a class="reference external" href="#texture">texture</a> handle, prefixed with “<code class="docutils literal notranslate"><span class="pre">map_</span></code>” (e.g., “<code class="docutils literal notranslate"><span class="pre">map_baseColor</span></code>”). <a class="reference external" href="#texture-transformations">texture transformations</a> are supported as well.</p>
<figure class="align-default" id="id64">
<a class="reference internal image-reference" href="https://ospray.github.io/images/material_Principled.jpg"><img alt="Rendering of a Principled coated brushed metal material with textured anisotropic rotation and a dust layer (sheen) on top." src="https://ospray.github.io/images/material_Principled.jpg" style="width: 60.0%;" /></a>
<figcaption>
<p><span class="caption-text">Rendering of a Principled coated brushed metal material with textured anisotropic rotation and a dust layer (sheen) on top.</span><a class="headerlink" href="#id64" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="carpaint">
<h4>CarPaint<a class="headerlink" href="#carpaint" title="Permalink to this heading">#</a></h4>
<p>The CarPaint material is a specialized version of the Principled material for rendering different types of car paints. To create a CarPaint material, pass the type string “<code class="docutils literal notranslate"><span class="pre">carPaint</span></code>” to <code class="docutils literal notranslate"><span class="pre">ospNewMaterial</span></code>. Its parameters are listed in the table below.</p>
<table class="table" id="id65">
<caption><span class="caption-text">Parameters of the CarPaint material.</span><a class="headerlink" href="#id65" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>vec3f</p></td>
<td><p>baseColor</p></td>
<td><p>white 0.8</p></td>
<td><p>diffuse base reflectivity (linear RGB)</p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>roughness</p></td>
<td><p>0</p></td>
<td><p>diffuse roughness in [0–1], 0 is perfectly smooth</p></td>
</tr>
<tr class="row-even"><td><p>float</p></td>
<td><p>normal</p></td>
<td><p>1</p></td>
<td><p>normal map/scale</p></td>
</tr>
<tr class="row-odd"><td><p>vec3f</p></td>
<td><p>flakeColor</p></td>
<td><p>Aluminium</p></td>
<td><p>color of metallic flakes (linear RGB)</p></td>
</tr>
<tr class="row-even"><td><p>float</p></td>
<td><p>flakeDensity</p></td>
<td><p>0</p></td>
<td><p>density of metallic flakes in [0–1], 0 disables flakes, 1 fully covers the surface with flakes</p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>flakeScale</p></td>
<td><p>100</p></td>
<td><p>scale of the flake structure, higher values increase the amount of flakes</p></td>
</tr>
<tr class="row-even"><td><p>float</p></td>
<td><p>flakeSpread</p></td>
<td><p>0.3</p></td>
<td><p>flake spread in [0–1]</p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>flakeJitter</p></td>
<td><p>0.75</p></td>
<td><p>flake randomness in [0–1]</p></td>
</tr>
<tr class="row-even"><td><p>float</p></td>
<td><p>flakeRoughness</p></td>
<td><p>0.3</p></td>
<td><p>flake roughness in [0–1], 0 is perfectly smooth</p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>coat</p></td>
<td><p>1</p></td>
<td><p>clear coat layer weight in [0–1]</p></td>
</tr>
<tr class="row-even"><td><p>float</p></td>
<td><p>coatIor</p></td>
<td><p>1.5</p></td>
<td><p>clear coat index of refraction</p></td>
</tr>
<tr class="row-odd"><td><p>vec3f</p></td>
<td><p>coatColor</p></td>
<td><p>white</p></td>
<td><p>clear coat color tint (linear RGB)</p></td>
</tr>
<tr class="row-even"><td><p>float</p></td>
<td><p>coatThickness</p></td>
<td><p>1</p></td>
<td><p>clear coat thickness, affects the amount of color attenuation</p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>coatRoughness</p></td>
<td><p>0</p></td>
<td><p>clear coat roughness in [0–1], 0 is perfectly smooth</p></td>
</tr>
<tr class="row-even"><td><p>float</p></td>
<td><p>coatNormal</p></td>
<td><p>1</p></td>
<td><p>clear coat normal map/scale</p></td>
</tr>
<tr class="row-odd"><td><p>vec3f</p></td>
<td><p>flipflopColor</p></td>
<td><p>white</p></td>
<td><p>reflectivity of coated flakes at grazing angle, used together with coatColor produces a pearlescent paint (linear RGB)</p></td>
</tr>
<tr class="row-even"><td><p>float</p></td>
<td><p>flipflopFalloff</p></td>
<td><p>1</p></td>
<td><p>flip flop color falloff, 1 disables the flip flop effect</p></td>
</tr>
</tbody>
</table>
<p>All parameters can be textured by passing a <a class="reference external" href="#texture">texture</a> handle, prefixed with “<code class="docutils literal notranslate"><span class="pre">map_</span></code>” (e.g., “<code class="docutils literal notranslate"><span class="pre">map_baseColor</span></code>”). <a class="reference external" href="#texture-transformations">texture transformations</a> are supported as well.</p>
<figure class="align-default" id="id66">
<a class="reference internal image-reference" href="https://ospray.github.io/images/material_CarPaint.jpg"><img alt="Rendering of a pearlescent CarPaint material." src="https://ospray.github.io/images/material_CarPaint.jpg" style="width: 60.0%;" /></a>
<figcaption>
<p><span class="caption-text">Rendering of a pearlescent CarPaint material.</span><a class="headerlink" href="#id66" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="metal">
<h4>Metal<a class="headerlink" href="#metal" title="Permalink to this heading">#</a></h4>
<p>The <a class="reference external" href="#path-tracer">path tracer</a> offers a physical metal, supporting changing roughness and realistic color shifts at edges. To create a Metal material pass the type string “<code class="docutils literal notranslate"><span class="pre">metal</span></code>” to <code class="docutils literal notranslate"><span class="pre">ospNewMaterial</span></code>. Its parameters are</p>
<table class="table" id="id67">
<caption><span class="caption-text">Parameters of the Metal material.</span><a class="headerlink" href="#id67" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>vec3f[]</p></td>
<td><p>ior</p></td>
<td><p>Aluminium</p></td>
<td><p><a class="reference external" href="#data">data</a> array of spectral samples of complex refractive index, each entry in the form (wavelength, eta, k), ordered by wavelength (which is in nm)</p></td>
</tr>
<tr class="row-odd"><td><p>vec3f</p></td>
<td><p>eta</p></td>
<td></td>
<td><p>RGB complex refractive index, real part</p></td>
</tr>
<tr class="row-even"><td><p>vec3f</p></td>
<td><p>k</p></td>
<td></td>
<td><p>RGB complex refractive index, imaginary part</p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>roughness</p></td>
<td><p>0.1</p></td>
<td><p>roughness in [0–1], 0 is perfect mirror</p></td>
</tr>
</tbody>
</table>
<p>The main appearance (mostly the color) of the Metal material is controlled by the physical parameters <code class="docutils literal notranslate"><span class="pre">eta</span></code> and <code class="docutils literal notranslate"><span class="pre">k</span></code>, the wavelength-dependent, complex index of refraction. These coefficients are quite counter-intuitive but can be found in <a class="reference external" href="https://refractiveindex.info/">published measurements</a>. For accuracy the index of refraction can be given as an array of spectral samples in <code class="docutils literal notranslate"><span class="pre">ior</span></code>, each sample a triplet of wavelength (in nm), eta, and k, ordered monotonically increasing by wavelength; OSPRay will then calculate the Fresnel in the spectral domain. Alternatively, <code class="docutils literal notranslate"><span class="pre">eta</span></code> and <code class="docutils literal notranslate"><span class="pre">k</span></code> can also be specified as approximated RGB coefficients; some examples are given in below table.</p>
<table class="table" id="id68">
<caption><span class="caption-text">Index of refraction of selected metals as approximated RGB coefficients, based on data from <a class="reference external" href="https://refractiveindex.info/">https://refractiveindex.info/</a>.</span><a class="headerlink" href="#id68" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Metal</p></th>
<th class="head"><p>eta</p></th>
<th class="head"><p>k</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Ag, Silver</p></td>
<td><p>(0.051, 0.043, 0.041)</p></td>
<td><p>(5.3, 3.6, 2.3)</p></td>
</tr>
<tr class="row-odd"><td><p>Al, Aluminium</p></td>
<td><p>(1.5, 0.98, 0.6)</p></td>
<td><p>(7.6, 6.6, 5.4)</p></td>
</tr>
<tr class="row-even"><td><p>Au, Gold</p></td>
<td><p>(0.07, 0.37, 1.5)</p></td>
<td><p>(3.7, 2.3, 1.7)</p></td>
</tr>
<tr class="row-odd"><td><p>Cr, Chromium</p></td>
<td><p>(3.2, 3.1, 2.3)</p></td>
<td><p>(3.3, 3.3, 3.1)</p></td>
</tr>
<tr class="row-even"><td><p>Cu, Copper</p></td>
<td><p>(0.1, 0.8, 1.1)</p></td>
<td><p>(3.5, 2.5, 2.4)</p></td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal notranslate"><span class="pre">roughness</span></code> parameter controls the variation of microfacets and thus how polished the metal will look. The roughness can be modified by a <a class="reference external" href="#texture">texture</a> <code class="docutils literal notranslate"><span class="pre">map_roughness</span></code> (<a class="reference external" href="#texture-transformations">texture transformations</a> are supported as well) to create notable edging effects.</p>
<figure class="align-default" id="id69">
<a class="reference internal image-reference" href="https://ospray.github.io/images/material_Metal.jpg"><img alt="Rendering of golden Metal material with textured roughness." src="https://ospray.github.io/images/material_Metal.jpg" style="width: 60.0%;" /></a>
<figcaption>
<p><span class="caption-text">Rendering of golden Metal material with textured roughness.</span><a class="headerlink" href="#id69" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="alloy">
<h4>Alloy<a class="headerlink" href="#alloy" title="Permalink to this heading">#</a></h4>
<p>The <a class="reference external" href="#path-tracer">path tracer</a> offers an alloy material, which behaves similar to <a class="reference external" href="#metal">Metal</a>, but allows for more intuitive and flexible control of the color. To create an Alloy material pass the type string “<code class="docutils literal notranslate"><span class="pre">alloy</span></code>” to <code class="docutils literal notranslate"><span class="pre">ospNewMaterial</span></code>. Its parameters are</p>
<table class="table" id="id70">
<caption><span class="caption-text">Parameters of the Alloy material.</span><a class="headerlink" href="#id70" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>vec3f</p></td>
<td><p>color</p></td>
<td><p>white 0.9</p></td>
<td><p>reflectivity at normal incidence (0 degree, linear RGB)</p></td>
</tr>
<tr class="row-odd"><td><p>vec3f</p></td>
<td><p>edgeColor</p></td>
<td><p>white</p></td>
<td><p>reflectivity at grazing angle (90 degree, linear RGB)</p></td>
</tr>
<tr class="row-even"><td><p>float</p></td>
<td><p>roughness</p></td>
<td><p>0.1</p></td>
<td><p>roughness, in [0–1], 0 is perfect mirror</p></td>
</tr>
</tbody>
</table>
<p>The main appearance of the Alloy material is controlled by the parameter <code class="docutils literal notranslate"><span class="pre">color</span></code>, while <code class="docutils literal notranslate"><span class="pre">edgeColor</span></code> influences the tint of reflections when seen at grazing angles (for real metals this is always 100% white). If present, the color component of <a class="reference external" href="#geometries">geometries</a> is also used for reflectivity at normal incidence <code class="docutils literal notranslate"><span class="pre">color</span></code>. As in <a class="reference external" href="#metal">Metal</a> the <code class="docutils literal notranslate"><span class="pre">roughness</span></code> parameter controls the variation of microfacets and thus how polished the alloy will look. All parameters can be textured by passing a <a class="reference external" href="#texture">texture</a> handle, prefixed with “<code class="docutils literal notranslate"><span class="pre">map_</span></code>”; <a class="reference external" href="#texture-transformations">texture transformations</a> are supported as well.</p>
<figure class="align-default" id="id71">
<a class="reference internal image-reference" href="https://ospray.github.io/images/material_Alloy.jpg"><img alt="Rendering of a fictional Alloy material with textured color." src="https://ospray.github.io/images/material_Alloy.jpg" style="width: 60.0%;" /></a>
<figcaption>
<p><span class="caption-text">Rendering of a fictional Alloy material with textured color.</span><a class="headerlink" href="#id71" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="glass">
<h4>Glass<a class="headerlink" href="#glass" title="Permalink to this heading">#</a></h4>
<p>The <a class="reference external" href="#path-tracer">path tracer</a> offers a realistic a glass material, supporting refraction and volumetric attenuation (i.e., the transparency color varies with the geometric thickness). To create a Glass material pass the type string “<code class="docutils literal notranslate"><span class="pre">glass</span></code>” to <code class="docutils literal notranslate"><span class="pre">ospNewMaterial</span></code>. Its parameters are</p>
<table class="table" id="id72">
<caption><span class="caption-text">Parameters of the Glass material.</span><a class="headerlink" href="#id72" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>float</p></td>
<td><p>eta</p></td>
<td><p>1.5</p></td>
<td><p>index of refraction</p></td>
</tr>
<tr class="row-odd"><td><p>vec3f</p></td>
<td><p>attenuationColor</p></td>
<td><p>white</p></td>
<td><p>resulting color due to attenuation (linear RGB)</p></td>
</tr>
<tr class="row-even"><td><p>float</p></td>
<td><p>attenuationDistance</p></td>
<td><p>1</p></td>
<td><p>distance affecting attenuation</p></td>
</tr>
</tbody>
</table>
<p>For convenience, the rather counter-intuitive physical attenuation coefficients will be calculated from the user inputs in such a way, that the <code class="docutils literal notranslate"><span class="pre">attenuationColor</span></code> will be the result when white light traveled trough a glass of thickness <code class="docutils literal notranslate"><span class="pre">attenuationDistance</span></code>.</p>
<figure class="align-default" id="id73">
<a class="reference internal image-reference" href="https://ospray.github.io/images/material_Glass.jpg"><img alt="Rendering of a Glass material with orange attenuation." src="https://ospray.github.io/images/material_Glass.jpg" style="width: 60.0%;" /></a>
<figcaption>
<p><span class="caption-text">Rendering of a Glass material with orange attenuation.</span><a class="headerlink" href="#id73" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="thinglass">
<h4>ThinGlass<a class="headerlink" href="#thinglass" title="Permalink to this heading">#</a></h4>
<p>The <a class="reference external" href="#path-tracer">path tracer</a> offers a thin glass material useful for objects with just a single surface, most prominently windows. It models a thin, transparent slab, i.e., it behaves as if a second, virtual surface is parallel to the real geometric surface. The implementation accounts for multiple internal reflections between the interfaces (including attenuation), but neglects parallax effects due to its (virtual) thickness. To create a such a thin glass material pass the type string “<code class="docutils literal notranslate"><span class="pre">thinGlass</span></code>” to <code class="docutils literal notranslate"><span class="pre">ospNewMaterial</span></code>. Its parameters are</p>
<table class="table" id="id74">
<caption><span class="caption-text">Parameters of the ThinGlass material.</span><a class="headerlink" href="#id74" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>float</p></td>
<td><p>eta</p></td>
<td><p>1.5</p></td>
<td><p>index of refraction</p></td>
</tr>
<tr class="row-odd"><td><p>vec3f</p></td>
<td><p>attenuationColor</p></td>
<td><p>white</p></td>
<td><p>resulting color due to attenuation (linear RGB)</p></td>
</tr>
<tr class="row-even"><td><p>float</p></td>
<td><p>attenuationDistance</p></td>
<td><p>1</p></td>
<td><p>distance affecting attenuation</p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>thickness</p></td>
<td><p>1</p></td>
<td><p>virtual thickness</p></td>
</tr>
</tbody>
</table>
<p>For convenience the attenuation is controlled the same way as with the <a class="reference external" href="#glass">Glass</a> material. Additionally, the color due to attenuation can be modulated with a <a class="reference external" href="#texture">texture</a> <code class="docutils literal notranslate"><span class="pre">map_attenuationColor</span></code> (<a class="reference external" href="#texture-transformations">texture transformations</a> are supported as well). If present, the color component of <a class="reference external" href="#geometries">geometries</a> is also used for the attenuation color. The <code class="docutils literal notranslate"><span class="pre">thickness</span></code> parameter sets the (virtual) thickness and allows for easy exchange of parameters with the (real) <a class="reference external" href="#glass">Glass</a> material; internally just the ratio between <code class="docutils literal notranslate"><span class="pre">attenuationDistance</span></code> and <code class="docutils literal notranslate"><span class="pre">thickness</span></code> is used to calculate the resulting attenuation and thus the material appearance.</p>
<figure class="align-default" id="id75">
<a class="reference internal image-reference" href="https://ospray.github.io/images/material_ThinGlass.jpg"><img alt="Rendering of a ThinGlass material with red attenuation." src="https://ospray.github.io/images/material_ThinGlass.jpg" style="width: 60.0%;" /></a>
<figcaption>
<p><span class="caption-text">Rendering of a ThinGlass material with red attenuation.</span><a class="headerlink" href="#id75" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id76">
<a class="reference internal image-reference" href="https://ospray.github.io/images/ColoredWindow.jpg"><img alt="Example image of a colored window made with textured attenuation of the ThinGlass material." src="https://ospray.github.io/images/ColoredWindow.jpg" style="width: 60.0%;" /></a>
<figcaption>
<p><span class="caption-text">Example image of a colored window made with textured attenuation of the ThinGlass material.</span><a class="headerlink" href="#id76" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="metallicpaint">
<h4>MetallicPaint<a class="headerlink" href="#metallicpaint" title="Permalink to this heading">#</a></h4>
<p>The <a class="reference external" href="#path-tracer">path tracer</a> offers a metallic paint material, consisting of a base coat with optional flakes and a clear coat. To create a MetallicPaint material pass the type string “<code class="docutils literal notranslate"><span class="pre">metallicPaint</span></code>” to <code class="docutils literal notranslate"><span class="pre">ospNewMaterial</span></code>. Its parameters are listed in the table below.</p>
<table class="table" id="id77">
<caption><span class="caption-text">Parameters of the MetallicPaint material.</span><a class="headerlink" href="#id77" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>vec3f</p></td>
<td><p>baseColor</p></td>
<td><p>white 0.8</p></td>
<td><p>color of base coat (linear RGB)</p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>flakeAmount</p></td>
<td><p>0.3</p></td>
<td><p>amount of flakes, in [0–1]</p></td>
</tr>
<tr class="row-even"><td><p>vec3f</p></td>
<td><p>flakeColor</p></td>
<td><p>Aluminium</p></td>
<td><p>color of metallic flakes (linear RGB)</p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>flakeSpread</p></td>
<td><p>0.5</p></td>
<td><p>spread of flakes, in [0–1]</p></td>
</tr>
<tr class="row-even"><td><p>float</p></td>
<td><p>eta</p></td>
<td><p>1.5</p></td>
<td><p>index of refraction of clear coat</p></td>
</tr>
</tbody>
</table>
<p>The color of the base coat <code class="docutils literal notranslate"><span class="pre">baseColor</span></code> can be textured by a <a class="reference external" href="#texture">texture</a> <code class="docutils literal notranslate"><span class="pre">map_baseColor</span></code>, which also supports <a class="reference external" href="#texture-transformations">texture transformations</a>. If present, the color component of <a class="reference external" href="#geometries">geometries</a> is also used for the color of the base coat. Parameter <code class="docutils literal notranslate"><span class="pre">flakeAmount</span></code> controls the proportion of flakes in the base coat, so when setting it to 1 the <code class="docutils literal notranslate"><span class="pre">baseColor</span></code> will not be visible. The shininess of the metallic component is governed by <code class="docutils literal notranslate"><span class="pre">flakeSpread</span></code>, which controls the variation of the orientation of the flakes, similar to the <code class="docutils literal notranslate"><span class="pre">roughness</span></code> parameter of <a class="reference external" href="#metal">Metal</a>. Note that the effect of the metallic flakes is currently only computed on average, thus individual flakes are not visible.</p>
<figure class="align-default" id="id78">
<a class="reference internal image-reference" href="https://ospray.github.io/images/material_MetallicPaint.jpg"><img alt="Rendering of a MetallicPaint material." src="https://ospray.github.io/images/material_MetallicPaint.jpg" style="width: 60.0%;" /></a>
<figcaption>
<p><span class="caption-text">Rendering of a MetallicPaint material.</span><a class="headerlink" href="#id78" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="luminous">
<h4>Luminous<a class="headerlink" href="#luminous" title="Permalink to this heading">#</a></h4>
<p>The <a class="reference external" href="#path-tracer">path tracer</a> supports the Luminous material which emits light uniformly in all directions and which can thus be used to turn any geometric object into a light source. It is created by passing the type string “<code class="docutils literal notranslate"><span class="pre">luminous</span></code>” to <code class="docutils literal notranslate"><span class="pre">ospNewMaterial</span></code>. The amount of constant radiance that is emitted is determined by combining the general parameters of lights: <code class="docutils literal notranslate"><span class="pre">`color</span></code> and <code class="docutils literal notranslate"><span class="pre">intensity</span></code> &lt;#lights&gt;`__ (which essentially means that parameter <code class="docutils literal notranslate"><span class="pre">intensityQuantity</span></code> is not needed because it is always <code class="docutils literal notranslate"><span class="pre">OSP_INTENSITY_QUANTITY_RADIANCE</span></code>).</p>
<table class="table" id="id79">
<caption><span class="caption-text">Parameters accepted by the Luminous material.</span><a class="headerlink" href="#id79" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>vec3f</p></td>
<td><p>color</p></td>
<td><p>white</p></td>
<td><p>color of the emitted light (linear RGB)</p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>intensity</p></td>
<td><p>1</p></td>
<td><p>intensity of the light (a factor)</p></td>
</tr>
<tr class="row-even"><td><p>float</p></td>
<td><p>transparency</p></td>
<td><p>1</p></td>
<td><p>material transparency</p></td>
</tr>
</tbody>
</table>
<figure class="align-default" id="id80">
<a class="reference internal image-reference" href="https://ospray.github.io/images/material_Luminous.jpg"><img alt="Rendering of a yellow Luminous material." src="https://ospray.github.io/images/material_Luminous.jpg" style="width: 60.0%;" /></a>
<figcaption>
<p><span class="caption-text">Rendering of a yellow Luminous material.</span><a class="headerlink" href="#id80" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
</section>
</section>
<section id="texture">
<h3>Texture<a class="headerlink" href="#texture" title="Permalink to this heading">#</a></h3>
<p>OSPRay currently implements two texture types (<code class="docutils literal notranslate"><span class="pre">texture2d</span></code> and <code class="docutils literal notranslate"><span class="pre">volume</span></code>) and is open for extension to other types by applications. More types may be added in future releases.</p>
<p>To create a new texture use</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">OSPTexture</span><span class="w"> </span><span class="nf">ospNewTexture</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">type</span><span class="p">);</span>
</pre></div>
</div>
<section id="texture2d">
<h4>Texture2D<a class="headerlink" href="#texture2d" title="Permalink to this heading">#</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">texture2d</span></code> texture type implements an image-based texture, where its parameters are as follows</p>
<table class="table" id="id81">
<caption><span class="caption-text">Parameters of <code class="docutils literal notranslate"><span class="pre">texture2d</span></code> texture type.</span><a class="headerlink" href="#id81" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>int</p></td>
<td><p>format</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OSPTextureFormat</span></code> for the texture</p></td>
</tr>
<tr class="row-odd"><td><p>int</p></td>
<td><p>filter</p></td>
<td><p>default <code class="docutils literal notranslate"><span class="pre">OSP_TEXTURE_FILTER_BILINEAR</span></code>, alternatively <code class="docutils literal notranslate"><span class="pre">OSP_TEXTURE_FILTER_NEAREST</span></code></p></td>
</tr>
<tr class="row-even"><td><p>OSPData</p></td>
<td><p>data</p></td>
<td><p>the actual texel 2D <a class="reference external" href="#data">data</a></p></td>
</tr>
</tbody>
</table>
<p>The supported texture formats for <code class="docutils literal notranslate"><span class="pre">texture2d</span></code> are:</p>
<table class="table" id="id82">
<caption><span class="caption-text">Supported texture formats by <code class="docutils literal notranslate"><span class="pre">texture2d</span></code>, i.e., valid constants of type <code class="docutils literal notranslate"><span class="pre">OSPTextureFormat</span></code>.</span><a class="headerlink" href="#id82" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>OSP_TEXTURE_RGBA8</p></td>
<td><p>8 bit [0–255] linear components red, green, blue, alpha</p></td>
</tr>
<tr class="row-odd"><td><p>OSP_TEXTURE_SRGBA</p></td>
<td><p>8 bit sRGB gamma encoded color components, and linear alpha</p></td>
</tr>
<tr class="row-even"><td><p>OSP_TEXTURE_RGBA32F</p></td>
<td><p>32 bit float components red, green, blue, alpha</p></td>
</tr>
<tr class="row-odd"><td><p>OSP_TEXTURE_RGB8</p></td>
<td><p>8 bit [0–255] linear components red, green, blue</p></td>
</tr>
<tr class="row-even"><td><p>OSP_TEXTURE_SRGB</p></td>
<td><p>8 bit sRGB gamma encoded components red, green, blue</p></td>
</tr>
<tr class="row-odd"><td><p>OSP_TEXTURE_RGB32F</p></td>
<td><p>32 bit float components red, green, blue</p></td>
</tr>
<tr class="row-even"><td><p>OSP_TEXTURE_R8</p></td>
<td><p>8 bit [0–255] linear single component red</p></td>
</tr>
<tr class="row-odd"><td><p>OSP_TEXTURE_RA8</p></td>
<td><p>8 bit [0–255] linear two components red, alpha</p></td>
</tr>
<tr class="row-even"><td><p>OSP_TEXTURE_L8</p></td>
<td><p>8 bit [0–255] gamma encoded luminance (replicated into red, green, blue)</p></td>
</tr>
<tr class="row-odd"><td><p>OSP_TEXTURE_LA8</p></td>
<td><p>8 bit [0–255] gamma encoded luminance, and linear alpha</p></td>
</tr>
<tr class="row-even"><td><p>OSP_TEXTURE_R32F</p></td>
<td><p>32 bit float single component red</p></td>
</tr>
<tr class="row-odd"><td><p>OSP_TEXTURE_RGBA16</p></td>
<td><p>16 bit [0–65535] linear components red, green, blue, alpha</p></td>
</tr>
<tr class="row-even"><td><p>OSP_TEXTURE_RGB16</p></td>
<td><p>16 bit [0–65535] linear components red, green, blue</p></td>
</tr>
<tr class="row-odd"><td><p>OSP_TEXTURE_RA16</p></td>
<td><p>16 bit [0–65535] linear two components red, alpha</p></td>
</tr>
<tr class="row-even"><td><p>OSP_TEXTURE_R16</p></td>
<td><p>16 bit [0–65535] linear single component red</p></td>
</tr>
</tbody>
</table>
<p>The size of the texture is inferred from the size of the 2D array <code class="docutils literal notranslate"><span class="pre">data</span></code>, which also needs have a compatible type to <code class="docutils literal notranslate"><span class="pre">format</span></code>. The texel data in <code class="docutils literal notranslate"><span class="pre">data</span></code> starts with the texels in the lower left corner of the texture image, like in OpenGL. Per default a texture fetch is filtered by performing bi-linear interpolation of the nearest 2×2 texels; if instead fetching only the nearest texel is desired (i.e., no filtering) then pass the <code class="docutils literal notranslate"><span class="pre">OSP_TEXTURE_FILTER_NEAREST</span></code> flag.</p>
<p>Texturing with <code class="docutils literal notranslate"><span class="pre">texture2d</span></code> image textures requires <a class="reference external" href="#geometries">geometries</a> with texture coordinates, e.g., a <a class="reference external" href="#mesh">mesh</a> with <code class="docutils literal notranslate"><span class="pre">vertex.texcoord</span></code> provided.</p>
</section>
<section id="volume-texture">
<h4>Volume Texture<a class="headerlink" href="#volume-texture" title="Permalink to this heading">#</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">volume</span></code> texture type implements texture lookups based on 3D object coordinates of the surface hit point on the associated geometry. If the given hit point is within the attached volume, the volume is sampled and classified with the transfer function attached to the volume. This implements the ability to visualize volume values (as colored by a transfer function) on arbitrary surfaces inside the volume (as opposed to an isosurface showing a particular value in the volume). Its parameters are as follows</p>
<table class="table" id="id83">
<caption><span class="caption-text">Parameters of <code class="docutils literal notranslate"><span class="pre">volume</span></code> texture type.</span><a class="headerlink" href="#id83" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>OSPVolume</p></td>
<td><p>volume</p></td>
<td><p><a class="reference external" href="#volumes">Volume</a> used to generate color lookups</p></td>
</tr>
<tr class="row-odd"><td><p>OSPTransferFunction</p></td>
<td><p>transferFunction</p></td>
<td><p><a class="reference external" href="#transfer-function">transfer function</a> applied to <code class="docutils literal notranslate"><span class="pre">volume</span></code></p></td>
</tr>
</tbody>
</table>
<p>TextureVolume can be used for implementing slicing of volumes with any geometry type. It enables coloring of the slicing geometry with a different transfer function than that of the sliced volume.</p>
</section>
<section id="texture-transformations">
<h4>Texture Transformations<a class="headerlink" href="#texture-transformations" title="Permalink to this heading">#</a></h4>
<p>All materials with textures also offer to manipulate the placement of these textures with the help of texture transformations. If so, this convention shall be used: the following parameters are prefixed with “<code class="docutils literal notranslate"><span class="pre">texture_name.*</span></code>”).</p>
<table class="table" id="id84">
<caption><span class="caption-text">Parameters to define 2D texture coordinate transformations.</span><a class="headerlink" href="#id84" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>linear2f</p></td>
<td><p>transform</p></td>
<td><p>linear transformation (rotation, scale)</p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>rotation</p></td>
<td><p>angle in degree, counterclockwise, around center</p></td>
</tr>
<tr class="row-even"><td><p>vec2f</p></td>
<td><p>scale</p></td>
<td><p>enlarge texture, relative to center <span class="math notranslate nohighlight">\((0.5, 0.5)\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>vec2f</p></td>
<td><p>translation</p></td>
<td><p>move texture in positive direction (right/up)</p></td>
</tr>
</tbody>
</table>
<p>Above parameters are combined into a single <code class="docutils literal notranslate"><span class="pre">affine2d</span></code> transformation matrix and the transformations are applied in the given order. Rotation, scale and translation are interpreted “texture centric”, i.e., their effect seen by an user are relative to the texture (although the transformations are applied to the texture coordinates).</p>
<table class="table" id="id85">
<caption><span class="caption-text">Parameter to define 3D volume texture transformations.</span><a class="headerlink" href="#id85" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>affine3f</p></td>
<td><p>transform</p></td>
<td><p>linear transformation (rotation, scale) plus translation</p></td>
</tr>
</tbody>
</table>
<p>Similarly, volume texture placement can also be modified by an <code class="docutils literal notranslate"><span class="pre">affine3f</span></code> transformation matrix.</p>
</section>
</section>
<section id="cameras">
<h3>Cameras<a class="headerlink" href="#cameras" title="Permalink to this heading">#</a></h3>
<p>To create a new camera of given type <code class="docutils literal notranslate"><span class="pre">type</span></code> use</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">OSPCamera</span><span class="w"> </span><span class="nf">ospNewCamera</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">type</span><span class="p">);</span>
</pre></div>
</div>
<p>All cameras accept these parameters:</p>
<table class="table" id="id86">
<caption><span class="caption-text">Parameters accepted by all cameras.</span><a class="headerlink" href="#id86" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>vec3f</p></td>
<td><p>position</p></td>
<td><p><span class="math notranslate nohighlight">\((0, 0, 0)\)</span></p></td>
<td><p>position of the camera</p></td>
</tr>
<tr class="row-odd"><td><p>vec3f</p></td>
<td><p>direction</p></td>
<td><p><span class="math notranslate nohighlight">\((0, 0, 1)\)</span></p></td>
<td><p>main viewing direction of the camera</p></td>
</tr>
<tr class="row-even"><td><p>vec3f</p></td>
<td><p>up</p></td>
<td><p><span class="math notranslate nohighlight">\((0, 1, 0)\)</span></p></td>
<td><p>up direction of the camera</p></td>
</tr>
<tr class="row-odd"><td><p>affine3f</p></td>
<td><p>transform</p></td>
<td><p>identity</p></td>
<td><p>additional world-space transform, overridden by <code class="docutils literal notranslate"><span class="pre">motion.*</span></code> arrays</p></td>
</tr>
<tr class="row-even"><td><p>float</p></td>
<td><p>nearClip</p></td>
<td><p>10<sup>-6</sup></p></td>
<td><p>near clipping distance</p></td>
</tr>
<tr class="row-odd"><td><p>vec2f</p></td>
<td><p>imageStart</p></td>
<td><p><span class="math notranslate nohighlight">\((0, 0)\)</span></p></td>
<td><p>start of image region (lower left corner)</p></td>
</tr>
<tr class="row-even"><td><p>vec2f</p></td>
<td><p>imageEnd</p></td>
<td><p><span class="math notranslate nohighlight">\((1, 1)\)</span></p></td>
<td><p>end of image region (upper right corner)</p></td>
</tr>
<tr class="row-odd"><td><p>affine3f[]</p></td>
<td><p>motion.transform</p></td>
<td></td>
<td><p>additional uniformly distributed world-space transforms</p></td>
</tr>
<tr class="row-even"><td><p>vec3f[]</p></td>
<td><p>motion.scale</p></td>
<td></td>
<td><p>additional uniformly distributed world-space scale, overridden by <code class="docutils literal notranslate"><span class="pre">motion.transform</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>vec3f[]</p></td>
<td><p>motion.pivot</p></td>
<td></td>
<td><p>additional uniformly distributed world-space translation which is applied before <code class="docutils literal notranslate"><span class="pre">motion.rotation</span></code> (i.e., the rotation center), overridden by <code class="docutils literal notranslate"><span class="pre">motion.transform</span></code></p></td>
</tr>
<tr class="row-even"><td><p>quatf[]</p></td>
<td><p>motion.rotation</p></td>
<td></td>
<td><p>additional uniformly distributed world-space quaternion rotation, overridden by <code class="docutils literal notranslate"><span class="pre">motion.transform</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>vec3f[]</p></td>
<td><p>motion.translation</p></td>
<td></td>
<td><p>additional uniformly distributed world-space translation, overridden by <code class="docutils literal notranslate"><span class="pre">motion.transform</span></code></p></td>
</tr>
<tr class="row-even"><td><p>box1f</p></td>
<td><p>time</p></td>
<td><p>[0, 1]</p></td>
<td><p>time associated with first and last key in <code class="docutils literal notranslate"><span class="pre">motion.*</span></code> arrays</p></td>
</tr>
<tr class="row-odd"><td><p>box1f</p></td>
<td><p>shutter</p></td>
<td><p>[0.5, 0.5]</p></td>
<td><p>start and end of shutter time (for motion blur), in [0, 1]</p></td>
</tr>
<tr class="row-even"><td><p>uchar</p></td>
<td><p>shutterType</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OSP_SHUTTER_GLOBAL</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OSPShutterType</span></code> for motion blur, also allowed are:</p></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OSP_SHUTTER_ROLLING_RIGHT</span></code></p></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OSP_SHUTTER_ROLLING_LEFT</span></code></p></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OSP_SHUTTER_ROLLING_DOWN</span></code></p></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OSP_SHUTTER_ROLLING_UP</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>rollingShutterDuration</p></td>
<td><p>0</p></td>
<td><p>for a rolling shutter (see <code class="docutils literal notranslate"><span class="pre">shutterType</span></code>) the “open” time per line, in [0, <code class="docutils literal notranslate"><span class="pre">shutter</span></code>.upper-<code class="docutils literal notranslate"><span class="pre">shutter</span></code>.lower]</p></td>
</tr>
</tbody>
</table>
<p>The camera is placed and oriented in the world with <code class="docutils literal notranslate"><span class="pre">position</span></code>, <code class="docutils literal notranslate"><span class="pre">direction</span></code> and <code class="docutils literal notranslate"><span class="pre">up</span></code>. Additionally, an extra transformation <code class="docutils literal notranslate"><span class="pre">transform</span></code> can be specified, which will only be applied to 3D vectors (i.e. <code class="docutils literal notranslate"><span class="pre">position</span></code>, <code class="docutils literal notranslate"><span class="pre">direction</span></code> and <code class="docutils literal notranslate"><span class="pre">up</span></code>), but does <em>not</em> affect any sizes (e.g., <code class="docutils literal notranslate"><span class="pre">nearClip</span></code>, <code class="docutils literal notranslate"><span class="pre">apertureRadius</span></code>, or <code class="docutils literal notranslate"><span class="pre">height</span></code>). The same holds for the array of transformations <code class="docutils literal notranslate"><span class="pre">motion.transform</span></code> to achieve camera motion blur (in combination with <code class="docutils literal notranslate"><span class="pre">time</span></code> and <code class="docutils literal notranslate"><span class="pre">shutter</span></code>).</p>
<p>OSPRay uses a right-handed coordinate system. The region of the camera sensor that is rendered to the image can be specified in normalized screen-space coordinates with <code class="docutils literal notranslate"><span class="pre">imageStart</span></code> (lower left corner) and <code class="docutils literal notranslate"><span class="pre">imageEnd</span></code> (upper right corner). This can be used, for example, to crop the image, to achieve asymmetrical view frusta, or to horizontally flip the image to view scenes which are specified in a left-handed coordinate system. Note that values outside the default range of [0–1] are valid, which is useful to easily realize overscan or film gate, or to emulate a shifted sensor.</p>
<section id="perspective-camera">
<h4>Perspective Camera<a class="headerlink" href="#perspective-camera" title="Permalink to this heading">#</a></h4>
<p>The perspective camera implements a simple thin lens camera for perspective rendering, supporting optionally depth of field and stereo rendering (with the <a class="reference external" href="#path-tracer">path tracer</a>). It is created by passing the type string “<code class="docutils literal notranslate"><span class="pre">perspective</span></code>” to <code class="docutils literal notranslate"><span class="pre">ospNewCamera</span></code>. In addition to the <a class="reference external" href="#cameras">general parameters</a> understood by all cameras the perspective camera supports the special parameters listed in the table below.</p>
<table class="table" id="id87">
<caption><span class="caption-text">Additional parameters accepted by the perspective camera.</span><a class="headerlink" href="#id87" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>float</p></td>
<td><p>fovy</p></td>
<td><p>60</p></td>
<td><p>the field of view (angle in degree) of the frame’s height</p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>aspect</p></td>
<td><p>1</p></td>
<td><p>ratio of width by height of the frame (and image region)</p></td>
</tr>
<tr class="row-even"><td><p>float</p></td>
<td><p>apertureRadius</p></td>
<td><p>0</p></td>
<td><p>size of the aperture, controls the depth of field</p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>focusDistance</p></td>
<td><p>1</p></td>
<td><p>distance at where the image is sharpest when depth of field is enabled</p></td>
</tr>
<tr class="row-even"><td><p>bool</p></td>
<td><p>architectural</p></td>
<td><p>false</p></td>
<td><p>vertical edges are projected to be parallel</p></td>
</tr>
<tr class="row-odd"><td><p>uchar</p></td>
<td><p>stereoMode</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OSP_STEREO_NONE</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OSPStereoMode</span></code> for stereo rendering, also allowed are:</p></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OSP_STEREO_LEFT</span></code></p></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OSP_STEREO_RIGHT</span></code></p></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OSP_STEREO_SIDE_BY_SIDE</span></code></p></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OSP_STEREO_TOP_BOTTOM</span></code> (left eye at top half)</p></td>
</tr>
<tr class="row-even"><td><p>float</p></td>
<td><p>interpupillaryDistance</p></td>
<td><p>0.0635</p></td>
<td><p>distance between left and right eye when stereo is enabled</p></td>
</tr>
</tbody>
</table>
<p>Note that when computing the <code class="docutils literal notranslate"><span class="pre">aspect</span></code> ratio a potentially set image region (using <code class="docutils literal notranslate"><span class="pre">imageStart</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">imageEnd</span></code>) needs to be regarded as well.</p>
<p>In architectural photography it is often desired for aesthetic reasons to display the vertical edges of buildings or walls vertically in the image as well, regardless of how the camera is tilted. Enabling the <code class="docutils literal notranslate"><span class="pre">architectural</span></code> mode achieves this by internally leveling the camera parallel to the ground (based on the <code class="docutils literal notranslate"><span class="pre">up</span></code> direction) and then shifting the lens such that the objects in direction <code class="docutils literal notranslate"><span class="pre">dir</span></code> are centered in the image. If finer control of the lens shift is needed use <code class="docutils literal notranslate"><span class="pre">imageStart</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">imageEnd</span></code>. Because the camera is now effectively leveled its image plane and thus the plane of focus is oriented parallel to the front of buildings, the whole façade appears sharp, as can be seen in the example images below. The resolution of the <a class="reference external" href="#framebuffer">framebuffer</a> is not altered by <code class="docutils literal notranslate"><span class="pre">imageStart</span></code>/<code class="docutils literal notranslate"><span class="pre">imageEnd</span></code>.</p>
<figure class="align-default" id="id88">
<a class="reference internal image-reference" href="https://ospray.github.io/images/camera_perspective.jpg"><img alt="Example image created with the perspective camera, featuring depth of field." src="https://ospray.github.io/images/camera_perspective.jpg" style="width: 60.0%;" /></a>
<figcaption>
<p><span class="caption-text">Example image created with the perspective camera, featuring depth of field.</span><a class="headerlink" href="#id88" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id89">
<a class="reference internal image-reference" href="https://ospray.github.io/images/camera_architectural.jpg"><img alt="Enabling the ``architectural`` flag corrects the perspective projection distortion, resulting in parallel vertical edges." src="https://ospray.github.io/images/camera_architectural.jpg" style="width: 60.0%;" /></a>
<figcaption>
<p><span class="caption-text">Enabling the <code class="docutils literal notranslate"><span class="pre">architectural</span></code> flag corrects the perspective projection distortion, resulting in parallel vertical edges.</span><a class="headerlink" href="#id89" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id90">
<a class="reference internal image-reference" href="https://ospray.github.io/images/camera_stereo.jpg"><img alt="Example 3D stereo image using ``stereoMode = OSP_STEREO_SIDE_BY_SIDE``." src="https://ospray.github.io/images/camera_stereo.jpg" style="width: 90.0%;" /></a>
<figcaption>
<p><span class="caption-text">Example 3D stereo image using <code class="docutils literal notranslate"><span class="pre">stereoMode</span> <span class="pre">=</span> <span class="pre">OSP_STEREO_SIDE_BY_SIDE</span></code>.</span><a class="headerlink" href="#id90" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="orthographic-camera">
<h4>Orthographic Camera<a class="headerlink" href="#orthographic-camera" title="Permalink to this heading">#</a></h4>
<p>The orthographic camera implements a simple camera with orthographic projection, without support for depth. It is created by passing the type string “<code class="docutils literal notranslate"><span class="pre">orthographic</span></code>” to <code class="docutils literal notranslate"><span class="pre">ospNewCamera</span></code>. In addition to the <a class="reference external" href="#cameras">general parameters</a> understood by all cameras the orthographic camera supports the following special parameters:</p>
<table class="table" id="id91">
<caption><span class="caption-text">Additional parameters accepted by the orthographic camera.</span><a class="headerlink" href="#id91" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>float</p></td>
<td><p>height</p></td>
<td><p>size of the camera’s image plane in y, in world coordinates</p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>aspect</p></td>
<td><p>ratio of width by height of the frame</p></td>
</tr>
</tbody>
</table>
<p>For convenience the size of the camera sensor, and thus the extent of the scene that is captured in the image, can be controlled with the <code class="docutils literal notranslate"><span class="pre">height</span></code> parameter. The same effect can be achieved with <code class="docutils literal notranslate"><span class="pre">imageStart</span></code> and <code class="docutils literal notranslate"><span class="pre">imageEnd</span></code>, and both methods can be combined. In any case, the <code class="docutils literal notranslate"><span class="pre">aspect</span></code> ratio needs to be set accordingly to get an undistorted image.</p>
<figure class="align-default" id="id92">
<a class="reference internal image-reference" href="https://ospray.github.io/images/camera_orthographic.jpg"><img alt="Example image created with the orthographic camera." src="https://ospray.github.io/images/camera_orthographic.jpg" style="width: 60.0%;" /></a>
<figcaption>
<p><span class="caption-text">Example image created with the orthographic camera.</span><a class="headerlink" href="#id92" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="panoramic-camera">
<h4>Panoramic Camera<a class="headerlink" href="#panoramic-camera" title="Permalink to this heading">#</a></h4>
<p>The panoramic camera implements a simple camera with support for stereo rendering. It captures the complete surrounding with a latitude / longitude mapping and thus the rendered images should best have a ratio of 2:1. A panoramic camera is created by passing the type string “<code class="docutils literal notranslate"><span class="pre">panoramic</span></code>” to <code class="docutils literal notranslate"><span class="pre">ospNewCamera</span></code>. It is placed and oriented in the scene by using the <a class="reference external" href="#cameras">general parameters</a> understood by all cameras.</p>
<table class="table" id="id93">
<caption><span class="caption-text">Additional parameters accepted by the panoramic camera.</span><a class="headerlink" href="#id93" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>uchar</p></td>
<td><p>stereoMode</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OSPStereoMode</span></code> for stereo rendering, possible values are:</p></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OSP_STEREO_NONE</span></code> (default)</p></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OSP_STEREO_LEFT</span></code></p></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OSP_STEREO_RIGHT</span></code></p></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OSP_STEREO_SIDE_BY_SIDE</span></code></p></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OSP_STEREO_TOP_BOTTOM</span></code> (left eye at top half)</p></td>
</tr>
<tr class="row-even"><td><p>float</p></td>
<td><p>interpupillaryDistance</p></td>
<td><p>distance between left and right eye when stereo is enabled, default 0.0635</p></td>
</tr>
</tbody>
</table>
<figure class="align-default" id="id94">
<a class="reference internal image-reference" href="https://ospray.github.io/images/camera_panoramic.jpg"><img alt="Latitude / longitude map created with the panoramic camera." src="https://ospray.github.io/images/camera_panoramic.jpg" style="width: 90.0%;" /></a>
<figcaption>
<p><span class="caption-text">Latitude / longitude map created with the panoramic camera.</span><a class="headerlink" href="#id94" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
</section>
</section>
<section id="picking">
<h3>Picking<a class="headerlink" href="#picking" title="Permalink to this heading">#</a></h3>
<p>To get the world-space position of the geometry (if any) seen at [0–1] normalized screen-space pixel coordinates <code class="docutils literal notranslate"><span class="pre">screenPos_x</span></code> and <code class="docutils literal notranslate"><span class="pre">screenPos_y</span></code> use</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">ospPick</span><span class="p">(</span><span class="n">OSPPickResult</span><span class="w"> </span><span class="o">*</span><span class="p">,</span>
<span class="w">    </span><span class="n">OSPFrameBuffer</span><span class="p">,</span>
<span class="w">    </span><span class="n">OSPRenderer</span><span class="p">,</span>
<span class="w">    </span><span class="n">OSPCamera</span><span class="p">,</span>
<span class="w">    </span><span class="n">OSPWorld</span><span class="p">,</span>
<span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">screenPos_x</span><span class="p">,</span>
<span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">screenPos_y</span><span class="p">);</span>
</pre></div>
</div>
<p>The result is returned in the provided <code class="docutils literal notranslate"><span class="pre">OSPPickResult</span></code> struct:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">hasHit</span><span class="p">;</span>
<span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">worldPosition</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="w">    </span><span class="n">OSPInstance</span><span class="w"> </span><span class="n">instance</span><span class="p">;</span>
<span class="w">    </span><span class="n">OSPGeometricModel</span><span class="w"> </span><span class="n">model</span><span class="p">;</span>
<span class="w">    </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">primID</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">OSPPickResult</span><span class="p">;</span>
</pre></div>
</div>
<p>Note that <code class="docutils literal notranslate"><span class="pre">ospPick</span></code> considers exactly the same camera of the given renderer that is used to render an image, thus matching results can be expected. If the camera supports depth of field then the center of the lens and thus the center of the circle of confusion is used for picking. Note that the caller needs to <code class="docutils literal notranslate"><span class="pre">ospRelease</span></code> the <code class="docutils literal notranslate"><span class="pre">instance</span></code> and <code class="docutils literal notranslate"><span class="pre">model</span></code> handles of <code class="docutils literal notranslate"><span class="pre">OSPPickResult</span></code> once the information is not needed anymore.</p>
</section>
</section>
<section id="framebuffer">
<h2>Framebuffer<a class="headerlink" href="#framebuffer" title="Permalink to this heading">#</a></h2>
<p>The framebuffer holds the rendered 2D image (and optionally auxiliary information associated with pixels). To create a new framebuffer object of given size <code class="docutils literal notranslate"><span class="pre">size</span></code> (in pixels), color format, and channels use</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">OSPFrameBuffer</span><span class="w"> </span><span class="nf">ospNewFrameBuffer</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">size_x</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">size_y</span><span class="p">,</span>
<span class="w">    </span><span class="n">OSPFrameBufferFormat</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">OSP_FB_SRGBA</span><span class="p">,</span>
<span class="w">    </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">frameBufferChannels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">OSP_FB_COLOR</span><span class="p">);</span>
</pre></div>
</div>
<p>The parameter <code class="docutils literal notranslate"><span class="pre">format</span></code> describes the format the color buffer has <em>on the host</em>, and the format that <code class="docutils literal notranslate"><span class="pre">ospMapFrameBuffer</span></code> will eventually return. Valid values are:</p>
<table class="table" id="id95">
<caption><span class="caption-text">Supported color formats of the framebuffer that can be passed to <code class="docutils literal notranslate"><span class="pre">ospNewFrameBuffer</span></code>, i.e., valid constants of type <code class="docutils literal notranslate"><span class="pre">OSPFrameBufferFormat</span></code>.</span><a class="headerlink" href="#id95" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>OSP_FB_NONE</p></td>
<td><p>framebuffer will not be mapped by the application</p></td>
</tr>
<tr class="row-odd"><td><p>OSP_FB_RGBA8</p></td>
<td><p>8 bit [0–255] linear component red, green, blue, alpha</p></td>
</tr>
<tr class="row-even"><td><p>OSP_FB_SRGBA</p></td>
<td><p>8 bit sRGB gamma encoded color components, and linear alpha</p></td>
</tr>
<tr class="row-odd"><td><p>OSP_FB_RGBA32F</p></td>
<td><p>32 bit float components red, green, blue, alpha</p></td>
</tr>
</tbody>
</table>
<p>The parameter <code class="docutils literal notranslate"><span class="pre">frameBufferChannels</span></code> specifies which channels the framebuffer holds, and can be combined together by bitwise OR from the values of <code class="docutils literal notranslate"><span class="pre">OSPFrameBufferChannel</span></code> listed in the table below.</p>
<table class="table" id="id96">
<caption><span class="caption-text">Framebuffer channels constants (of type <code class="docutils literal notranslate"><span class="pre">OSPFrameBufferChannel</span></code>), naming optional information the framebuffer can store. These values can be combined by bitwise OR when passed to <code class="docutils literal notranslate"><span class="pre">ospNewFrameBuffer</span></code>.</span><a class="headerlink" href="#id96" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>OSP_FB_COLOR</p></td>
<td><p>RGB color including alpha</p></td>
</tr>
<tr class="row-odd"><td><p>OSP_FB_DEPTH</p></td>
<td><p>euclidean distance to the camera (<em>not</em> to the image plane), as linear 32 bit float; for multiple samples per pixel their minimum is taken</p></td>
</tr>
<tr class="row-even"><td><p>OSP_FB_ACCUM</p></td>
<td><p>accumulation buffer for progressive refinement</p></td>
</tr>
<tr class="row-odd"><td><p>OSP_FB_VARIANCE</p></td>
<td><p>for estimation of the current noise level if OSP_FB_ACCUM is also present, see <a class="reference external" href="#rendering">rendering</a></p></td>
</tr>
<tr class="row-even"><td><p>OSP_FB_NORMAL</p></td>
<td><p>accumulated world-space normal of the first non-specular hit, as vec3f</p></td>
</tr>
<tr class="row-odd"><td><p>OSP_FB_ALBEDO</p></td>
<td><p>accumulated material albedo (color without illumination) at the first hit, as vec3f</p></td>
</tr>
</tbody>
</table>
<p>If a certain channel value is <em>not</em> specified, the given buffer channel will not be present. Note that OSPRay makes a clear distinction between the <em>external</em> format of the framebuffer and the internal one: The external format is the format the user specifies in the <code class="docutils literal notranslate"><span class="pre">format</span></code> parameter; it specifies what color format OSPRay will eventually <em>return</em> the framebuffer to the application (when calling <code class="docutils literal notranslate"><span class="pre">ospMapFrameBuffer</span></code>): no matter what OSPRay uses internally, it will simply return a 2D array of pixels of that format, with possibly all kinds of reformatting, compression/decompression, etc., going on in-between the generation of the <em>internal</em> framebuffer and the mapping of the externally visible one.</p>
<p>In particular, <code class="docutils literal notranslate"><span class="pre">OSP_FB_NONE</span></code> is a perfectly valid pixel format for a framebuffer that an application will never map. For example, an application driving a display wall may well generate an intermediate framebuffer and eventually transfer its pixel to the individual displays using an <code class="docutils literal notranslate"><span class="pre">OSPImageOperation</span></code> <a class="reference external" href="#image-operation">image operation</a>.</p>
<p>The application can map the given channel of a framebuffer – and thus access the stored pixel information – via</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="nf">ospMapFrameBuffer</span><span class="p">(</span><span class="n">OSPFrameBuffer</span><span class="p">,</span><span class="w"> </span><span class="n">OSPFrameBufferChannel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">OSP_FB_COLOR</span><span class="p">);</span>
</pre></div>
</div>
<p>Note that <code class="docutils literal notranslate"><span class="pre">OSP_FB_ACCUM</span></code> or <code class="docutils literal notranslate"><span class="pre">OSP_FB_VARIANCE</span></code> cannot be mapped. The origin of the screen coordinate system in OSPRay is the lower left corner (as in OpenGL), thus the first pixel addressed by the returned pointer is the lower left pixel of the image.</p>
<p>A previously mapped channel of a framebuffer can be unmapped by passing the received pointer <code class="docutils literal notranslate"><span class="pre">mapped</span></code> to</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">ospUnmapFrameBuffer</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">mapped</span><span class="p">,</span><span class="w"> </span><span class="n">OSPFrameBuffer</span><span class="p">);</span>
</pre></div>
</div>
<p>The individual channels of a framebuffer can be cleared with</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">ospResetAccumulation</span><span class="p">(</span><span class="n">OSPFrameBuffer</span><span class="p">);</span>
</pre></div>
</div>
<p>This function will clear <em>all</em> accumulating buffers (<code class="docutils literal notranslate"><span class="pre">OSP_FB_VARIANCE</span></code>, <code class="docutils literal notranslate"><span class="pre">OSP_FB_NORMAL</span></code>, and <code class="docutils literal notranslate"><span class="pre">OSP_FB_ALBEDO</span></code>, if present) and resets the accumulation counter <code class="docutils literal notranslate"><span class="pre">accumID</span></code>. It is unspecified if the existing color and depth buffers are physically cleared when <code class="docutils literal notranslate"><span class="pre">ospResetAccumulation</span></code> is called.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">OSP_FB_VARIANCE</span></code> is specified, an estimate of the variance of the last accumulated frame can be queried with</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">float</span><span class="w"> </span><span class="nf">ospGetVariance</span><span class="p">(</span><span class="n">OSPFrameBuffer</span><span class="p">);</span>
</pre></div>
</div>
<p>Note this value is only updated after synchronizing with <code class="docutils literal notranslate"><span class="pre">OSP_FRAME_FINISHED</span></code>, as further described in <a class="reference external" href="#asynchronous-rendering">asynchronous rendering</a>. The estimated variance can be used by the application as a quality indicator and thus to decide whether to stop or to continue progressive rendering.</p>
<p>The framebuffer takes a list of pixel operations to be applied to the image in sequence as an <code class="docutils literal notranslate"><span class="pre">OSPData</span></code>. The pixel operations will be run in the order they are in the array.</p>
<table class="table" id="id97">
<caption><span class="caption-text">Parameters accepted by the framebuffer.</span><a class="headerlink" href="#id97" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>OSPImageOperation[]</p></td>
<td><p>imageOperation</p></td>
<td><p>ordered sequence of image operations</p></td>
</tr>
</tbody>
</table>
<section id="image-operation">
<h3>Image Operation<a class="headerlink" href="#image-operation" title="Permalink to this heading">#</a></h3>
<p>Image operations are functions that are applied to every pixel of a frame. Examples include post-processing, filtering, blending, tone mapping, or sending tiles to a display wall. To create a new pixel operation of given type <code class="docutils literal notranslate"><span class="pre">type</span></code> use</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">OSPImageOperation</span><span class="w"> </span><span class="nf">ospNewImageOperation</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">type</span><span class="p">);</span>
</pre></div>
</div>
<section id="tone-mapper">
<h4>Tone Mapper<a class="headerlink" href="#tone-mapper" title="Permalink to this heading">#</a></h4>
<p>The tone mapper is a pixel operation which implements a generic filmic tone mapping operator. Using the default parameters it approximates the Academy Color Encoding System (ACES). The tone mapper is created by passing the type string “<code class="docutils literal notranslate"><span class="pre">tonemapper</span></code>” to <code class="docutils literal notranslate"><span class="pre">ospNewImageOperation</span></code>. The tone mapping curve can be customized using the parameters listed in the table below.</p>
<table class="table" id="id98">
<caption><span class="caption-text">Parameters accepted by the tone mapper.</span><a class="headerlink" href="#id98" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>float</p></td>
<td><p>exposure</p></td>
<td><p>1.0</p></td>
<td><p>amount of light per unit area</p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>contrast</p></td>
<td><p>1.6773</p></td>
<td><p>contrast (toe of the curve); typically is in [1–2]</p></td>
</tr>
<tr class="row-even"><td><p>float</p></td>
<td><p>shoulder</p></td>
<td><p>0.9714</p></td>
<td><p>highlight compression (shoulder of the curve); typically is in [0.9–1]</p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>midIn</p></td>
<td><p>0.18</p></td>
<td><p>mid-level anchor input; default is 18% gray</p></td>
</tr>
<tr class="row-even"><td><p>float</p></td>
<td><p>midOut</p></td>
<td><p>0.18</p></td>
<td><p>mid-level anchor output; default is 18% gray</p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>hdrMax</p></td>
<td><p>11.0785</p></td>
<td><p>maximum HDR input that is not clipped</p></td>
</tr>
<tr class="row-even"><td><p>bool</p></td>
<td><p>acesColor</p></td>
<td><p>true</p></td>
<td><p>apply the ACES color transforms</p></td>
</tr>
</tbody>
</table>
<p>To use the popular “Uncharted 2” filmic tone mapping curve instead, set the parameters to the values listed in the table below.</p>
<table class="table" id="id99">
<caption><span class="caption-text">Filmic tone mapping curve parameters. Note that the curve includes an exposure bias to match 18% middle gray.</span><a class="headerlink" href="#id99" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>contrast</p></td>
<td><p>1.1759</p></td>
</tr>
<tr class="row-odd"><td><p>shoulder</p></td>
<td><p>0.9746</p></td>
</tr>
<tr class="row-even"><td><p>midIn</p></td>
<td><p>0.18</p></td>
</tr>
<tr class="row-odd"><td><p>midOut</p></td>
<td><p>0.18</p></td>
</tr>
<tr class="row-even"><td><p>hdrMax</p></td>
<td><p>6.3704</p></td>
</tr>
<tr class="row-odd"><td><p>acesColor</p></td>
<td><p>false</p></td>
</tr>
</tbody>
</table>
</section>
<section id="denoiser">
<h4>Denoiser<a class="headerlink" href="#denoiser" title="Permalink to this heading">#</a></h4>
<p>OSPRay comes with a module that adds support for Intel® Open Image Denoise. This is provided as an optional module as it creates an additional project dependency at compile time. The module implements a “<code class="docutils literal notranslate"><span class="pre">denoiser</span></code>” frame operation, which denoises the entire frame before the frame is completed.</p>
</section>
</section>
</section>
<section id="rendering">
<h2>Rendering<a class="headerlink" href="#rendering" title="Permalink to this heading">#</a></h2>
<section id="asynchronous-rendering">
<h3>Asynchronous Rendering<a class="headerlink" href="#asynchronous-rendering" title="Permalink to this heading">#</a></h3>
<p>Rendering is by default asynchronous (non-blocking), and is done by combining a framebuffer, renderer, camera, and world.</p>
<p>What to render and how to render it depends on the renderer’s parameters. If the framebuffer supports accumulation (i.e., it was created with <code class="docutils literal notranslate"><span class="pre">OSP_FB_ACCUM</span></code>) then successive calls to <code class="docutils literal notranslate"><span class="pre">ospRenderFrame</span></code> will progressively refine the rendered image.</p>
<p>To start an render task, use</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">OSPFuture</span><span class="w"> </span><span class="nf">ospRenderFrame</span><span class="p">(</span><span class="n">OSPFrameBuffer</span><span class="p">,</span><span class="w"> </span><span class="n">OSPRenderer</span><span class="p">,</span><span class="w"> </span><span class="n">OSPCamera</span><span class="p">,</span><span class="w"> </span><span class="n">OSPWorld</span><span class="p">);</span>
</pre></div>
</div>
<p>This returns an <code class="docutils literal notranslate"><span class="pre">OSPFuture</span></code> handle, which can be used to synchronize with the application, cancel, or query for progress of the running task. When <code class="docutils literal notranslate"><span class="pre">ospRenderFrame</span></code> is called, there is no guarantee when the associated task will begin execution.</p>
<p>Progress of a running frame can be queried with the following API function</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">float</span><span class="w"> </span><span class="nf">ospGetProgress</span><span class="p">(</span><span class="n">OSPFuture</span><span class="p">);</span>
</pre></div>
</div>
<p>This returns the approximated progress of the task in [0-1].</p>
<p>Applications can cancel a currently running asynchronous operation via</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">ospCancel</span><span class="p">(</span><span class="n">OSPFuture</span><span class="p">);</span>
</pre></div>
</div>
<p>Applications can wait on the result of an asynchronous operation, or choose to only synchronize with a specific event. To synchronize with an <code class="docutils literal notranslate"><span class="pre">OSPFuture</span></code> use</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">ospWait</span><span class="p">(</span><span class="n">OSPFuture</span><span class="p">,</span><span class="w"> </span><span class="n">OSPSyncEvent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">OSP_TASK_FINISHED</span><span class="p">);</span>
</pre></div>
</div>
<p>The following are values which can be synchronized with the application</p>
<table class="table" id="id100">
<caption><span class="caption-text">Supported events that can be passed to <code class="docutils literal notranslate"><span class="pre">ospWait</span></code>.</span><a class="headerlink" href="#id100" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>OSP_NONE_FINISHED</p></td>
<td><p>Do not wait for anything to be finished (immediately return from <code class="docutils literal notranslate"><span class="pre">ospWait</span></code>)</p></td>
</tr>
<tr class="row-odd"><td><p>OSP_WORLD_COMMITTED</p></td>
<td><p>Wait for the world to be committed (not yet implemented)</p></td>
</tr>
<tr class="row-even"><td><p>OSP_WORLD_RENDERED</p></td>
<td><p>Wait for the world to be rendered, but not post-processing operations (Pixel/Tile/Frame Op)</p></td>
</tr>
<tr class="row-odd"><td><p>OSP_FRAME_FINISHED</p></td>
<td><p>Wait for all rendering operations to complete</p></td>
</tr>
<tr class="row-even"><td><p>OSP_TASK_FINISHED</p></td>
<td><p>Wait on full completion of the task associated with the future. The underlying task may involve one or more of the above synchronization events</p></td>
</tr>
</tbody>
</table>
<p>Currently only rendering can be invoked asynchronously. However, future releases of OSPRay may add more asynchronous versions of API calls (and thus return <code class="docutils literal notranslate"><span class="pre">OSPFuture</span></code>).</p>
<p>Applications can query whether particular events are complete with</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">ospIsReady</span><span class="p">(</span><span class="n">OSPFuture</span><span class="p">,</span><span class="w"> </span><span class="n">OSPSyncEvent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">OSP_TASK_FINISHED</span><span class="p">);</span>
</pre></div>
</div>
<p>As the given running task runs (as tracked by the <code class="docutils literal notranslate"><span class="pre">OSPFuture</span></code>), applications can query a boolean [0, 1] result if the passed event has been completed.</p>
<p>Applications can query how long an async task ran with</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">float</span><span class="w"> </span><span class="nf">ospGetTaskDuration</span><span class="p">(</span><span class="n">OSPFuture</span><span class="p">);</span>
</pre></div>
</div>
<p>This returns the wall clock execution time of the task in seconds. If the task is still running, this will block until the task is completed. This is useful for applications to query exactly how long an asynchronous task executed without the overhead of measuring both task execution + synchronization by the calling application.</p>
</section>
<section id="asynchronously-rendering-and-ospcommit">
<h3>Asynchronously Rendering and ospCommit()<a class="headerlink" href="#asynchronously-rendering-and-ospcommit" title="Permalink to this heading">#</a></h3>
<p>The use of either <code class="docutils literal notranslate"><span class="pre">ospRenderFrame</span></code> or <code class="docutils literal notranslate"><span class="pre">ospRenderFrame</span></code> requires that all objects in the scene being rendered have been committed before rendering occurs. If a call to <code class="docutils literal notranslate"><span class="pre">ospCommit()</span></code> happens while a frame is rendered, the result is undefined behavior and should be avoided.</p>
</section>
<section id="synchronous-rendering">
<h3>Synchronous Rendering<a class="headerlink" href="#synchronous-rendering" title="Permalink to this heading">#</a></h3>
<p>For convenience in certain use cases, <code class="docutils literal notranslate"><span class="pre">ospray_util.h</span></code> provides a synchronous version of <code class="docutils literal notranslate"><span class="pre">ospRenderFrame</span></code>:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">float</span><span class="w"> </span><span class="nf">ospRenderFrameBlocking</span><span class="p">(</span><span class="n">OSPFrameBuffer</span><span class="p">,</span><span class="w"> </span><span class="n">OSPRenderer</span><span class="p">,</span><span class="w"> </span><span class="n">OSPCamera</span><span class="p">,</span><span class="w"> </span><span class="n">OSPWorld</span><span class="p">);</span>
</pre></div>
</div>
<p>This version is the equivalent of:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">ospRenderFrame</span>
<span class="n">ospWait</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="w"> </span><span class="n">OSP_TASK_FINISHED</span><span class="p">)</span>
<span class="k">return</span><span class="w"> </span><span class="n">ospGetVariance</span><span class="p">(</span><span class="n">fb</span><span class="p">)</span>
</pre></div>
</div>
<p>This version is closest to <code class="docutils literal notranslate"><span class="pre">ospRenderFrame</span></code> from OSPRay v1.x.</p>
</section>
</section>
</section>
<section id="distributed-rendering-with-mpi">
<h1>Distributed Rendering with MPI<a class="headerlink" href="#distributed-rendering-with-mpi" title="Permalink to this heading">#</a></h1>
<p>The purpose of the MPI module for OSPRay is to provide distributed rendering capabilities for OSPRay. The module enables image- and data-parallel rendering across HPC clusters using MPI, allowing applications to transparently distribute rendering work, or to render data sets which are too large to fit in memory on a single machine.</p>
<p>The MPI module provides two OSPRay devices to allow applications to leverage distributed rendering capabilities. The <code class="docutils literal notranslate"><span class="pre">mpiOffload</span></code> device provides transparent image-parallel rendering, where the same OSPRay application written for local rendering can be replicated across multiple nodes to distribute the rendering work. The <code class="docutils literal notranslate"><span class="pre">mpiDistributed</span></code> device allows MPI distributed applications to use OSPRay for distributed rendering, where each rank can render and independent piece of a global data set, or hybrid rendering where ranks partially or completely share data.</p>
<section id="mpi-offload-rendering">
<h2>MPI Offload Rendering<a class="headerlink" href="#mpi-offload-rendering" title="Permalink to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">mpiOffload</span></code> device can be used to distribute image rendering tasks across a cluster without requiring modifications to the application itself. Existing applications using OSPRay for local rendering simply be passed command line arguments to load the module and indicate that the <code class="docutils literal notranslate"><span class="pre">mpiOffload</span></code> device should be used for image-parallel rendering. To load the module, pass <code class="docutils literal notranslate"><span class="pre">--osp:load-modules=mpi</span></code>, to select the MPIOffloadDevice, pass <code class="docutils literal notranslate"><span class="pre">--osp:device=mpiOffload</span></code>. For example, the <code class="docutils literal notranslate"><span class="pre">ospExamples</span></code> application can be run as:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>mpirun<span class="w"> </span>-n<span class="w"> </span>&lt;N&gt;<span class="w"> </span>./ospExamples<span class="w"> </span>--osp:load-modules<span class="o">=</span>mpi<span class="w"> </span>--osp:device<span class="o">=</span>mpiOffload
</pre></div>
</div>
<p>and will automatically distribute the image rendering tasks among the corresponding <code class="docutils literal notranslate"><span class="pre">N</span></code> nodes. Note that in this configuration rank 0 will act as a master/application rank, and will run the user application code but not perform rendering locally. Thus, a minimum of 2 ranks are required, one master to run the application and one worker to perform the rendering. Running with 3 ranks for example would now distribute half the image rendering work to rank 1 and half to rank 2.</p>
<p>If more control is required over the placement of ranks to nodes, or you want to run a worker rank on the master node as well you can run the application and the <code class="docutils literal notranslate"><span class="pre">ospray_mpi_worker</span></code> program through MPI’s MPMD mode. The <code class="docutils literal notranslate"><span class="pre">ospray_mpi_worker</span></code> will load the MPI module and select the offload device by default.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>mpirun<span class="w"> </span>-n<span class="w"> </span><span class="m">1</span><span class="w"> </span>./ospExamples<span class="w"> </span>--osp:load-modules<span class="o">=</span>mpi<span class="w"> </span>--osp:device<span class="o">=</span>mpiOffload<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>:<span class="w"> </span>-n<span class="w"> </span>&lt;N&gt;<span class="w"> </span>./ospray_mpi_worker
</pre></div>
</div>
<p>If initializing the <code class="docutils literal notranslate"><span class="pre">mpiOffload</span></code> device manually, or passing parameters through the command line, the following parameters can be set:</p>
<table class="table" id="id101">
<caption><span class="caption-text">Parameters specific to the <code class="docutils literal notranslate"><span class="pre">mpiOffload</span></code> Device.</span><a class="headerlink" href="#id101" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>string</p></td>
<td><p>mpiMode</p></td>
<td><p>mpi</p></td>
<td><p>The mode to communicate with the worker ranks. <code class="docutils literal notranslate"><span class="pre">mpi</span></code> will assume you’re launching the application and workers in the same mpi command (or split launch command). <code class="docutils literal notranslate"><span class="pre">mpi</span></code> is the only supported mode</p></td>
</tr>
<tr class="row-odd"><td><p>uint</p></td>
<td><p>maxCommandBufferEntries</p></td>
<td><p>8192</p></td>
<td><p>Set the max number of commands to buffer before submitting the command buffer to the workers</p></td>
</tr>
<tr class="row-even"><td><p>uint</p></td>
<td><p>commandBufferSize</p></td>
<td><p>512 MiB</p></td>
<td><p>Set the max command buffer size to allow. Units are in MiB. Max size is 1.8 GiB</p></td>
</tr>
<tr class="row-odd"><td><p>uint</p></td>
<td><p>maxInlineDataSize</p></td>
<td><p>32 MiB</p></td>
<td><p>Set the max size of an OSPData which can be inline’d into the command buffer instead of being sent separately. Max size is half the commandBufferSize. Units are in MiB</p></td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal notranslate"><span class="pre">maxCommandBufferEntries</span></code>, <code class="docutils literal notranslate"><span class="pre">commandBufferSize</span></code>, and <code class="docutils literal notranslate"><span class="pre">maxInlineDataSize</span></code> can also be set via the environment variables: <code class="docutils literal notranslate"><span class="pre">OSPRAY_MPI_MAX_COMMAND_BUFFER_ENTRIES</span></code>, <code class="docutils literal notranslate"><span class="pre">OSPRAY_MPI_COMMAND_BUFFER_SIZE</span></code>, and <code class="docutils literal notranslate"><span class="pre">OSPRAY_MPI_MAX_INLINE_DATA_SIZE</span></code>, respectively.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">mpiOffload</span></code> device does not support multiple init/shutdown cycles. Thus, to run <code class="docutils literal notranslate"><span class="pre">ospBenchmark</span></code> for this device make sure to exclude the init/shutdown test by passing <code class="docutils literal notranslate"><span class="pre">--benchmark_filter=-ospInit_ospShutdown</span></code> through the command line.</p>
</section>
<section id="mpi-distributed-rendering">
<h2>MPI Distributed Rendering<a class="headerlink" href="#mpi-distributed-rendering" title="Permalink to this heading">#</a></h2>
<p>While MPI Offload rendering is used to transparently distribute rendering work without requiring modification to the application, MPI Distributed rendering is targeted at use of OSPRay within MPI-parallel applications. The MPI distributed device can be selected by loading the <code class="docutils literal notranslate"><span class="pre">mpi</span></code> module, and manually creating and using an instance of the <code class="docutils literal notranslate"><span class="pre">mpiDistributed</span></code> device:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">ospLoadModule</span><span class="p">(</span><span class="s">&quot;mpi&quot;</span><span class="p">);</span>

<span class="n">OSPDevice</span><span class="w"> </span><span class="n">mpiDevice</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ospNewDevice</span><span class="p">(</span><span class="s">&quot;mpiDistributed&quot;</span><span class="p">);</span>
<span class="n">ospDeviceCommit</span><span class="p">(</span><span class="n">mpiDevice</span><span class="p">);</span>
<span class="n">ospSetCurrentDevice</span><span class="p">(</span><span class="n">mpiDevice</span><span class="p">);</span>
</pre></div>
</div>
<p>Your application can either initialize MPI before-hand, ensuring that <code class="docutils literal notranslate"><span class="pre">MPI_THREAD_SERIALIZED</span></code> or higher is supported, or allow the device to initialize MPI on commit. Thread multiple support is required if your application will make MPI calls while rendering asynchronously with OSPRay. When using the distributed device each rank can specify independent local data using the OSPRay API, as if rendering locally. However, when calling <code class="docutils literal notranslate"><span class="pre">ospRenderFrameAsync</span></code> the ranks will work collectively to render the data. The distributed device supports both image-parallel, where the data is replicated, and data-parallel, where the data is distributed, rendering modes. The <code class="docutils literal notranslate"><span class="pre">mpiDistributed</span></code> device will by default use each rank in <code class="docutils literal notranslate"><span class="pre">MPI_COMM_WORLD</span></code> as a render worker; however, it can also take a specific MPI communicator to use as the world communicator. Only those ranks in the specified communicator will participate in rendering.</p>
<table class="table" id="id102">
<caption><span class="caption-text">Parameters specific to the distributed <code class="docutils literal notranslate"><span class="pre">mpiDistributed</span></code> Device.</span><a class="headerlink" href="#id102" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>void *</p></td>
<td><p>worldCommunicator</p></td>
<td><p>MPI_COMM_WORLD</p></td>
<td><p>The MPI communicator which the OSPRay workers should treat as their world</p></td>
</tr>
</tbody>
</table>
<table class="table" id="id103">
<caption><span class="caption-text">Parameters specific to the distributed <code class="docutils literal notranslate"><span class="pre">OSPWorld</span></code>.</span><a class="headerlink" href="#id103" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>box3f[]</p></td>
<td><p>region</p></td>
<td><p>NULL</p></td>
<td><p>A list of bounding boxes which bound the owned local data to be rendered by the rank</p></td>
</tr>
</tbody>
</table>
<table class="table" id="id104">
<caption><span class="caption-text">Parameters specific to the <code class="docutils literal notranslate"><span class="pre">mpiRaycast</span></code> renderer.</span><a class="headerlink" href="#id104" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>int</p></td>
<td><p>aoSamples</p></td>
<td><p>0</p></td>
<td><p>The number of AO samples to take per-pixel</p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>aoDistance</p></td>
<td><p>10<sup>20</sup></p></td>
<td><p>The AO ray length to use. Note that if the AO ray would have crossed a rank boundary and ghost geometry is not available, there will be visible artifacts in the shading</p></td>
</tr>
</tbody>
</table>
<section id="image-parallel-rendering-in-the-mpi-distributed-device">
<h3>Image Parallel Rendering in the MPI Distributed Device<a class="headerlink" href="#image-parallel-rendering-in-the-mpi-distributed-device" title="Permalink to this heading">#</a></h3>
<p>If all ranks specify exactly the same data, the distributed device can be used for image-parallel rendering. This works identical to the offload device, except that the MPI-aware application is able to load data in parallel on each rank rather than loading on the master and shipping data out to the workers. When a parallel file system is available, this can improve data load times. Image-parallel rendering is selected by specifying the same data on each rank, and using any of the existing local renderers (e.g., <code class="docutils literal notranslate"><span class="pre">scivis</span></code>, <code class="docutils literal notranslate"><span class="pre">pathtracer</span></code>). See <a class="reference external" href="https://github.com/ospray/ospray/blob/master/modules/mpi/tutorials/ospMPIDistribTutorialReplicated.cpp">ospMPIDistribTutorialReplicated</a> for an example.</p>
</section>
<section id="data-parallel-rendering-in-the-mpi-distributed-device">
<h3>Data Parallel Rendering in the MPI Distributed Device<a class="headerlink" href="#data-parallel-rendering-in-the-mpi-distributed-device" title="Permalink to this heading">#</a></h3>
<p>The MPI Distributed device also supports data-parallel rendering with sort-last compositing. Each rank can specify a different piece of data, as long as the bounding boxes of each rank’s data are non-overlapping. The rest of the scene setup is similar to local rendering; however, for distributed rendering only the <code class="docutils literal notranslate"><span class="pre">mpiRaycast</span></code> renderer is supported. This renderer implements a subset of the <code class="docutils literal notranslate"><span class="pre">scivis</span></code> rendering features which are suitable for implementation in a distributed environment.</p>
<p>By default the aggregate bounding box of the instances in the local world will be used as the bounds of that rank’s data. However, when using ghost zones for volume interpolation, geometry or ambient occlusion, each rank’s data can overlap. To clip these non-owned overlap regions out a set of regions (the <code class="docutils literal notranslate"><span class="pre">region</span></code> parameter) can pass as a parameter to the <code class="docutils literal notranslate"><span class="pre">OSPWorld</span></code> being rendered. Each rank can specify one or more non-overlapping <code class="docutils literal notranslate"><span class="pre">box3f</span></code>’s which bound the portions of its local data which it is responsible for rendering. See the <a class="reference external" href="https://github.com/ospray/ospray/blob/master/modules/mpi/tutorials/ospMPIDistribTutorialVolume.cpp">ospMPIDistribTutorialVolume</a> for an example.</p>
<p>Finally, the MPI distributed device also supports hybrid-parallel rendering, where multiple ranks can share a single piece of data. For each shared piece of data the rendering work will be assigned image-parallel among the ranks. Partially-shared regions are determined by finding those ranks specifying data with the same bounds (matching regions) and merging them. See the <a class="reference external" href="https://github.com/ospray/ospray/blob/master/modules/mpi/tutorials/ospMPIDistribTutorialPartialRepl.cpp">ospMPIDistribTutorialPartialRepl</a> for an example.</p>
<section id="picking-on-distributed-data-in-the-mpi-distributed-device">
<h4>Picking on Distributed Data in the MPI Distributed Device<a class="headerlink" href="#picking-on-distributed-data-in-the-mpi-distributed-device" title="Permalink to this heading">#</a></h4>
<p>Calling <code class="docutils literal notranslate"><span class="pre">ospPick</span></code> in the distributed device will find and return the closest global object at the screen position on the rank that owns that object. The other ranks will report no hit. Picking in the distributed device takes into account data clipping applied through the <code class="docutils literal notranslate"><span class="pre">regions</span></code> parameter to avoid picking ghost data.</p>
</section>
</section>
</section>
<section id="interaction-with-user-modules">
<h2>Interaction with User Modules<a class="headerlink" href="#interaction-with-user-modules" title="Permalink to this heading">#</a></h2>
<p>The MPI Offload rendering mode trivially supports user modules, with the caveat that attempting to share data directly with the application (e.g., passing a <code class="docutils literal notranslate"><span class="pre">void\</span> <span class="pre">*</span></code> or other tricks to the module) will not work in a distributed environment. Instead, use the <code class="docutils literal notranslate"><span class="pre">ospNewSharedData</span></code> API to share data from the application with OSPRay, which will in turn be copied over the network to the workers.</p>
<p>The MPI Distributed device also supports user modules, as all that is required for compositing the distributed data are the bounds of each rank’s local data.</p>
</section>
</section>
<section id="multidevice-rendering">
<h1>MultiDevice Rendering<a class="headerlink" href="#multidevice-rendering" title="Permalink to this heading">#</a></h1>
<p>The multidevice module is an experimental OSPRay device type that renders images by delegating off pixel tiles to a number of internal delegate OSPRay devices. Multidevice is in still in an development stage and is currently limited to automatically creating ISPCDevice delegates.</p>
<p>If you wish to try it set the OSPRAY_NUM_SUBDEVICES environmental variable to the number of subdevices you want to create and tell OSPRay to both load the multidevice extension and create a multidevice for rendering instead of the default ISPCDevice.</p>
<p>One example in a bash like shell is as follows:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="nv">OSPRAY_NUM_SUBDEVICES</span><span class="o">=</span><span class="m">6</span><span class="w"> </span>./ospTutorial<span class="w"> </span>--osp:load-modules<span class="o">=</span>multidevice<span class="w"> </span>--osp:device<span class="o">=</span>multidevice
</pre></div>
</div>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id8" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p>The number of items to be copied is defined by the size of the source array.</p>
</aside>
<aside class="footnote brackets" id="id9" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">2</a><span class="fn-bracket">]</span></span>
<p>For consecutive memory addresses the x-index of the corresponding voxel changes the quickest.</p>
</aside>
<aside class="footnote brackets" id="id10" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id3">3</a><span class="fn-bracket">]</span></span>
<p>actually a parallelogram</p>
</aside>
<aside class="footnote brackets" id="id11" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id4">4</a><span class="fn-bracket">]</span></span>
<p>including spheres, boxes, infinite planes, closed meshes, closed subdivisions and curves</p>
</aside>
<aside class="footnote brackets" id="id12" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id5">5</a><span class="fn-bracket">]</span></span>
<p><code class="docutils literal notranslate"><span class="pre">OSPBounds</span></code> has essentially the same layout as the <code class="docutils literal notranslate"><span class="pre">OSP_BOX3F</span></code> <code class="docutils literal notranslate"><span class="pre">`OSPDataType</span></code> &lt;#data&gt;`__.</p>
</aside>
<aside class="footnote brackets" id="id13" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id6">6</a><span class="fn-bracket">]</span></span>
<p>If there are multiple ambient lights then their contribution is added.</p>
</aside>
<aside class="footnote brackets" id="id14" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id7">7</a><span class="fn-bracket">]</span></span>
<p>respectively <span class="math notranslate nohighlight">\((127, 127, 255)\)</span> for 8 bit textures and <span class="math notranslate nohighlight">\((32767, 32767, 65535)\)</span> for 16 bit textures</p>
</aside>
</aside>
</section>


                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="ospray-intro.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Introduction</p>
      </div>
    </a>
    <a class="right-next"
       href="appendices.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Appendices</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">OSPRay API</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#initialization-and-shutdown">Initialization and Shutdown</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#command-line-arguments">Command Line Arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#manual-device-instantiation">Manual Device Instantiation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#environment-variables">Environment Variables</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#error-handling-and-status-messages">Error Handling and Status Messages</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#loading-ospray-extensions-at-runtime">Loading OSPRay Extensions at Runtime</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#shutting-down-ospray">Shutting Down OSPRay</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#objects">Objects</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#parameters">Parameters</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#data">Data</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#volumes">Volumes</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#structured-regular-volume">Structured Regular Volume</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#structured-spherical-volume">Structured Spherical Volume</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#adaptive-mesh-refinement-amr-volume">Adaptive Mesh Refinement (AMR) Volume</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#unstructured-volume">Unstructured Volume</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#vdb-volume">VDB Volume</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#particle-volume">Particle Volume</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#transfer-function">Transfer Function</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#volumetricmodels">VolumetricModels</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#geometries">Geometries</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mesh">Mesh</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#subdivision">Subdivision</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#spheres">Spheres</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#curves">Curves</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#boxes">Boxes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#planes">Planes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#isosurfaces">Isosurfaces</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#geometricmodels">GeometricModels</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lights">Lights</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#directional-light-distant-light">Directional Light / Distant Light</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#point-light-sphere-light">Point Light / Sphere Light</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#spotlight-photometric-light">Spotlight / Photometric Light</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#quad-light">Quad Light</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cylinder-light">Cylinder Light</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#hdri-light">HDRI Light</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ambient-light">Ambient Light</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sun-sky-light">Sun-Sky Light</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#emissive-objects">Emissive Objects</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#scene-hierarchy">Scene Hierarchy</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#groups">Groups</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#instances">Instances</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#world">World</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#renderers">Renderers</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#scivis-renderer">SciVis Renderer</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ambient-occlusion-renderer">Ambient Occlusion Renderer</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#path-tracer">Path Tracer</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#materials">Materials</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#obj-material">OBJ Material</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#principled">Principled</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#carpaint">CarPaint</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#metal">Metal</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#alloy">Alloy</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#glass">Glass</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#thinglass">ThinGlass</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#metallicpaint">MetallicPaint</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#luminous">Luminous</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#texture">Texture</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#texture2d">Texture2D</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#volume-texture">Volume Texture</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#texture-transformations">Texture Transformations</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cameras">Cameras</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#perspective-camera">Perspective Camera</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#orthographic-camera">Orthographic Camera</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#panoramic-camera">Panoramic Camera</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#picking">Picking</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#framebuffer">Framebuffer</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#image-operation">Image Operation</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#tone-mapper">Tone Mapper</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#denoiser">Denoiser</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#rendering">Rendering</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#asynchronous-rendering">Asynchronous Rendering</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#asynchronously-rendering-and-ospcommit">Asynchronously Rendering and ospCommit()</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#synchronous-rendering">Synchronous Rendering</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#distributed-rendering-with-mpi">Distributed Rendering with MPI</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mpi-offload-rendering">MPI Offload Rendering</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mpi-distributed-rendering">MPI Distributed Rendering</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#image-parallel-rendering-in-the-mpi-distributed-device">Image Parallel Rendering in the MPI Distributed Device</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#data-parallel-rendering-in-the-mpi-distributed-device">Data Parallel Rendering in the MPI Distributed Device</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#picking-on-distributed-data-in-the-mpi-distributed-device">Picking on Distributed Data in the MPI Distributed Device</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#interaction-with-user-modules">Interaction with User Modules</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#multidevice-rendering">MultiDevice Rendering</a></li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2022, Intel Corporation.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>